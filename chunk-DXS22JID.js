import{a as N,b as Y}from"./chunk-PLIANRYQ.js";import{d as H,e as G}from"./chunk-ZGJ2SCUV.js";import"./chunk-4XPXTYOG.js";import{d as D,f as k,g as V}from"./chunk-2HFDSWQC.js";import"./chunk-XHLVS7FU.js";import"./chunk-JOWTQUES.js";import{c as j,d as U,f as F}from"./chunk-LCS6EYLH.js";import"./chunk-Q7T7GPG4.js";import"./chunk-A4HBTJ62.js";import"./chunk-QZIL3RNM.js";import"./chunk-GKWLEOQ4.js";import"./chunk-4632HB7Z.js";import"./chunk-66RYNZRF.js";import"./chunk-ERB5ATM7.js";import"./chunk-OFW6W57A.js";import"./chunk-CGO7NXBT.js";import{c as A,d as B}from"./chunk-GXVKBTVT.js";import"./chunk-RSTVJZ7U.js";import"./chunk-JVM3WL52.js";import"./chunk-PJHEGPYG.js";import"./chunk-J2UA6UJD.js";import"./chunk-6GF7UK45.js";import{Z as v}from"./chunk-CHX6FGWD.js";import"./chunk-HNFNR3GG.js";import"./chunk-PUECT5W6.js";import"./chunk-POJFSOR5.js";import{Ac as P,Bc as O,Ca as M,Hb as n,Ib as t,Jb as C,Nb as h,Ob as g,Pb as S,Wc as R,Xc as I,Yb as w,Zb as o,_a as a,_b as s,ea as m,hc as E,jc as L,kb as T,la as d,ma as u,pb as b,rc as x,sc as y,tc as _,xb as p}from"./chunk-CELOEL42.js";var z=i=>[".",i];function J(i,f){if(i&1){let e=h();n(0,"div",6)(1,"h2"),o(2,"Layout templates"),t(),n(3,"div",7)(4,"p-button",8),g("onClick",function(){d(e);let r=S();return u(r.navigateToCreatePage())}),t()()()}}function K(i,f){i&1&&(n(0,"tr")(1,"th"),o(2,"Id"),t(),n(3,"th"),o(4,"Name"),t(),n(5,"th"),o(6,"Description"),t(),n(7,"th"),o(8,"Created at"),t(),n(9,"th"),o(10,"Updated At"),t()())}function Q(i,f){if(i&1&&(n(0,"tr",9)(1,"td"),o(2),t(),n(3,"td"),o(4),t(),n(5,"td"),o(6),t(),n(7,"td"),o(8),x(9,"date"),t(),n(10,"td"),o(11),x(12,"date"),t(),C(13,"a",10),t()),i&2){let e=f.$implicit;p("pContextMenuRow",e),a(2),s(e.id),a(2),s(e.name),a(2),s(e.description),a(2),s(y(9,7,e.createdAt)),a(3),s(y(12,9,e.updatedAt)),a(2),p("routerLink",L(11,z,e.id))}}var de=(()=>{class i{constructor(){this.#e=m(G),this.#t=m(k),this.#n=m(D),this.#i=m(v),this.selectedTemplateSig=M(null),this.tableRowContextMenuItems=[{label:"Delete",icon:"pi pi-trash",command:()=>{let e=P(this.selectedTemplateSig);if(!e){console.warn("Trying to delete but template has not been selected");return}this.confirmDeleteTemplate(e.id)}}],this.loadingSig=this.#e.isPending,this.allLayoutTemplatesInfoSig=O(()=>this.#e.allUIElementTemplatesInfo().filter(l=>H.has(l.type)))}#e;#t;#n;#i;navigateToEditPage(e){this.#t.navigate([".",e],{relativeTo:this.#n})}navigateToCreatePage(){this.#t.navigate([".","create"],{relativeTo:this.#n})}confirmDeleteTemplate(e){this.#i.confirm({message:`Are you sure you want to delete template "${e}"?`,header:"Deletion confirmation",icon:"pi pi-info-circle",rejectLabel:"Cancel",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Delete",severity:"danger"},accept:()=>{this.#e.delete(e)}})}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275cmp=T({type:i,selectors:[["prime-ng-playground-builder-feat-layouts-list"]],features:[E([v])],decls:10,vars:6,consts:[["tableRowContextMenu",""],["caption",""],["header",""],["body",""],[3,"onHide","model"],[1,"table-container",3,"contextMenuSelectionChange","contextMenu","loading","showGridlines","stripedRows","value"],[1,"table-title-container"],[1,"table-title-container__actions-container"],["icon","pi pi-plus","iconPos","right","label","Create",3,"onClick"],[1,"data-row",3,"pContextMenuRow"],[1,"data-row__link-placeholder",3,"routerLink"]],template:function(l,r){if(l&1){let c=h();n(0,"p-contextmenu",4,0),g("onHide",function(){return d(c),u(r.selectedTemplateSig.set(null))}),t(),n(2,"p-table",5),g("contextMenuSelectionChange",function(q){return d(c),u(r.selectedTemplateSig.set(q))}),b(3,J,5,0,"ng-template",null,1,_)(5,K,11,0,"ng-template",null,2,_)(7,Q,14,13,"ng-template",null,3,_),t(),C(9,"p-confirmdialog")}if(l&2){let c=w(1);p("model",r.tableRowContextMenuItems),a(2),p("contextMenu",c)("loading",r.loadingSig())("showGridlines",!0)("stripedRows",!0)("value",r.allLayoutTemplatesInfoSig())}},dependencies:[F,j,U,B,A,N,I,R,Y,V],styles:["[_nghost-%COMP%]{padding:1rem;display:flex;justify-content:center;width:100vw}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title-container__actions-container[_ngcontent-%COMP%]{display:flex;gap:1rem}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .data-row__link-placeholder[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;cursor:pointer}"],changeDetection:0})}}return i})();export{de as LayoutsListComponent};
