import{a as J,b as Q,c as Y,d as Z,e as ee,f as te}from"./chunk-WLG4HSQZ.js";import{a as W}from"./chunk-N2LQX7VI.js";import{e as X,g as H}from"./chunk-7PVQWRKD.js";import"./chunk-5BGIWNYG.js";import{d as U,f as w}from"./chunk-UV6WKCAY.js";import"./chunk-JQNNOW5S.js";import"./chunk-OXQFDIO2.js";import{d as z}from"./chunk-43SUP5HI.js";import{a as G,b as R}from"./chunk-6BEFNIFV.js";import"./chunk-VKEGRMF3.js";import{b as N,c as o,e as k,f as j,g as V,h as g,j as A,k as q,l as D,n as $}from"./chunk-PZF2HUG4.js";import{a as L}from"./chunk-Q4XJYIXY.js";import"./chunk-5EH4PHE6.js";import"./chunk-5FDWUNFG.js";import{c as B}from"./chunk-ABBLJOL2.js";import"./chunk-POD54P5Y.js";import"./chunk-GDV3UKUI.js";import"./chunk-GLMHSY4W.js";import"./chunk-5YWNGEST.js";import{a as K}from"./chunk-RFEU6O4M.js";import"./chunk-ONUWX4Z3.js";import"./chunk-5SLFWW7S.js";import"./chunk-PAE2UDOJ.js";import"./chunk-EWAYVCWY.js";import"./chunk-7JQNGYFA.js";import"./chunk-6O3Z2ZPM.js";import"./chunk-WBS7JUSK.js";import"./chunk-4LRNZHQJ.js";import{c as x}from"./chunk-4YZRLV7F.js";import{Ab as S,Bb as F,Fb as _,Gb as i,Hb as p,Ib as s,Tb as P,_a as l,a as E,b as I,e as h,f as C,g as T,gc as f,h as y,hc as M,ia as b,jb as O}from"./chunk-UJ7YJEPZ.js";function ie(c,a){c&1&&s(0,"p-progress-spinner",0)}var Ee=(()=>{var a,d,u,v;let m=class m{constructor(){C(this,u);C(this,a);C(this,d);this.uiElementTemplatesStore=b(X),T(this,a,b(w)),T(this,d,b(U)),this.createUIElementForm=new V({id:new g("",{nonNullable:!0,validators:[o.required,te(),ee(),o.minLength(5),o.maxLength(50)]}),type:new g("SIMPLE_TEXT",{nonNullable:!0}),name:new g("",{nonNullable:!0,validators:[o.required,o.minLength(5),o.maxLength(50)]}),description:new g("",{nonNullable:!0,validators:[o.maxLength(150)]})}),this.uiElementTypes=Object.entries(H).map(([n,t])=>({key:n,label:t}))}async createUIElementTemplate(){if(this.createUIElementForm.invalid)return;let n=await this.uiElementTemplatesStore.add(I(E({},this.createUIElementForm.getRawValue()),{options:{}}));await h(this,a).navigate(["builder","ui-element",n.id])}getFieldLabel(n){let t=x(n),e=this.createUIElementForm.controls[n],r=e.errors;if(e.untouched&&e.pristine||!r)return t;e.pristine&&e.markAsDirty();let ne=y(this,u,v).call(this,r);return`${t}: Errors: ${ne.join(", ")}`}getFormSubmitButtonTooltip(){if(!this.createUIElementForm.invalid)return"";let n=[];for(let[t,e]of Object.entries(this.createUIElementForm.controls)){if(!e.errors)continue;let r=y(this,u,v).call(this,e.errors);n.push(`Field ${t} has the following errors:
 ${r.join(`
`)}`)}return n.join(`
`)}navigateToViewAllPage(){return h(this,a).navigate([".",{relativeTo:h(this,d)}])}};a=new WeakMap,d=new WeakMap,u=new WeakSet,v=function(n){let t=[];for(let[e,r]of Object.entries(n))switch(e){case"required":{t.push("This field is required");break}case"minlength":{t.push(`This field needs to be at least ${r.requiredLength} characters long`);break}case"maxlength":{t.push(`This field cannot exceed ${r.requiredLength} characters long`);break}case"idNotUnique":{t.push("This ID has already been taken");break}case"isAlphaNumeric":{t.push("This field must be alphanumeric");break}default:t.push("Unknown validation errors. Please try again later"),console.warn(`${e} is an unknown validation error that does not have any handler`)}return t},m.\u0275fac=function(t){return new(t||m)},m.\u0275cmp=O({type:m,selectors:[["prime-ng-playground-builder-feat-create-ui-element-template"]],decls:22,vars:8,consts:[["ariaLabel","loading",1,"progress-spinner"],["header","Create UI Element"],[1,"form-container",3,"ngSubmit","formGroup"],[1,"id-input-field"],["autocomplete","off","formControlName","id","id","id","pInputText",""],["for","id"],[1,"name-input-field"],["autocomplete","off","formControlName","name","id","name","pInputText",""],["for","name"],[1,"type-input-field"],["formControlName","type","inputId","type","optionValue","key","placeholder","Select the UI type",3,"options"],["for","type"],[1,"description-input-field"],["cols","30","formControlName","description","name","description","pTextarea","","rows","5"],["for","description"],[1,"btn-container"],["label","Create","type","submit",3,"disabled","pTooltip"],["label","Cancel","severity","danger",3,"onClick"]],template:function(t,e){t&1&&(S(0,ie,1,0,"p-progress-spinner",0),i(1,"p-card",1)(2,"form",2),P("ngSubmit",function(){return e.createUIElementTemplate()}),i(3,"p-iftalabel",3),s(4,"input",4),i(5,"label",5),f(6),p()(),i(7,"p-iftalabel",6),s(8,"input",7),i(9,"label",8),f(10),p()(),i(11,"p-iftalabel",9),s(12,"p-select",10),i(13,"label",11),f(14,"UI Element Type"),p()(),i(15,"p-iftalabel",12),s(16,"textarea",13),i(17,"label",14),f(18),p()(),i(19,"div",15),s(20,"p-button",16),i(21,"p-button",17),P("onClick",function(){return e.navigateToViewAllPage()}),p()()()()),t&2&&(F(e.uiElementTemplatesStore.isPending()?0:-1),l(2),_("formGroup",e.createUIElementForm),l(4),M(e.getFieldLabel("id")),l(4),M(e.getFieldLabel("name")),l(2),_("options",e.uiElementTypes),l(6),M(e.getFieldLabel("description")),l(2),_("disabled",e.createUIElementForm.invalid)("pTooltip",e.getFormSubmitButtonTooltip()))},dependencies:[Q,J,R,G,$,A,N,k,j,q,D,z,K,B,Z,Y,W,L],styles:["[_nghost-%COMP%]{height:calc(100vh - 50px);width:100vw;display:flex;justify-content:center;position:relative;align-items:center}[_nghost-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;background-color:#00000080;width:100%;height:100%;z-index:2}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   p-select[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;resize:none}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .id-input-field[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .name-input-field[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .type-input-field[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .description-input-field[_ngcontent-%COMP%]{grid-column:span 2}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{grid-column:span 4;display:flex;gap:1rem}"],changeDetection:0});let c=m;return c})();export{Ee as CreateUIElementTemplateComponent};
