import{a as Q,b as W}from"./chunk-NIRHJCES.js";import{d as J,e as K}from"./chunk-UUIC25ZB.js";import"./chunk-5BGIWNYG.js";import{d as N,f as F,g as H}from"./chunk-UV6WKCAY.js";import"./chunk-C74NCG23.js";import"./chunk-BLLQWT3N.js";import{c as $,d as q,f as z}from"./chunk-BWPCYA4Q.js";import"./chunk-43SUP5HI.js";import"./chunk-6BEFNIFV.js";import"./chunk-VKEGRMF3.js";import"./chunk-PZF2HUG4.js";import"./chunk-GTE4DXTK.js";import"./chunk-Q4XJYIXY.js";import"./chunk-MU426FH3.js";import"./chunk-XVVGP5IS.js";import"./chunk-5FDWUNFG.js";import{c as G,d as Y}from"./chunk-ABBLJOL2.js";import"./chunk-POD54P5Y.js";import"./chunk-GDV3UKUI.js";import"./chunk-GLMHSY4W.js";import"./chunk-5YWNGEST.js";import"./chunk-QIBMCLKR.js";import"./chunk-TWWBEK6Z.js";import{Z as P}from"./chunk-PAE2UDOJ.js";import"./chunk-V4SGIPPW.js";import"./chunk-PH4X6N22.js";import{o as j,p as U}from"./chunk-6O3Z2ZPM.js";import"./chunk-WBS7JUSK.js";import"./chunk-XDSASVCN.js";import{Ac as w,Bc as E,Cc as T,Fb as C,Gb as n,Hb as t,Hc as A,Ib as b,Ic as B,Pb as S,Tb as y,Ub as R,_a as s,bc as D,e as r,f as _,g as f,gc as o,hc as u,ia as h,jb as I,na as v,oa as M,pb as O,qc as k,sc as V,wa as L}from"./chunk-UJ7YJEPZ.js";var ee=i=>[".",i];function te(i,a){if(i&1){let e=S();n(0,"div",6)(1,"h2"),o(2,"Layout templates"),t(),n(3,"div",7)(4,"p-button",8),y("onClick",function(){v(e);let p=R();return M(p.navigateToCreatePage())}),t()()()}}function ne(i,a){i&1&&(n(0,"tr")(1,"th"),o(2,"Id"),t(),n(3,"th"),o(4,"Name"),t(),n(5,"th"),o(6,"Description"),t(),n(7,"th"),o(8,"Created at"),t(),n(9,"th"),o(10,"Updated At"),t()())}function ie(i,a){if(i&1&&(n(0,"tr",9)(1,"td"),o(2),t(),n(3,"td"),o(4),t(),n(5,"td"),o(6),t(),n(7,"td"),o(8),w(9,"date"),t(),n(10,"td"),o(11),w(12,"date"),t(),b(13,"a",10),t()),i&2){let e=a.$implicit;C("pContextMenuRow",e),s(2),u(e.id),s(2),u(e.name),s(2),u(e.description),s(2),u(E(9,7,e.createdAt)),s(3),u(E(12,9,e.updatedAt)),s(2),C("routerLink",V(11,ee,e.id))}}var xe=(()=>{var a,e,m,p;let c=class c{constructor(){_(this,a);_(this,e);_(this,m);_(this,p);f(this,a,h(K)),f(this,e,h(F)),f(this,m,h(N)),f(this,p,h(P)),this.selectedTemplateSig=L(null),this.tableRowContextMenuItems=[{label:"Delete",icon:"pi pi-trash",command:()=>{let l=A(this.selectedTemplateSig);if(!l){console.warn("Trying to delete but template has not been selected");return}this.confirmDeleteTemplate(l.id)}}],this.loadingSig=r(this,a).isPending,this.allLayoutTemplatesInfoSig=B(()=>r(this,a).allUIElementTemplatesInfo().filter(d=>J.has(d.type)))}navigateToEditPage(l){r(this,e).navigate([".",l],{relativeTo:r(this,m)})}navigateToCreatePage(){r(this,e).navigate([".","create"],{relativeTo:r(this,m)})}confirmDeleteTemplate(l){r(this,p).confirm({message:`Are you sure you want to delete template "${l}"?`,header:"Deletion confirmation",icon:"pi pi-info-circle",rejectLabel:"Cancel",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Delete",severity:"danger"},accept:()=>{r(this,a).delete(l)}})}};a=new WeakMap,e=new WeakMap,m=new WeakMap,p=new WeakMap,c.\u0275fac=function(d){return new(d||c)},c.\u0275cmp=I({type:c,selectors:[["prime-ng-playground-builder-feat-layouts-list"]],features:[k([P])],decls:10,vars:6,consts:[["tableRowContextMenu",""],["caption",""],["header",""],["body",""],[3,"onHide","model"],[1,"table-container",3,"contextMenuSelectionChange","contextMenu","loading","showGridlines","stripedRows","value"],[1,"table-title-container"],[1,"table-title-container__actions-container"],["icon","pi pi-plus","iconPos","right","label","Create",3,"onClick"],[1,"data-row",3,"pContextMenuRow"],[1,"data-row__link-placeholder",3,"routerLink"]],template:function(d,g){if(d&1){let x=S();n(0,"p-contextmenu",4,0),y("onHide",function(){return v(x),M(g.selectedTemplateSig.set(null))}),t(),n(2,"p-table",5),y("contextMenuSelectionChange",function(Z){return v(x),M(g.selectedTemplateSig.set(Z))}),O(3,te,5,0,"ng-template",null,1,T)(5,ne,11,0,"ng-template",null,2,T)(7,ie,14,13,"ng-template",null,3,T),t(),b(9,"p-confirmdialog")}if(d&2){let x=D(1);C("model",g.tableRowContextMenuItems),s(2),C("contextMenu",x)("loading",g.loadingSig())("showGridlines",!0)("stripedRows",!0)("value",g.allLayoutTemplatesInfoSig())}},dependencies:[z,$,q,Y,G,Q,U,W,H,j],styles:["[_nghost-%COMP%]{padding:1rem;display:flex;justify-content:center;width:100vw}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title-container__actions-container[_ngcontent-%COMP%]{display:flex;gap:1rem}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .data-row__link-placeholder[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;cursor:pointer}"],changeDetection:0});let i=c;return i})();export{xe as LayoutsListComponent};
