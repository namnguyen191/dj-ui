import{f as D}from"./chunk-UV6WKCAY.js";import{b,f as v,i as O}from"./chunk-3C3QOQZR.js";import{c as F}from"./chunk-WIY5O4WM.js";import{a as o,o as T,r as C}from"./chunk-BGKRRNHO.js";import{Hc as x,Ic as S,Jc as w,Z as I,aa as y,da as f,e as l,f as p,g as m,ia as u,k as R,p as j,qa as k,sa as g,wa as h}from"./chunk-UJ7YJEPZ.js";function Y(r){r||(r=u(g));let e=new R(t=>{if(r.destroyed){t.next();return}return r.onDestroy(t.next.bind(t))});return t=>t.pipe(I(e))}function _(r,e){let t=e?.injector??u(k),n=new j(1),a=w(()=>{let s;try{s=r()}catch(i){x(()=>n.error(i));return}x(()=>n.next(s))},{injector:t,manualCleanup:!0});return t.get(g).onDestroy(()=>{a.destroy(),n.complete()}),n.asObservable()}function ee(r,e){let n=!e?.manualCleanup?e?.injector?.get(g)??u(g):null,a=Z(e?.equal),s;e?.requireSync?s=h({kind:0},{equal:a}):s=h({kind:1,value:e?.initialValue},{equal:a});let i,d=r.subscribe({next:c=>s.set({kind:1,value:c}),error:c=>{s.set({kind:2,error:c}),i?.()},complete:()=>{i?.()}});if(e?.requireSync&&s().kind===0)throw new y(601,!1);return i=n?.onDestroy(d.unsubscribe.bind(d)),S(()=>{let c=s();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new y(601,!1)}},{equal:e?.equal})}function Z(r=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&r(e.value,t.value)}var U=o.strictObject({endpoint:o.string(),responseType:o.union([o.literal("text"),o.literal("json")]).optional(),file:o.string()}),ce=v("fileUpload",U),ue=(()=>{var e;let t=class t{constructor(){p(this,e);m(this,e,u(b)),this.singleFileUploadFetcher=a=>{let{endpoint:s,file:i,responseType:d="json"}=a,c=new FormData;return c.append("file",i),l(this,e).post(s,c,{responseType:d})}}};e=new WeakMap,t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var A=o.strictObject({endpoint:o.string(),method:o.string(),body:o.any().optional(),headers:o.record(o.string(),o.string()).optional()}),ve=v("httpFetcher",A),ye=(()=>{var e,t;let n=class n{constructor(){p(this,e);p(this,t);m(this,e,u(b)),m(this,t,s=>{let{endpoint:i,method:d,headers:c,body:q}=s;return l(this,e).request(d,i,{headers:c,body:q})}),this.httpFetcher=l(this,t).bind(this)}};e=new WeakMap,t=new WeakMap,n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=f({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();var E=o.strictObject({remoteResourceId:o.string()},{error:()=>({message:'Invalid triggerRemoteResource action hook payload, example: { "type": "triggerRemoteResource", "payload": { "remoteResourceId": "123" }  } '})}),De=o.strictObject({type:o.literal("triggerRemoteResource"),payload:E}),H=o.strictObject({scope:T,data:F},{error:()=>({message:'Invalid addToState action hook payload, example: { "type": "addToState", "payload": { "scope": "global", data: "{ "some": "data" }" }  } '})}),Te=o.strictObject({type:o.literal("addToState"),payload:H}),P=o.strictObject({navigationType:o.union([o.literal("internal"),o.literal("external")]),url:o.string()},{error:()=>({message:'Invalid navigate action hook payload, example: { "type": "navigate", "payload": { "navigationType": "internal", url: "/my/route" }  } '})}),Ce=o.strictObject({type:o.literal("navigate"),payload:P}),Oe=(()=>{var e,t,n;let a=class a{constructor(){p(this,e);p(this,t);p(this,n);m(this,e,u(O)),m(this,t,u(C)),m(this,n,u(D)),this.handleTriggerRemoteResource=({remoteResourceId:i})=>{l(this,e).triggerResource(i)},this.handleAddToState=i=>{l(this,t).addToState(i)},this.navigate=({navigationType:i,url:d})=>{i==="internal"?l(this,n).navigateByUrl(d):window.open(d,"_blank")?.focus()}}};e=new WeakMap,t=new WeakMap,n=new WeakMap,a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=f({token:a,factory:a.\u0275fac,providedIn:"root"});let r=a;return r})();export{Y as a,_ as b,ee as c,ce as d,ue as e,ve as f,ye as g,De as h,Te as i,Ce as j,Oe as k};
