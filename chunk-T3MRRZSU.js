import{b as P,c as U}from"./chunk-2K7YODBX.js";import{b as j,e as N}from"./chunk-T42V2R2A.js";import"./chunk-EZFEAQCX.js";import{c as a}from"./chunk-BQJLUYBS.js";import{a as A,b as z}from"./chunk-P7QEISYO.js";import{a as o,b as w,o as D}from"./chunk-4RBRHGVV.js";import"./chunk-SFXEP7JI.js";import{Aa as c,Ba as l,Bb as p,Dc as v,Gb as I,Jc as M,Lb as T,Mb as _,Nb as F,Sb as O,Tb as B,Z as C,_a as E,_c as k,cc as f,da as r,ec as L,f as h,lb as y,p as g,pb as x,qa as b,sb as S}from"./chunk-AGCFPB43.js";import"./chunk-Q7L6LLAK.js";var Z=(()=>{class e{#e;#t;#i;#n;constructor(){this.#e=r(M),this.FILE_INPUT_ELE_ID="file_input_element",this.#t=null,this.#i=new h,this.#n=new Error("File input element has not been initialized"),this.#o()}selectFiles(t={}){if(!this.#t)throw new Error("File input element has not been initialized");let{single:n,extensions:i=[]}=t;return n?this.#s():this.#r(),this.#l(i),this.#t.click(),g(this.#i)}#o(){let t=this.#e.getElementById(this.FILE_INPUT_ELE_ID);if(t){this.#t=t;return}this.#t=this.#e.createElement("input"),this.#t.setAttribute("id",this.FILE_INPUT_ELE_ID),this.#t.setAttribute("type","file"),this.#t.setAttribute("multiple",""),this.#t.style.display="none",this.#e.body.append(this.#t),this.#t.addEventListener("change",n=>{let i=n.target.files;i&&this.#i.next(i)}),this.#t.addEventListener("cancel",()=>{this.#i.next(null)})}#s(){if(!this.#t)throw this.#n;this.#t.removeAttribute("multiple")}#r(){if(!this.#t)throw this.#n;this.#t.setAttribute("multiple","")}#l(t){if(!this.#t)throw this.#n;if(t.length===0){this.#t.removeAttribute("accept");return}let n=t.map(i=>`.${i}`).join(",");this.#t.setAttribute("accept",n)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var $=o.enum(["primary","secondary","tertiary","ghost","danger","danger--primary","danger--tertiary","danger--ghost"]),J=o.strictObject({enabled:o.boolean().default(!0),single:o.boolean().optional(),acceptedExtensions:o.array(o.string()).optional()}),s=o.strictObject({text:o.string(),type:$,filesSelector:J}),et=D(s,["buttonClicked","filesSelected"]);function R(e,u){e&1&&F(0,"cds-inline-loading",1),e&2&&p("loadingText","Loading data...")("state","active")}function V(e,u){if(e&1&&f(0),e&2){let t=B();L(" ",t.textConfigOption()," ")}}function W(e,u){e&1&&f(0," Something went wrong loading data ")}var mt=(()=>{class e extends w{constructor(){super(...arguments),this.#e=r(Z),this.defaultText="Default text",this.textConfigOption=l(this.defaultText,{alias:"text",transform:t=>a(s.shape.text,t,this.defaultText)}),this.defaultButtonType="primary",this.typeConfigOption=l(this.defaultButtonType,{alias:"type",transform:t=>a(s.shape.type,t,this.defaultButtonType)}),this.defaultFilesSelectorConfigOption={enabled:!1},this.filesSelectorConfigOption=l(this.defaultFilesSelectorConfigOption,{alias:"filesSelector",transform:t=>a(s.shape.filesSelector,t,this.defaultFilesSelectorConfigOption)}),this.buttonClicked=c(),this.filesSelected=c()}static{this.ELEMENT_TYPE=A}static{this.ELEMENT_SYMBOL=z}getElementType(){return e.ELEMENT_TYPE}getSymbol(){return e.ELEMENT_SYMBOL}#e;onClick(){this.buttonClicked.emit(),this.#t()}async#t(){let t=v(this.filesSelectorConfigOption),{single:n,acceptedExtensions:i,enabled:d}=t;if(!d)return;let m=await this.#e.selectFiles({single:n,extensions:i});m&&this.filesSelected.emit({files:m})}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=b(e)))(i||e)}})()}static{this.\u0275cmp=y({type:e,selectors:[["dj-ui-carbon-button"]],inputs:{textConfigOption:[1,"text","textConfigOption"],typeConfigOption:[1,"type","typeConfigOption"],filesSelectorConfigOption:[1,"filesSelector","filesSelectorConfigOption"]},outputs:{buttonClicked:"buttonClicked",filesSelected:"filesSelected"},features:[x],decls:4,vars:5,consts:[[1,"button-container",3,"click","cdsButton","disabled","isExpressive","size"],[1,"loader-container",3,"loadingText","state"]],template:function(n,i){n&1&&(T(0,"button",0),O("click",function(){return i.onClick()}),S(1,R,1,2,"cds-inline-loading",1)(2,V,1,1)(3,W,1,0),_()),n&2&&(p("cdsButton",i.typeConfigOption())("disabled",i.isLoadingConfigOption())("isExpressive",!1)("size","md"),E(),I(i.isLoadingConfigOption()?1:i.isErrorConfigOption()?3:2))},dependencies:[k,N,j,U,P],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .loader-container[_ngcontent-%COMP%]{min-block-size:unset}"],changeDetection:0})}}return e})();export{mt as CarbonButtonComponent,et as ZCarbonButtonForJsonSchema,J as ZodButtonFilesSelectorConfig,$ as ZodButtonTypeConfig,s as ZodCarbonButtonUIElementComponentConfigs};
