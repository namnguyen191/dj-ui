import{a as W,b as X,c as Z}from"./chunk-US7LY2TE.js";import{c as J,d as K,e as Q}from"./chunk-7PVQWRKD.js";import"./chunk-5BGIWNYG.js";import{d as F,f as H,g as G}from"./chunk-UV6WKCAY.js";import"./chunk-JQNNOW5S.js";import"./chunk-OXQFDIO2.js";import{c as $,d as q,f as z}from"./chunk-BWPCYA4Q.js";import"./chunk-43SUP5HI.js";import"./chunk-6BEFNIFV.js";import"./chunk-VKEGRMF3.js";import"./chunk-PZF2HUG4.js";import"./chunk-GTE4DXTK.js";import"./chunk-Q4XJYIXY.js";import"./chunk-5EH4PHE6.js";import"./chunk-EQ2RW2R3.js";import"./chunk-5FDWUNFG.js";import{c as Y}from"./chunk-ABBLJOL2.js";import"./chunk-POD54P5Y.js";import"./chunk-GDV3UKUI.js";import"./chunk-GLMHSY4W.js";import"./chunk-5YWNGEST.js";import"./chunk-ONUWX4Z3.js";import"./chunk-5SLFWW7S.js";import{Z as R}from"./chunk-PAE2UDOJ.js";import"./chunk-EWAYVCWY.js";import"./chunk-7JQNGYFA.js";import{o as j,p as N}from"./chunk-6O3Z2ZPM.js";import"./chunk-WBS7JUSK.js";import"./chunk-4LRNZHQJ.js";import"./chunk-4YZRLV7F.js";import{Ac as P,Bc as I,Cc as E,Fb as v,Gb as n,Hb as e,Hc as A,Ib as S,Ic as B,Pb as w,Tb as M,Ub as y,_a as p,bc as L,e as l,f as g,g as _,gc as r,hc as h,ia as f,jb as O,na as x,oa as T,pb as D,qc as U,sc as V,wa as k}from"./chunk-UJ7YJEPZ.js";var ne=i=>[".",i];function ie(i,o){if(i&1){let t=w();n(0,"div",6)(1,"h2"),r(2,"UI element templates"),e(),n(3,"div",7)(4,"p-button",8),M("onClick",function(){x(t);let s=y();return T(s.navigateToCreatePage())}),e(),n(5,"p-button",9),M("onClick",function(s){x(t);let c=y();return T(c.confirmResetMockTemplates(s))}),e()()()}}function oe(i,o){i&1&&(n(0,"tr")(1,"th"),r(2,"Id"),e(),n(3,"th"),r(4,"Name"),e(),n(5,"th"),r(6,"Description"),e(),n(7,"th"),r(8,"Created at"),e(),n(9,"th"),r(10,"Updated At"),e()())}function ae(i,o){if(i&1&&(n(0,"tr",10)(1,"td"),r(2),e(),n(3,"td"),r(4),e(),n(5,"td"),r(6),e(),n(7,"td"),r(8),P(9,"date"),e(),n(10,"td"),r(11),P(12,"date"),e(),S(13,"a",11),e()),i&2){let t=o.$implicit;v("pContextMenuRow",t),p(2),h(t.id),p(2),h(t.name),p(2),h(t.description),p(2),h(I(9,7,t.createdAt)),p(3),h(I(12,9,t.updatedAt)),p(2),v("routerLink",V(11,ne,t.id))}}var ve=(()=>{var o,t,m,s,c;let d=class d{constructor(){g(this,o);g(this,t);g(this,m);g(this,s);g(this,c);_(this,o,f(Q)),_(this,t,f(J)),_(this,m,f(R)),_(this,s,f(H)),_(this,c,f(F)),this.selectedTemplateSig=k(null),this.tableRowContextMenuItems=[{label:"Delete",icon:"pi pi-trash",command:()=>{let a=A(this.selectedTemplateSig);if(!a){console.warn("Trying to delete but template has not been selected");return}this.confirmDeleteTemplate(a.id)}}],this.loadingSig=l(this,o).isPending,this.allTemplatesInfoSig=B(()=>l(this,o).allUIElementTemplatesInfo().filter(u=>!K.has(u.type)))}navigateToEditPage(a){l(this,s).navigate([".",a],{relativeTo:l(this,c)})}navigateToCreatePage(){l(this,s).navigate([".","create"],{relativeTo:l(this,c)})}confirmDeleteTemplate(a){l(this,m).confirm({message:`Are you sure you want to delete template "${a}"?`,header:"Deletion confirmation",icon:"pi pi-info-circle",rejectLabel:"Cancel",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Delete",severity:"danger"},accept:()=>{l(this,o).delete(a)}})}confirmResetMockTemplates(a){l(this,m).confirm({target:a.target,message:"Are you sure that you want to proceed? This will reset all the mock templates, including ones that have been modified by the user.",header:"Confirmation",closable:!0,closeOnEscape:!0,icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Proceed",severity:"danger"},accept:()=>{l(this,o).resetMockTemplates(),l(this,t).resetMockTemplates()}})}};o=new WeakMap,t=new WeakMap,m=new WeakMap,s=new WeakMap,c=new WeakMap,d.\u0275fac=function(u){return new(u||d)},d.\u0275cmp=O({type:d,selectors:[["prime-ng-playground-builder-feat-ui-element-list"]],features:[U([R])],decls:10,vars:6,consts:[["tableRowContextMenu",""],["caption",""],["header",""],["body",""],[3,"onHide","model"],[1,"table-container",3,"contextMenuSelectionChange","contextMenu","loading","showGridlines","stripedRows","value"],[1,"table-title-container"],[1,"table-title-container__actions-container"],["icon","pi pi-plus","iconPos","right","label","Create",3,"onClick"],["icon","pi pi-refresh","raised","","rounded","","severity","warn",3,"onClick"],[1,"data-row",3,"pContextMenuRow"],[1,"data-row__link-placeholder",3,"routerLink"]],template:function(u,C){if(u&1){let b=w();n(0,"p-contextmenu",4,0),M("onHide",function(){return x(b),T(C.selectedTemplateSig.set(null))}),e(),n(2,"p-table",5),M("contextMenuSelectionChange",function(te){return x(b),T(C.selectedTemplateSig.set(te))}),D(3,ie,6,0,"ng-template",null,1,E)(5,oe,11,0,"ng-template",null,2,E)(7,ae,14,13,"ng-template",null,3,E),e(),S(9,"p-confirmdialog")}if(u&2){let b=L(1);v("model",C.tableRowContextMenuItems),p(2),v("contextMenu",b)("loading",C.loadingSig())("showGridlines",!0)("stripedRows",!0)("value",C.allTemplatesInfoSig())}},dependencies:[z,$,q,Y,W,N,G,Z,X,j],styles:["[_nghost-%COMP%]{padding:1rem;display:flex;justify-content:center;width:100vw}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title-container__actions-container[_ngcontent-%COMP%]{display:flex;gap:1rem}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .data-row__link-placeholder[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;cursor:pointer}"],changeDetection:0});let i=d;return i})();export{ve as UIElementListComponent};
