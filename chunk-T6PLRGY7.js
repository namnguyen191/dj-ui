import{c as N,d as me}from"./chunk-VQXLNIXB.js";import{a as P,b as fe}from"./chunk-5SWRRZ4R.js";import{b as pe}from"./chunk-OBSC652C.js";import{j as ce,l as ue}from"./chunk-PENP6P56.js";import{b as he,d as ge,e as ve}from"./chunk-T42V2R2A.js";import{b as ae,c as de}from"./chunk-EZFEAQCX.js";import{$a as s,Ab as B,Bb as a,Db as D,Fb as Z,J as $,Jc as le,Lb as l,Mb as d,Nb as O,Ob as ee,Pb as te,Rb as y,Rc as z,Sb as m,Tb as _,Tc as se,Ub as b,Uc as x,V as q,Vb as M,Wa as J,Yb as E,Z as T,Zb as L,_ as R,_a as u,_b as F,_c as re,ca as k,cc as j,db as W,dc as A,ec as oe,la as K,lb as v,ma as f,mb as X,na as p,nb as C,oa as G,oc as ne,pb as Y,qc as ie,sa as U,sb as I,wa as g}from"./chunk-AGCFPB43.js";var _e=["overlay"],V=["*"],be=(t,n)=>({"cds--modal--danger":t,"is-visible":n}),Me=["modal"],Se=(t,n,e,o)=>({"cds--modal-container--xs":t,"cds--modal-container--sm":n,"cds--modal-container--md":e,"cds--modal-container--lg":o});function we(t,n){if(t&1){let e=y();l(0,"cds-icon-button",2),m("click",function(){f(e);let i=_();return p(i.onClose())}),G(),O(1,"svg",3),d()}if(t&2){let e=_();a("buttonNgClass",e.buttonNgClass)("buttonAttributes",e.buttonAttributes)("description",e.closeLabel)}}var He=["modalContent"];function Ie(t,n){if(t&1){let e=y();ee(0),l(1,"button",9),m("click",function(){let i=f(e).index,c=_(2);return p(c.buttonClicked(i))}),j(2),d(),te()}if(t&2){let e=n.$implicit;u(),a("cdsButton",e.type)("id",e.id),B("modal-primary-focus",e.type.indexOf("primary")!==-1?"":null),u(),oe(" ",e.text," ")}}function De(t,n){if(t&1&&(l(0,"cds-modal-footer"),I(1,Ie,3,4,"ng-container",8),d()),t&2){let e=_();u(),a("ngForOf",e.buttons)}}var Ee=(()=>{class t{constructor(){this.close=new g,this.open=!1}closeModal(){this.close.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=C({type:t,selectors:[["","cdsBaseModal",""],["","ibmBaseModal",""]],inputs:{open:"open"},outputs:{close:"close"},standalone:!1}),t})(),Q=(()=>{class t{constructor(e){this.placeholderService=e}create(e){e=Object.assign({},{inputs:{}},e);let i=Object.keys(e.inputs).map(h=>({provide:h,useValue:e.inputs[h]})),c=U.create({providers:i}),r=this.placeholderService.createComponent(e.component,c),S=document.activeElement;return setTimeout(()=>{r.instance.open=!0}),r.previouslyFocusedElement=S,r.instance.close.pipe(q(()=>{r.instance.open=!1}),$(240)).subscribe(()=>{this.placeholderService.destroyComponent(r),t.modalList=t.modalList.filter(h=>h!==r)}),r.onDestroy(()=>{S.focus()}),t.modalList.push(r),r}destroy(e=-1){e>=t.modalList.length||t.modalList.length===0||(e<0&&(e=t.modalList.length-1),setTimeout(()=>{t.modalList[e]&&(this.placeholderService.destroyComponent(t.modalList[e]),t.modalList.splice(e,1))},240))}}return t.modalList=[],t.\u0275fac=function(e){return new(e||t)(k(P))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})(),Le=(()=>{class t{constructor(){this.theme="default",this.open=!1,this.overlaySelect=new g}overlayClick(e){e.target===this.overlay.nativeElement&&(e.stopPropagation(),this.overlaySelect.emit(e))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=v({type:t,selectors:[["cds-overlay"],["ibm-overlay"]],viewQuery:function(e,o){if(e&1&&E(_e,7),e&2){let i;L(i=F())&&(o.overlay=i.first)}},inputs:{theme:"theme",open:"open"},outputs:{overlaySelect:"overlaySelect"},standalone:!1,ngContentSelectors:V,decls:3,vars:4,consts:[["overlay",""],[1,"cds--modal","cds--modal-tall",3,"click","ngClass"]],template:function(e,o){if(e&1){let i=y();b(),l(0,"section",1,0),m("click",function(r){return f(i),p(o.overlayClick(r))}),M(2),d()}e&2&&a("ngClass",ne(1,be,o.theme==="danger",o.open))},dependencies:[z],encapsulation:2}),t})(),Fe=(()=>{class t{constructor(e,o,i){this.modalService=e,this.document=o,this.renderer=i,this.size="md",this.theme="default",this.ariaLabel="default",this.open=!1,this.hasScrollingContent=null,this.overlaySelected=new g,this.close=new g,this.selectorPrimaryFocus="[modal-primary-focus]"}ngOnChanges({open:e,hasScrollingContent:o}){e&&(e.currentValue?(setTimeout(()=>this.focusInitialElement(),100),this.renderer.addClass(this.document.body,"cds--body--with-modal-open")):e.currentValue?this.trigger&&this.trigger.focus():this.renderer.removeClass(this.document.body,"cds--body--with-modal-open")),o&&this.updateScrollbar()}ngAfterViewInit(){this.focusInitialElement(),this.updateScrollbar()}handleKeyboardEvent(e){switch(e.key){case"Escape":{e.stopImmediatePropagation(),this.open=!1,this.close.emit(),this.modalService.destroy();break}case"Tab":{me(e,this.modal.nativeElement);break}}}get shouldShowScrollbar(){let e=this.modal?this.modal.nativeElement.querySelector(".cds--modal-content"):null;if(e){let o=Math.ceil(e.getBoundingClientRect().height);return e.scrollHeight>o}else return!1}ngOnDestroy(){this.renderer.removeClass(this.document.body,"cds--body--with-modal-open")}focusInitialElement(){let e=this.modal.nativeElement.querySelector(this.selectorPrimaryFocus);e&&e.focus?setTimeout(()=>e.focus()):N(this.modal.nativeElement).length>0?setTimeout(()=>N(this.modal.nativeElement)[0].focus()):setTimeout(()=>this.modal.nativeElement.focus())}updateScrollbar(){let e=this.modal?this.modal.nativeElement.querySelector(".cds--modal-content"):null,o=this.hasScrollingContent!==null?this.hasScrollingContent:this.shouldShowScrollbar;e&&(o?this.renderer.addClass(e,"cds--modal-scroll-content"):this.renderer.removeClass(e,"cds--modal-scroll-content"))}}return t.\u0275fac=function(e){return new(e||t)(s(Q),s(le),s(W))},t.\u0275cmp=v({type:t,selectors:[["cds-modal"],["ibm-modal"]],viewQuery:function(e,o){if(e&1&&E(Me,7),e&2){let i;L(i=F())&&(o.modal=i.first)}},hostBindings:function(e,o){e&1&&m("keydown",function(c){return o.handleKeyboardEvent(c)})},inputs:{size:"size",theme:"theme",ariaLabel:"ariaLabel",open:"open",trigger:"trigger",hasScrollingContent:"hasScrollingContent"},outputs:{overlaySelected:"overlaySelected",close:"close"},standalone:!1,features:[K],ngContentSelectors:V,decls:4,vars:9,consts:[["modal",""],[3,"overlaySelect","theme","open"],["role","dialog","aria-modal","true",1,"cds--modal-container",2,"z-index","1",3,"ngClass"]],template:function(e,o){if(e&1){let i=y();b(),l(0,"cds-overlay",1),m("overlaySelect",function(){return f(i),p(o.overlaySelected.emit())}),l(1,"div",2,0),M(3),d()()}e&2&&(a("theme",o.theme)("open",o.open),u(),a("ngClass",ie(4,Se,o.size==="xs",o.size==="sm",o.size==="md",o.size==="lg")),B("aria-label",o.ariaLabel))},dependencies:[z,Le],encapsulation:2}),t})(),je=(()=>{class t{constructor(e){this.i18n=e,this.theme="default",this.closeLabel=this.i18n.get().MODAL.CLOSE,this.showCloseButton=!0,this.closeSelect=new g,this.buttonNgClass={"cds--modal-close":!0},this.buttonAttributes={"aria-label":this.i18n.get().MODAL.CLOSE}}onClose(){this.closeSelect.emit()}}return t.\u0275fac=function(e){return new(e||t)(s(ce))},t.\u0275cmp=v({type:t,selectors:[["cds-modal-header"],["ibm-modal-header"]],inputs:{theme:"theme",closeLabel:"closeLabel",showCloseButton:"showCloseButton"},outputs:{closeSelect:"closeSelect"},standalone:!1,ngContentSelectors:V,decls:4,vars:4,consts:[[1,"cds--modal-close-button"],["type","button","align","left",3,"buttonNgClass","buttonAttributes","description","click",4,"ngIf"],["type","button","align","left",3,"click","buttonNgClass","buttonAttributes","description"],["cdsIcon","close","size","20",1,"cds--modal-close__icon"]],template:function(e,o){e&1&&(b(),l(0,"header"),M(1),l(2,"div",0),I(3,we,2,3,"cds-icon-button",1),d()()),e&2&&(Z("cds--modal-header ",o.theme,""),u(3),a("ngIf",o.showCloseButton))},dependencies:[x,ge,ae],encapsulation:2}),t})(),Ve=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=v({type:t,selectors:[["cds-modal-footer"],["ibm-modal-footer"]],standalone:!1,ngContentSelectors:V,decls:2,vars:0,consts:[[1,"cds--modal-footer"]],template:function(e,o){e&1&&(b(),l(0,"footer",0),M(1),d())},encapsulation:2}),t})(),Te=(()=>{class t{constructor(){this.modalContentClass=!0,this.hasForm=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=C({type:t,selectors:[["","cdsModalContent",""],["","ibmModalContent",""]],hostVars:4,hostBindings:function(e,o){e&2&&D("cds--modal-content",o.modalContentClass)("cds--modal-content--with-form",o.hasForm)},inputs:{hasForm:"hasForm"},standalone:!1}),t})(),ke=(()=>{class t{constructor(){this.modalHeaderHeadingClass=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=C({type:t,selectors:[["","cdsModalHeaderHeading",""],["","ibmModalHeaderHeading",""]],hostVars:2,hostBindings:function(e,o){e&2&&D("cds--modal-header__heading",o.modalHeaderHeadingClass)},standalone:!1}),t})(),Be=(()=>{class t{constructor(){this.modalHeaderLabelClass=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=C({type:t,selectors:[["","cdsModalHeaderLabel",""],["","ibmModalHeaderLabel",""]],hostVars:2,hostBindings:function(e,o){e&2&&D("cds--modal-header__label",o.modalHeaderLabelClass)},standalone:!1}),t})(),Oe=(()=>{class t extends Ee{constructor(e="default",o,i,c,r,S=null,h=[],ye,Ce=!0){super(),this.type=e,this.label=o,this.title=i,this.content=c,this.size=r,this.hasScrollingContent=S,this.buttons=h,this.onClose=ye,this.showCloseButton=Ce;for(let w=0;w<this.buttons.length;w++){let H=this.buttons[w];H.id||(H.id=`alert-modal-button-${w}`),H.type||(H.type="secondary")}}ngAfterViewInit(){if(!this.modalContent)return!1;let e=this.modalContent.nativeElement;e.scrollHeight>e.clientHeight?e.tabIndex=0:e.tabIndex=-1}buttonClicked(e){let o=this.buttons[e];o.click&&o.click(),this.closeModal()}dismissModal(e){this.onClose&&this.onClose(e)===!1||this.closeModal()}}return t.\u0275fac=function(e){return new(e||t)(s("type",8),s("label",8),s("title",8),s("content",8),s("size",8),s("hasScrollingContent",8),s("buttons",8),s("close",8),s("showCloseButton",8))},t.\u0275cmp=v({type:t,selectors:[["cds-alert-modal"],["ibm-alert-modal"]],viewQuery:function(e,o){if(e&1&&E(He,7),e&2){let i;L(i=F())&&(o.modalContent=i.first)}},standalone:!1,features:[Y],decls:10,vars:10,consts:[["modalContent",""],[3,"overlaySelected","size","theme","ariaLabel","hasScrollingContent","open"],[3,"closeSelect","showCloseButton"],["cdsModalHeaderLabel","",1,"cds--type-delta"],["cdsModalHeaderHeading","",1,"cds--type-beta"],["cdsModalContent",""],[3,"innerHTML"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","cdsButton","id"]],template:function(e,o){if(e&1){let i=y();l(0,"cds-modal",1),m("overlaySelected",function(){return f(i),p(o.dismissModal("overlay"))}),l(1,"cds-modal-header",2),m("closeSelect",function(){return f(i),p(o.dismissModal("close"))}),l(2,"p",3),j(3),d(),l(4,"p",4),j(5),d()(),l(6,"div",5,0),O(8,"p",6),d(),I(9,De,2,1,"cds-modal-footer",7),d()}e&2&&(a("size",o.size)("theme",o.type)("ariaLabel",o.title)("hasScrollingContent",o.hasScrollingContent)("open",o.open),u(),a("showCloseButton",o.showCloseButton),u(2),A(o.label),u(2),A(o.title),u(3),a("innerHTML",o.content,J),u(),a("ngIf",o.buttons.length>0))},dependencies:[se,x,he,Fe,je,Ve,Te,ke,Be],encapsulation:2}),t})();var Ae=(()=>{class t extends Q{constructor(e){super(e),this.placeholderService=e}show(e){return this.create({component:Oe,inputs:{type:e.type,label:e.label,title:e.title,content:e.content,hasScrollingContent:e.hasScrollingContent!==void 0?e.hasScrollingContent:null,size:e.size,buttons:e.buttons||[],close:e.close||(()=>{}),showCloseButton:e.showCloseButton}})}}return t.\u0275fac=function(e){return new(e||t)(k(P))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();var ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=X({type:t}),t.\u0275inj=R({providers:[Q,Ae],imports:[re,ve,ue,fe,pe,de]}),t})();export{Ee as a,Fe as b,je as c,Ve as d,Te as e,ke as f,Be as g,ct as h};
