import{b as hu,d as wu,f as Su,h as yu,i as xu,j as Cu}from"./chunk-MUFE3XWT.js";import{a as vu,e as Eu}from"./chunk-36K7NTYM.js";import{d as ku}from"./chunk-SNHPXEZ4.js";import{d as Tu}from"./chunk-SUZHGI3H.js";import{g as _u}from"./chunk-ABXN764G.js";import{e as bu}from"./chunk-JNGJ3BLF.js";import{a as vi,g as Ei}from"./chunk-C2N75H23.js";import{g as Au}from"./chunk-FZW2AOQW.js";import{a as re,d as du,f as fu,p as mu,u as gu,v as wi}from"./chunk-AWNXAW2C.js";import{$b as iu,A as Zn,Ab as eu,Ba as Yc,Bb as tu,Hc as At,I as di,Ic as Te,Jb as nu,Jc as gi,Kb as su,Lb as ru,Lc as lu,Nc as cu,O as Gc,Oc as uu,Pc as pu,Y as Pe,_ as fi,_a as Qc,a as v,ac as ou,b as V,da as Ct,e as W,f as he,g as et,gc as au,h as xn,ia as de,jb as Zc,lb as Jc,nb as Kc,o as Wc,sa as zc,t as hi,va as Xc,wa as mi,y as ne}from"./chunk-UJ7YJEPZ.js";function Jf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Iu(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,s)}return t}function Sa(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iu(Object(t),!0).forEach(function(s){Jf(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iu(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function Kf(n,e){if(n==null)return{};var t={},s=Object.keys(n),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Du(n,e){if(n==null)return{};var t=Kf(n,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function Pu(n,e){return em(n)||tm(n,e)||nm(n,e)||sm()}function em(n){if(Array.isArray(n))return n}function tm(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],s=!0,r=!1,i=void 0;try{for(var o=n[Symbol.iterator](),a;!(s=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));s=!0);}catch(l){r=!0,i=l}finally{try{!s&&o.return!=null&&o.return()}finally{if(r)throw i}}return t}}function nm(n,e){if(n){if(typeof n=="string")return Nu(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nu(n,e)}}function Nu(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function sm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lu(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,s)}return t}function Mu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lu(Object(t),!0).forEach(function(s){rm(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lu(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function im(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(s){return e.reduceRight(function(r,i){return i(r)},s)}}function Xs(n){return function e(){for(var t=this,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return r.length>=n.length?n.apply(this,r):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(t,[].concat(r,a))}}}function yi(n){return{}.toString.call(n).includes("Object")}function om(n){return!Object.keys(n).length}function Ys(n){return typeof n=="function"}function am(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function lm(n,e){return yi(e)||Yt("changeType"),Object.keys(e).some(function(t){return!am(n,t)})&&Yt("changeField"),e}function cm(n){Ys(n)||Yt("selectorType")}function um(n){Ys(n)||yi(n)||Yt("handlerType"),yi(n)&&Object.values(n).some(function(e){return!Ys(e)})&&Yt("handlersType")}function pm(n){n||Yt("initialIsRequired"),yi(n)||Yt("initialType"),om(n)&&Yt("initialContent")}function hm(n,e){throw new Error(n[e]||n.default)}var dm={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Yt=Xs(hm)(dm),Si={changes:lm,selector:cm,handler:um,initial:pm};function fm(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Si.initial(n),Si.handler(e);var t={current:n},s=Xs(vm)(t,e),r=Xs(gm)(t),i=Xs(Si.changes)(n),o=Xs(mm)(t);function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(p){return p};return Si.selector(c),c(t.current)}function l(c){im(s,r,i,o)(c)}return[a,l]}function mm(n,e){return Ys(e)?e(n.current):e}function gm(n,e){return n.current=Mu(Mu({},n.current),e),e}function vm(n,e,t){return Ys(e)?e(n.current):Object.keys(t).forEach(function(s){var r;return(r=e[s])===null||r===void 0?void 0:r.call(e,n.current[s])}),t}var Em={create:fm},Bu=Em;var wm={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},Ru=wm;function Sm(n){return function e(){for(var t=this,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return r.length>=n.length?n.apply(this,r):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(t,[].concat(r,a))}}}var $u=Sm;function ym(n){return{}.toString.call(n).includes("Object")}var Ou=ym;function xm(n){return n||Fu("configIsRequired"),Ou(n)||Fu("configType"),n.urls?(Cm(),{paths:{vs:n.urls.monacoBase}}):n}function Cm(){console.warn(Uu.deprecation)}function Am(n,e){throw new Error(n[e]||n.default)}var Uu={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Fu=$u(Am)(Uu),bm={config:xm},qu=bm;var _m=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}},Vu=_m;function Hu(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],Hu(n[t],e[t]))}),Sa(Sa({},n),e)}var ju=Hu;var Tm={type:"cancelation",msg:"operation is manually canceled"};function km(n){var e=!1,t=new Promise(function(s,r){n.then(function(i){return e?r(Tm):s(i)}),n.catch(r)});return t.cancel=function(){return e=!0},t}var xi=km;var Im=Bu.create({config:Ru,isInitialized:!1,resolve:null,reject:null,monaco:null}),Wu=Pu(Im,2),Qs=Wu[0],Ci=Wu[1];function Nm(n){var e=qu.config(n),t=e.monaco,s=Du(e,["monaco"]);Ci(function(r){return{config:ju(r.config,s),monaco:t}})}function Dm(){var n=Qs(function(e){var t=e.monaco,s=e.isInitialized,r=e.resolve;return{monaco:t,isInitialized:s,resolve:r}});if(!n.isInitialized){if(Ci({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),xi(ya);if(window.monaco&&window.monaco.editor)return Gu(window.monaco),n.resolve(window.monaco),xi(ya);Vu(Pm,Mm)(Bm)}return xi(ya)}function Pm(n){return document.body.appendChild(n)}function Lm(n){var e=document.createElement("script");return n&&(e.src=n),e}function Mm(n){var e=Qs(function(s){var r=s.config,i=s.reject;return{config:r,reject:i}}),t=Lm("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function Bm(){var n=Qs(function(t){var s=t.config,r=t.resolve,i=t.reject;return{config:s,resolve:r,reject:i}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){Gu(t),n.resolve(t)},function(t){n.reject(t)})}function Gu(n){Qs().monaco||Ci({monaco:n})}function Rm(){return Qs(function(n){var e=n.monaco;return e})}var ya=new Promise(function(n,e){return Ci({resolve:n,reject:e})}),$m={config:Nm,init:Dm,__getMonacoInstance:Rm},xa=$m;var zu=(()=>{var e,t,s,r,Xu,Ai;let a=class a{constructor(){he(this,r);he(this,e,mi(null));he(this,t,hu(W(this,e)).pipe(di(c=>c!==null)));he(this,s,{});xn(this,r,Xu).call(this)}async registerJSONSchema(c){let{schemaId:p,schemaFetcher:h}=c;if(W(this,s)[p])return;let m=await ne(W(this,t)),E=await h();W(this,s)[p]=E;let w=Object.entries(W(this,s)).map(([x,T])=>({uri:x,fileMatch:[xn(this,r,Ai).call(this,x)],schema:T}));m.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,allowComments:!0,schemas:w})}async getJSONModel(c){let{schemaId:p,initialValue:h=""}=c,m=await ne(W(this,t));try{let E=m.Uri.parse(xn(this,r,Ai).call(this,p)),w=m.editor.getModel(E)??m.editor.createModel("","json",m.Uri.parse(xn(this,r,Ai).call(this,p)));return w.setValue(h),w}catch(E){throw console.error("Error getting JSON model: ",E),E}}async createEditor(c,p){return(await ne(W(this,t))).editor.create(c,p)}};e=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakSet,Xu=function(){xa.init().then(c=>{W(this,e).set(c)}).catch(c=>{console.error("Could not initialize Monaco using the @monaco-editor/loader: ",c)})},Ai=function(c){return`inmemory://model/${c}.json`},a.\u0275fac=function(p){return new(p||a)},a.\u0275prov=Ct({token:a,factory:a.\u0275fac,providedIn:"root"});let n=a;return n})();var Om=["editorContainer"],Yu=(()=>{var e,t,s,r,Qu;let o=class o{constructor(){he(this,r);he(this,e);he(this,t);he(this,s);this.monacoEditorService=de(zu),this.configs=uu.required(),this.valueChanged=cu(),this.editorContainerSig=pu.required("editorContainer"),this.editorInstanceResource=lu({params:()=>({configs:this.configs()}),loader:({params:l})=>xn(this,r,Qu).call(this,l.configs)}),et(this,e,gi(()=>{let l=this.editorInstanceResource.value();if(!l)return;let{valueChangeDebounceTime:c=500}=At(this.configs),p=du(()=>{let h=l.getValue();this.valueChanged.emit(h)},c);l.onDidChangeModelContent(p)})),et(this,s,gi(l=>{let c=this.editorInstanceResource.value();W(this,t)?.dispose(),et(this,t,c),l(()=>{W(this,t)?.dispose()})}))}createWrapperElement(l){let c=document.createElement("div");return c.style.width="100%",c.style.height="100%",l.appendChild(c),c}};e=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakSet,Qu=async function(l){let c=At(this.editorContainerSig).nativeElement;for(;c.hasChildNodes()&&c.firstChild;)c.removeChild(c.firstChild);let p=this.createWrapperElement(c),h=await this.setupAndGetConfigs();return this.monacoEditorService.createEditor(p,v({theme:"vs-dark",wordWrap:"on",minimap:{enabled:!1},automaticLayout:!0,value:l.initialValue??"",readOnly:!!l.readonly},h))},o.\u0275fac=function(c){return new(c||o)},o.\u0275dir=Jc({type:o,viewQuery:function(c,p){c&1&&iu(p.editorContainerSig,Om,5),c&2&&ou()},inputs:{configs:[1,"configs"]},outputs:{valueChanged:"valueChanged"}});let n=o;return n})();function Fm(n,e){n&1&&(nu(0,"span"),au(1,"Loading..."),su())}var f0=(()=>{let e=class e extends Yu{async setupAndGetConfigs(){let{schemaId:s,initialValue:r}=At(this.configs);return{language:"json",model:s?await this.monacoEditorService.getJSONModel({schemaId:s,initialValue:r}):void 0}}};e.\u0275fac=(()=>{let s;return function(i){return(s||(s=Yc(e)))(i||e)}})(),e.\u0275cmp=Zc({type:e,selectors:[["prime-ng-playground-shared-json-editor"]],features:[Kc],decls:3,vars:1,consts:[["editorContainer",""],[1,"editor-container"]],template:function(r,i){r&1&&(ru(0,"div",1,0),eu(2,Fm,2,0,"span")),r&2&&(Qc(2),tu(i.editorInstanceResource.isLoading()?2:-1))},styles:["[_nghost-%COMP%]{height:100%;width:100%;display:flex}[_nghost-%COMP%]   .editor-container[_ngcontent-%COMP%]{flex-grow:1}"]});let n=e;return n})();var bi=class{#t;constructor(e){this.configs=e,this.#t=new Wc({status:"idle",conn:null}),this.db$=this.#t.asObservable().pipe(Gc(2e3)),this.#e()}getRepo(e){return ne(this.db$.pipe(di(t=>t.conn!==null),Zn(t=>new Ca(t.conn,e))))}#e(){let e=this.#t.getValue();if(e.status==="ready"||e.status==="initializing")return;let t=indexedDB.open(this.configs.dbName,this.configs.dbVersion);t.onupgradeneeded=s=>{let r=s.target.result;for(let i of this.configs.stores)r.objectStoreNames.contains(i)||r.createObjectStore(i,{keyPath:"id",autoIncrement:!1})},t.onsuccess=()=>{this.#t.next({status:"ready",conn:t.result})},t.onerror=()=>{this.#t.next({status:"error",conn:null})}}},Ca=class{#t;#e;constructor(e,t){this.getAll=()=>new Promise((s,r)=>{let a=this.#t.transaction(this.#e,"readonly").objectStore(this.#e).getAll();a.onsuccess=()=>{s(a.result)},a.onerror=()=>{r(a.error)}}),this.createOne=s=>new Promise((r,i)=>{let l=this.#t.transaction(this.#e,"readwrite").objectStore(this.#e).add(s);l.onsuccess=()=>{r(s)},l.onerror=()=>{i(l.error)}}),this.updateOne=s=>new Promise((r,i)=>{let l=this.#t.transaction(this.#e,"readwrite").objectStore(this.#e).put(s);l.onsuccess=()=>{r(s)},l.onerror=()=>{i(l.error)}}),this.#t=e,this.#e=t}getOne(e){return new Promise((t,s)=>{let o=this.#t.transaction(this.#e,"readonly").objectStore(this.#e).get(e);o.onsuccess=()=>{if(o.result===void 0){t(null);return}t(o.result)},o.onerror=()=>{s(o.error)}})}deleteOne(e){return new Promise((t,s)=>{let o=this.#t.transaction(this.#e,"readwrite").objectStore(this.#e).delete(e);o.onsuccess=()=>{t(o.result)},o.onerror=()=>{s(o.error)}})}clearAll(){return new Promise((e,t)=>{let i=this.#t.transaction(this.#e,"readwrite").objectStore(this.#e).clear();i.onsuccess=()=>{if(i.result===void 0){e();return}t(i.result)},i.onerror=()=>{t(i.error)}})}};function Zu(n){let e=At(()=>n());return qm(e)?new Proxy(n,{get(t,s){return s in e?(Xc(t[s])||Object.defineProperty(t,s,{value:Te(()=>t()[s]),configurable:!0}),Zu(t[s])):t[s]}}):n}var Um=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function qm(n){if(n===null||typeof n!="object"||Vm(n))return!1;let e=Object.getPrototypeOf(n);if(e===Object.prototype)return!0;for(;e&&e!==Object.prototype;){if(Um.includes(e.constructor))return!1;e=Object.getPrototypeOf(e)}return e===Object.prototype}function Vm(n){return typeof n?.[Symbol.iterator]=="function"}var Hm=new WeakMap,Le=Symbol("STATE_SOURCE");function xe(n,...e){n[Le].update(t=>e.reduce((s,r)=>v(v({},s),typeof r=="function"?r(s):r),t)),Gm(n)}function jm(n){return n[Le]()}function Wm(n){return Hm.get(n[Le])||[]}function Gm(n){let e=Wm(n);for(let t of e){let s=At(()=>jm(n));t(s)}}function _i(...n){let e=[...n],t=typeof e[0]=="function"?{}:e.shift(),s=e;return(()=>{class i{constructor(){let a=s.reduce((x,T)=>T(x),zm()),{stateSignals:l,props:c,methods:p,hooks:h}=a,m=v(v(v({},l),c),p);this[Le]=a[Le];for(let x of Reflect.ownKeys(m))this[x]=m[x];let{onInit:E,onDestroy:w}=h;E&&E(),w&&de(zc).onDestroy(w)}static \u0275fac=function(l){return new(l||i)};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:t.providedIn||null})}return i})()}function zm(){return{[Le]:mi({}),stateSignals:{},props:{},methods:{},hooks:{}}}function Kn(n,...e){let t=typeof n=="function"?[n,...e]:e;return s=>t.reduce((r,i)=>i(r),s)}function Xm(n){return e=>{let t=n(v(v(v({[Le]:e[Le]},e.stateSignals),e.props),e.methods));return Reflect.ownKeys(t),V(v({},e),{props:v(v({},e.props),t)})}}function Qt(n){return Xm(n)}function Ti(n){return e=>{let t=v(v(v({[Le]:e[Le]},e.stateSignals),e.props),e.methods),s=typeof n=="function"?n(t):n,r=i=>{let o=s[i],a=e.hooks[i];return o?()=>{a&&a(),o(t)}:a};return V(v({},e),{hooks:{onInit:r("onInit"),onDestroy:r("onDestroy")}})}}function es(n){return e=>{let t=n(v(v(v({[Le]:e[Le]},e.stateSignals),e.props),e.methods));return Reflect.ownKeys(t),V(v({},e),{methods:v(v({},e.methods),t)})}}function Zt(n){return e=>{let t=typeof n=="function"?n():n,s=Reflect.ownKeys(t);e[Le].update(i=>v(v({},i),t));let r=s.reduce((i,o)=>{let a=Te(()=>e[Le]()[o]);return V(v({},i),{[o]:Zu(a)})},{});return V(v({},e),{stateSignals:v(v({},e.stateSignals),r)})}}var bt=function(n){return n[n.None=0]="None",n[n.Entities=1]="Entities",n[n.Both=2]="Both",n}(bt||{}),Ym=n=>n.id;function Ju(n){return n?.selectId??Ym}function ki(n){let e=n?.collection,t=e===void 0?"entityMap":`${e}EntityMap`,s=e===void 0?"ids":`${e}Ids`,r=e===void 0?"entities":`${e}Entities`;return{entityMapKey:t,idsKey:s,entitiesKey:r}}function Ku(n,e){return{entityMap:v({},n[e.entityMapKey]),ids:[...n[e.idsKey]]}}function ep(n,e,t){switch(t){case bt.Both:return{[e.entityMapKey]:n.entityMap,[e.idsKey]:n.ids};case bt.Entities:return{[e.entityMapKey]:n.entityMap};default:return{}}}function tp(n,e,t,s=!0){let r=t(e);return n.entityMap[r]?(n.entityMap[r]=s?e:v(v({},n.entityMap[r]),e),bt.Entities):(n.entityMap[r]=e,n.ids.push(r),bt.Both)}function Qm(n,e,t,s=!0){let r=bt.None;for(let i of e){let o=tp(n,i,t,s);r!==bt.Both&&(r=o)}return r}function Zm(n,e){let t=Array.isArray(e)?e:n.ids.filter(r=>e(n.entityMap[r])),s=bt.None;for(let r of t)n.entityMap[r]&&(delete n.entityMap[r],s=bt.Both);return s===bt.Both&&(n.ids=n.ids.filter(r=>r in n.entityMap)),s}function np(n,e){let t=ki(e);return s=>{let r=Ku(s,t),i=Zm(r,[n]);return ep(r,t,i)}}function Ii(n,e){let t=Ju(e),s=ki(e);return r=>{let i=Ku(r,s),o=tp(i,n,t);return ep(i,s,o)}}function sp(n,e){let t=Ju(e),s=ki(e);return()=>{let r={entityMap:{},ids:[]};return Qm(r,n,t),{[s.entityMapKey]:r.entityMap,[s.idsKey]:r.ids}}}function rp(n){let{entityMapKey:e,idsKey:t,entitiesKey:s}=ki(n);return Kn(Zt({[e]:{},[t]:[]}),Qt(r=>({[s]:Te(()=>{let i=r[e]();return r[t]().map(a=>i[a])})})))}var ts=()=>({requestStatus:"pending"}),Cn=()=>({requestStatus:"fulfilled"}),ns=n=>({requestStatus:{error:n}}),ip=()=>Kn(Zt({requestStatus:"idle"}),Qt(({requestStatus:n})=>({isPending:Te(()=>n()==="pending"),isFulfilled:Te(()=>n()==="fulfilled"),error:Te(()=>{let e=n();return typeof e=="object"?e.error:null})})));var Ni=n=>Kn(rp(),ip(),es(e=>{let t=n();return{loadAll:async()=>{if(!t.fetchAll)throw Error("fetchAll loader was not provided");xe(e,ts());try{let r=await t.fetchAll();return xe(e,sp(r),Cn()),r}catch(r){throw ns("Something went wrong fetching all entities"),r}},get:async r=>{let o=At(e.entities).find(a=>a.id===r);if(o)return o;if(!t.fetch)throw Error("fetch loader was not provided");xe(e,ts());try{let a=await t.fetch(r);return xe(e,Ii(a),Cn()),a}catch(a){let l=`Something went wrong fetching entity with id ${r}. Err: ${a}`;throw ns(l),xe(e,Cn()),Error(l)}},add:async r=>{if(!t.create)throw Error("create loader was not provided");xe(e,ts());try{let i=await t.create(r);return xe(e,Ii(i),Cn()),i}catch(i){throw ns("Something went wrong creating entity"),i}},change:async r=>{if(!t.update)throw Error("update loader was not provided");xe(e,ts());try{let i=await t.update(r);return xe(e,Ii(i),Cn()),i}catch(i){throw ns("Something went wrong updating entity"),i}},delete:async r=>{if(!t.delete)throw Error("delete loader was not provided");xe(e,ts());try{await t.delete(r),xe(e,np(r),Cn())}catch(i){throw ns(`Something went wrong deleting entity with id ${r}`),i}}}}));var op={id:"POKEMON_PAGINATION.REMOTE_RESOURCE",name:"Pokemon remote resource with pagination",description:"A remote resource that fetches pokemon data with support for pagination",createdAt:"2025-04-05T17:07:36.743Z",stateSubscription:{watchedScopes:{global:["pokemonPagination"]},variables:{currentPage:"<${ return this.state?.global?.pokemonPagination?.selectedPage ?? 0 }$>",currentItemPerPage:"<${ return this.state?.global?.pokemonPagination?.pageLength ?? 10 }$>"}},options:{requests:[{fetcherId:"httpFetcher",configs:{endpoint:"https://beta.pokeapi.co/graphql/v1beta",method:"POST",body:{operationName:"GetPokemons",query:`<\${ return\`query GetPokemons {
  totalCount: pokemon_v2_pokemon_aggregate {
    aggregate {
      count
    }
  }
  pokemons: pokemon_v2_pokemon(offset: \${this.state.variables.currentPage*this.state.variables.currentItemPerPage}, limit: \${this.state.variables.currentItemPerPage}) {
    name
    id
    height
    pokemon_v2_pokemonabilities {
      pokemon_v2_ability {
        name
      }
    }
    pokemon_v2_pokemontypes {
      pokemon_v2_type {
        name
      }
    }
    pokemon_v2_pokemonsprites {
      sprites(path: "other.home.front_default")
    }
  }
}\`; }$>`}},interpolation:'<${ return{pokemons:this.$current.data.pokemons.map((rawPokemonData=>({id:rawPokemonData.id,name:rawPokemonData.name,height:rawPokemonData.height,image:{imageUrl:rawPokemonData.pokemon_v2_pokemonsprites[0].sprites,altLabel:"Image of "+rawPokemonData.name},abilities:rawPokemonData.pokemon_v2_pokemonabilities.map((abilityData=>abilityData.pokemon_v2_ability.name)).join(", "),types:rawPokemonData.pokemon_v2_pokemontypes.map((typeData=>typeData.pokemon_v2_type.name)).join(", ")}))),totalCount:this.$current.data.totalCount.aggregate.count}; }$>'}]}};var ap={id:"POKEMON_PARALLEL.REMOTE_RESOURCE",name:"Pokemon parallel remote resource",description:"A remote resource that fetches pokemon data using multiple requests in parallel",createdAt:"2025-04-05T17:07:36.743Z",stateSubscription:{watchedScopes:{global:["page"]}},options:{parallel:!0,requests:[{fetcherId:"httpFetcher",configs:{endpoint:"https://pokeapi.co/api/v2/pokemon/1",method:"GET"},interpolation:"<${ return this.$current }$>"},{fetcherId:"httpFetcher",configs:{endpoint:"https://pokeapi.co/api/v2/pokemon/2",method:"GET"},interpolation:"<${ return this.$current }$>"},{fetcherId:"httpFetcher",configs:{endpoint:"https://pokeapi.co/api/v2/pokemon/3",method:"GET"},interpolation:"<${ return this.$current }$>"}]}};var lp={id:"TOP_50_POKEMONS.REMOTE_RESOURCE",name:"Top 50 pokemons",description:"A remote resource that fetches pokemon data for the top 50 ones",createdAt:"2025-04-05T17:07:36.743Z",options:{requests:[{fetcherId:"httpFetcher",configs:{endpoint:"https://beta.pokeapi.co/graphql/v1beta",method:"POST",body:{operationName:"GetTop50Pokemons",query:'query GetTop50Pokemons { pokemons: pokemon_v2_pokemon(limit: 50) { name id height pokemon_v2_pokemonabilities { pokemon_v2_ability { name } } pokemon_v2_pokemontypes { pokemon_v2_type { name } } pokemon_v2_pokemonsprites { sprites(path: "other.home.front_default") } } }'}},interpolation:'<${ return{pokemons:this.$current.data.pokemons.map((rawPokemonData=>({id:rawPokemonData.id,name:rawPokemonData.name,height:rawPokemonData.height,image:{imageUrl:rawPokemonData.pokemon_v2_pokemonsprites[0].sprites,altLabel:"Image of "+rawPokemonData.name},abilities:rawPokemonData.pokemon_v2_pokemonabilities.map((abilityData=>abilityData.pokemon_v2_ability.name)).join(", "),types:rawPokemonData.pokemon_v2_pokemontypes.map((typeData=>typeData.pokemon_v2_type.name)).join(", ")})))} }$>'}]}};var cp={id:"US_POP_PAGINATION.REMOTE_RESOURCE",name:"US population pagination remote resource",description:"A remote resource that fetches US population data with support for pagination",createdAt:"2025-04-05T17:07:36.743Z",stateSubscription:{watchedScopes:{global:["page"]}},options:{requests:[{fetcherId:"httpFetcher",configs:{endpoint:"<${ return 'https://datausa.io/api/data?drilldowns=State&measures=Population&year=20' + (this.state.global.page?.pageSize ?? 20) }$>",method:"GET"},interpolation:"<${ return this.$current.data }$>"}],onSuccess:[{type:"addToState",payload:{scope:"global",data:{usPopulation:"<${ return [...this.state.global.usPopulation ?? [], ...this.$result] }$> "}}}]}};var up={id:"blue-diamond-neocaridina-image.PRIME_NG_SIMPLE_IMAGE",type:"SIMPLE_IMAGE",name:"Blue diamond neocaridina shrimp image",description:"An image of a blue diamond neocaridina shrimp",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{imageUrl:"https://www.bluecrownaqua.com/cdn/shop/products/Blue_dream_3.jpg?v=1539065881",altLabel:"Sulawesi Whitesock shrimp"}};var pp={id:"home-introduction.PRIME_NG_SIMPLE_TEXT",type:"SIMPLE_TEXT",name:"Home introduction text",description:"An element that displays some simple text to give introduction about DJUI",createdAt:"2025-04-05T17:07:36.743Z",options:{textBlocks:[{type:"title",text:"Introduction",styles:{underline:!0}},{type:"paragraph",text:"DJ-UI: The Ultimate UI Builder Framework for Angular",styles:{weight:500,size:20}},{type:"paragraph",text:"DJ-UI is a powerful and flexible Angular library designed to help developers create their own UI builder platforms with ease. Whether you're building a low-code/no-code solution or a fully customizable design system, DJ-UI provides the essential tools to generate dynamic, interactive, and reusable UI components."},{type:"paragraph",text:"At its core, DJ-UI leverages JSON-based configuration to define layouts, components like cards, and even API calls\u2014allowing developers and end-users to create and modify UIs dynamically without writing extensive code. This makes it ideal for building intuitive, customizable, and scalable applications."},{type:"paragraph",text:"With its modular architecture and intuitive API, DJ-UI streamlines UI composition, state management, and event handling, enabling you to focus on innovation rather than boilerplate code."},{type:"paragraph",text:"Start crafting your own UI builder with DJ-UI today! \u{1F680}"}]}};var hp={id:"mix-requests-table.PRIME_NG_SIMPLE_TABLE",type:"SIMPLE_TABLE",name:"Mix requests table",description:"A table that demonstrate how to combine multiple remote resources",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",remoteResourceIds:["POKEMON_PARALLEL.REMOTE_RESOURCE","US_POP_PAGINATION.REMOTE_RESOURCE"],options:{title:"US population over the year and pokemon data",columns:[{id:"state",label:"State"},{id:"year",label:"Year"},{id:"population",label:"Population"},{id:"id",label:"ID"},{id:"name",label:"Name"},{id:"height",label:"Height"},{id:"weight",label:"Weight"},{id:"types",label:"Types"}],rows:'<${ const pokemonRows=this.remoteResourcesStates?.results?.["POKEMON_PARALLEL.REMOTE_RESOURCE"]?.result?.map((({id:id,name:name,height:height,weight:weight,types:types})=>({id:id,name:name,height:height,weight:weight,types:types.map((typeObj=>typeObj.type.name)).join(", ")})))??[];const usPopulationRows=this.remoteResourcesStates?.results?.["US_POP_PAGINATION.REMOTE_RESOURCE"]?.result?.map((({State:state,Year:year,Population:population})=>({state:state,year:year,population:population})))??[];const missingPokemonRow={id:"No data",name:"No data",height:"No data",weight:"No data",types:"No data"};let combinedRows=usPopulationRows.map(((usPopRow,idx)=>{const matchingPokemonRow=pokemonRows[idx];if(matchingPokemonRow){return{...usPopRow,...matchingPokemonRow}}return{...usPopRow,...missingPokemonRow}}));return combinedRows; }$>'}};var dp={id:"pokemon-in-memory-pagination-table.PRIME_NG_SIMPLE_TABLE",type:"SIMPLE_TABLE",name:"Pokemon in memory pagination table",description:"A table that fetch a bunch of pokemon using in-memory pagination",createdAt:"2025-04-05T17:07:36.743Z",remoteResourceIds:["TOP_50_POKEMONS.REMOTE_RESOURCE"],stateSubscription:{watchedScopes:{global:["pokemonInMemoryPagination"]},variables:{currentPage:"<${ return this.state?.global?.pokemonInMemoryPagination?.selectedPage ?? 0 }$>",currentItemPerPage:"<${ return this.state?.global?.pokemonInMemoryPagination?.pageLength ?? 10 }$>"}},options:{title:"Pokemon in-memory pagination table",styles:{fixedDataRowsHeight:"6rem"},columns:[{id:"id",label:"Id",disableResizable:!0},{id:"name",label:"Name"},{id:"height",label:"Height"},{id:"abilities",label:"Abilities"},{id:"types",label:"Types"},{id:"image",label:"Image",templateId:"pokemon-table-row-image.PRIME_NG_SIMPLE_IMAGE"}],rows:'<${ return this.remoteResourcesStates?.results?.["TOP_50_POKEMONS.REMOTE_RESOURCE"]?.result?.pokemons.slice(this.state.variables.currentPage * this.state.variables.currentItemPerPage, (this.state.variables.currentPage + 1) * this.state.variables.currentItemPerPage) ?? [] }$>',pagination:{totalDataLength:50,pageSizes:[10,15,25,50],currentPage:"<${ this.state.variables.currentPage ?? 1 }$>",currentPageLength:"<${ this.state.variables.currentItemPerPage ?? 0 }$>"}},eventsHooks:{paginationChanged:[{type:"addToState",payload:{scope:"global",data:{pokemonInMemoryPagination:"<${ return this.$eventOutput }$>"}}}]}};var fp={id:"pokemon-server-side-pagination-table.PRIME_NG_SIMPLE_TABLE",type:"SIMPLE_TABLE",name:"Pokemon server-side pagination table",description:"A table that fetch a bunch of pokemon using server-side pagination",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",remoteResourceIds:["POKEMON_PAGINATION.REMOTE_RESOURCE"],stateSubscription:{watchedScopes:{global:["usPopPage"]}},options:{title:"Pokemon table with server-side pagination",stripes:!0,gridLines:!0,resizableColumns:!0,styles:{fixedDataRowsHeight:"6rem"},columns:[{id:"id",label:"Id",disableResizable:!0},{id:"name",label:"Name"},{id:"height",label:"Height"},{id:"abilities",label:"Abilities"},{id:"types",label:"Types"},{id:"image",label:"Image",templateId:"pokemon-table-row-image.PRIME_NG_SIMPLE_IMAGE"}],rows:'<${ return this.remoteResourcesStates?.results?.["POKEMON_PAGINATION.REMOTE_RESOURCE"]?.result?.pokemons ?? [] }$>',pagination:{totalDataLength:"<${ return this.remoteResourcesStates?.results?.['POKEMON_PAGINATION.REMOTE_RESOURCE']?.result?.totalCount ?? 0 }$>",pageSizes:[10,15,25,50]}},eventsHooks:{paginationChanged:[{type:"addToState",payload:{scope:"global",data:{pokemonPagination:"<${ return this.$eventOutput }$>"}}}]}};var mp={id:"pokemon-table-row-image.PRIME_NG_SIMPLE_IMAGE",type:"SIMPLE_IMAGE",name:"Pokemon table row image",description:"A simple image UI element meant to be used in the pokemon table",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{imageUrl:"This will be override by the table",altLabel:"This will be override by the table"}};var gp={id:"purple-metallic-caridina-image.PRIME_NG_SIMPLE_IMAGE",type:"SIMPLE_IMAGE",name:"Purple metallic caridina shrimp image",description:"An image of a purple metallic caridina shrimp",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{imageUrl:"https://i.redd.it/orange-eye-purple-metallic-beauty-not-sharing-spinach-leaf-v0-t7xgyxu0af3b1.jpg?width=4032&format=pjpg&auto=webp&s=6c9d5a1ddc226afe389ee07a7ab206581213a104",altLabel:"Purple metallic caridina shrimp"}};var vp={id:"sample-images-carousel.PRIME_NG_IMAGES_CAROUSEL",type:"IMAGES_CAROUSEL",name:"Sample images carousel",description:"A sample UIE that display a bunch of shrimps images in a carousel",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{images:["sulawesi-whitesock-image.PRIME_NG_SIMPLE_IMAGE","blue-diamond-neocaridina-image.PRIME_NG_SIMPLE_IMAGE","purple-metallic-caridina-image.PRIME_NG_SIMPLE_IMAGE",{imageUrl:"https://reefbuilders.com/wp-content/blogs.dir/1/files/2015/08/harlequin-shrimp-asterina-predator.jpg",altLabel:"Harlequin Shrimp"}]}};var Ep={id:"sample-layout.SIMPLE_GRID_LAYOUT",type:"SIMPLE_GRID_LAYOUT",name:"Sample layout",description:"A simple grid layout that displays a bunch of different UI elements",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{grid:{gap:"1rem",padding:"0 10vw",rowHeight:"auto"},uiElementInstances:[{id:"1",uiElementTemplateId:"pokemon-server-side-pagination-table.PRIME_NG_SIMPLE_TABLE",positionAndSize:{cols:16}}]}};var wp={id:"shrimps-introduction-card.PRIME_NG_CARD",type:"CARD",name:"Shrimps introduction card",description:"A card that introduces the shrimps keeping hobby",createdAt:"2025-04-05T17:07:36.743Z",options:{topBanner:{templateId:"sample-images-carousel.PRIME_NG_IMAGES_CAROUSEL"},title:"Welcome shrimp keeper!",subTitle:"A introduction to the art of shrimp keeping!",body:"Keeping shrimp in an aquarium is a delicate yet rewarding aspect of the hobby, blending beauty with balance. These tiny invertebrates not only add vibrant color and activity to tanks but also serve as natural cleaners, feeding on algae and detritus. Successful shrimp keeping requires stable water parameters, minimal pollutants, and plenty of hiding spots to support molting and breeding. Enthusiasts often cultivate planted tanks with driftwood and mosses to mimic natural habitats, creating a serene, self-sustaining ecosystem. With care and patience, shrimp-keeping becomes both a visual delight and a peaceful pursuit."}};var Sp={id:"sulawesi-whitesock-image.PRIME_NG_SIMPLE_IMAGE",type:"SIMPLE_IMAGE",name:"Sulawesi whitesock shrimp image",description:"An image of a Sulawesi whitesock shrimp",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{imageUrl:"https://upload.wikimedia.org/wikipedia/commons/f/fb/Caridina-dennerli.jpg",altLabel:"Sulawesi Whitesock shrimp",priority:!0}};var yp=[Ep,fp,Sp,up,gp,vp,mp,hp,dp,pp,wp],xp=[op,ap,cp,lp];var dg="PRIME_NG_PLAYGROUND_LOCAL_DB",fg=1,mg=["appUIElementTemplates","appRemoteResourceTemplates"],Di=(()=>{let e=class e extends bi{constructor(){super({stores:mg,dbName:dg,dbVersion:fg})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Aa=(()=>{var e,t,s;let r=class r{constructor(){he(this,e);he(this,t);he(this,s);et(this,e,de(Ei)),et(this,t,de(Di)),et(this,s,hi(W(this,t).getRepo("appRemoteResourceTemplates"))),this.getAllRemoteResourceTemplates=()=>W(this,s).pipe(Pe(o=>o.getAll())),this.createRemoteResourceTemplate=o=>{let a=V(v({},o),{createdAt:new Date().toISOString()});return W(this,s).pipe(Pe(l=>l.createOne(a)))},this.updateRemoteResourceTemplate=o=>this.fetchRemoteResourceTemplate(o.id).pipe(Pe(a=>{let l=V(v({},o),{createdAt:a.createdAt,updatedAt:new Date().toISOString()});return W(this,s).pipe(Pe(c=>c.updateOne(l)),fi({next:()=>{W(this,e).updateOrRegisterTemplate(l)}}))}))}fetchRemoteResourceTemplate(o){return W(this,s).pipe(Pe(a=>a.getOne(o)),Zn(a=>{if(a===null)throw new vi({error:`Remote resource template with ID ${o} does not exist in indexed db`,status:404});return a}))}deleteRemoteResourceTemplate(o){return W(this,s).pipe(Pe(a=>a.deleteOne(o)))}async resetExampleTemplates(){let o=await ne(W(this,s));for(let a of xp){await o.deleteOne(a.id);let l=V(v({},a),{createdAt:new Date().toISOString()});await o.createOne(l)}}};e=new WeakMap,t=new WeakMap,s=new WeakMap,r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Ct({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var gg={query:{}},B_=_i(Zt(gg),Ni((n=de(Aa))=>({fetchAll:()=>ne(n.getAllRemoteResourceTemplates()),fetch:e=>ne(n.fetchRemoteResourceTemplate(e)),create:e=>ne(n.createRemoteResourceTemplate(e)),update:e=>ne(n.updateRemoteResourceTemplate(e)),delete:e=>ne(n.deleteRemoteResourceTemplate(e))})),Qt(({entities:n,query:e})=>({allRemoteResourceTemplatesInfo:Te(()=>n().map(({id:t,createdAt:s,updatedAt:r,name:i,description:o})=>({id:t,createdAt:s,updatedAt:r,name:i,description:o}))),filteredRemoteResourceTemplates:Te(()=>{let{id:t}=e();return n().filter(s=>t?s.id===t:!1)})})),es((n,e=de(Aa),t=de(Ei))=>({updateQuery:s=>{xe(n,{query:s})},resetMockTemplates:async()=>{await e.resetExampleTemplates(),await n.loadAll(),t.clearAllTemplates()}})),Ti({onInit:({loadAll:n})=>{n()}}));var ba=(()=>{var e,t,s;let r=class r{constructor(){he(this,e);he(this,t);he(this,s);et(this,e,de(wi)),et(this,t,de(Di)),et(this,s,hi(W(this,t).getRepo("appUIElementTemplates"))),this.getAllUIElementTemplates=()=>W(this,s).pipe(Pe(o=>o.getAll())),this.createUIElementTemplate=o=>{let a=V(v({},o),{createdAt:new Date().toISOString()});return W(this,s).pipe(Pe(l=>l.createOne(a)))},this.updateUIElementTemplate=o=>this.fetchUIElementTemplate(o.id).pipe(Pe(a=>{let l=V(v({},o),{createdAt:a.createdAt,updatedAt:new Date().toISOString()});return W(this,s).pipe(Pe(c=>c.updateOne(l)),fi({next:()=>{W(this,e).updateOrRegisterTemplate(l)}}))}))}fetchUIElementTemplate(o){return W(this,s).pipe(Pe(a=>a.getOne(o)),Zn(a=>{if(a===null)throw new vi({error:`UI element template with ID ${o} does not exist in indexed db`,status:404});return a}))}deleteUIElementTemplate(o){return W(this,s).pipe(Pe(a=>a.deleteOne(o)))}async resetExampleTemplates(){let o=await ne(W(this,s));for(let a of yp){await o.deleteOne(a.id);let l=V(v({},a),{createdAt:new Date().toISOString()});await o.createOne(l)}}};e=new WeakMap,t=new WeakMap,s=new WeakMap,r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Ct({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var vg={query:{}},_a=new Set([vu]),tT=_i(Zt(vg),Ni((n=de(ba))=>({fetchAll:()=>ne(n.getAllUIElementTemplates()),fetch:e=>ne(n.fetchUIElementTemplate(e)),create:e=>ne(n.createUIElementTemplate(e)),update:e=>ne(n.updateUIElementTemplate(e)),delete:e=>ne(n.deleteUIElementTemplate(e))})),Qt(({entities:n,query:e})=>({allUIElementTemplatesInfo:Te(()=>n().map(({id:t,createdAt:s,updatedAt:r,name:i,description:o,type:a})=>({id:t,type:a,createdAt:s,updatedAt:r,name:i,description:o}))),filteredUIElementTemplates:Te(()=>{let{id:t,isLayout:s=!1}=e();return n().filter(r=>{let i=!0;return t&&(i=r.id===t),s&&(i=i&&_a.has(r.type)),i})},{equal:fu})})),es((n,e=de(ba),t=de(wi))=>({updateQuery:s=>{xe(n,{query:s})},resetMockTemplates:async()=>{await e.resetExampleTemplates(),await n.loadAll(),t.clearAllTemplates()}})),Ti({onInit:({loadAll:n})=>{n()}})),nT=({id:n,isLayout:e})=>t=>{let s=!0;return n&&(s=t.id===n),e?s=s&&_a.has(t.type):s=s&&!_a.has(t.type),s};var Cp=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),xs=class n{element=null;classNames=[];attrs=[];notSelectors=[];static parse(e){let t=[],s=(l,c)=>{c.notSelectors.length>0&&!c.element&&c.classNames.length==0&&c.attrs.length==0&&(c.element="*"),l.push(c)},r=new n,i,o=r,a=!1;for(Cp.lastIndex=0;i=Cp.exec(e);){if(i[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,o=new n,r.notSelectors.push(o)}let l=i[2];if(l){let p=i[3];p==="#"?o.addAttribute("id",l.slice(1)):p==="."?o.addClassName(l.slice(1)):o.setElement(l)}let c=i[4];if(c&&o.addAttribute(o.unescapeAttribute(c),i[6]),i[7]&&(a=!1,o=r),i[8]){if(a)throw new Error("Multiple selectors in :not are not supported");s(t,r),r=o=new n}}return s(t,r),t}unescapeAttribute(e){let t="",s=!1;for(let r=0;r<e.length;r++){let i=e.charAt(r);if(i==="\\"){s=!0;continue}if(i==="$"&&!s)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);s=!1,t+=i}return t}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(t=>e+=`.${t}`),this.attrs)for(let t=0;t<this.attrs.length;t+=2){let s=this.escapeAttribute(this.attrs[t]),r=this.attrs[t+1];e+=`[${s}${r?"="+r:""}]`}return this.notSelectors.forEach(t=>e+=`:not(${t})`),e}},Yi=class n{static createNotMatcher(e){let t=new n;return t.addSelectables(e,null),t}_elementMap=new Map;_elementPartialMap=new Map;_classMap=new Map;_classPartialMap=new Map;_attrValueMap=new Map;_attrValuePartialMap=new Map;_listContexts=[];addSelectables(e,t){let s=null;e.length>1&&(s=new Qa(e),this._listContexts.push(s));for(let r=0;r<e.length;r++)this._addSelectable(e[r],t,s)}_addSelectable(e,t,s){let r=this,i=e.element,o=e.classNames,a=e.attrs,l=new Za(e,t,s);if(i&&(a.length===0&&o.length===0?this._addTerminal(r._elementMap,i,l):r=this._addPartial(r._elementPartialMap,i)),o)for(let c=0;c<o.length;c++){let p=a.length===0&&c===o.length-1,h=o[c];p?this._addTerminal(r._classMap,h,l):r=this._addPartial(r._classPartialMap,h)}if(a)for(let c=0;c<a.length;c+=2){let p=c===a.length-2,h=a[c],m=a[c+1];if(p){let E=r._attrValueMap,w=E.get(h);w||(w=new Map,E.set(h,w)),this._addTerminal(w,m,l)}else{let E=r._attrValuePartialMap,w=E.get(h);w||(w=new Map,E.set(h,w)),r=this._addPartial(w,m)}}}_addTerminal(e,t,s){let r=e.get(t);r||(r=[],e.set(t,r)),r.push(s)}_addPartial(e,t){let s=e.get(t);return s||(s=new n,e.set(t,s)),s}match(e,t){let s=!1,r=e.element,i=e.classNames,o=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(s=this._matchTerminal(this._elementMap,r,e,t)||s,s=this._matchPartial(this._elementPartialMap,r,e,t)||s,i)for(let a=0;a<i.length;a++){let l=i[a];s=this._matchTerminal(this._classMap,l,e,t)||s,s=this._matchPartial(this._classPartialMap,l,e,t)||s}if(o)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1],p=this._attrValueMap.get(l);c&&(s=this._matchTerminal(p,"",e,t)||s),s=this._matchTerminal(p,c,e,t)||s;let h=this._attrValuePartialMap.get(l);c&&(s=this._matchPartial(h,"",e,t)||s),s=this._matchPartial(h,c,e,t)||s}return s}_matchTerminal(e,t,s,r){if(!e||typeof t!="string")return!1;let i=e.get(t)||[],o=e.get("*");if(o&&(i=i.concat(o)),i.length===0)return!1;let a,l=!1;for(let c=0;c<i.length;c++)a=i[c],l=a.finalize(s,r)||l;return l}_matchPartial(e,t,s,r){if(!e||typeof t!="string")return!1;let i=e.get(t);return i?i.match(s,r):!1}},Qa=class{selectors;alreadyMatched=!1;constructor(e){this.selectors=e}},Za=class{selector;cbContext;listContext;notSelectors;constructor(e,t,s){this.selector=e,this.cbContext=t,this.listContext=s,this.notSelectors=e.notSelectors}finalize(e,t){let s=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(s=!Yi.createNotMatcher(this.notSelectors).match(e,null)),s&&t&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),s}},Qi=class{registry;constructor(e){this.registry=e}match(e){return this.registry.has(e)?this.registry.get(e):[]}};var An=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(An||{}),vc=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(vc||{}),nr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(nr||{}),Ap={name:"custom-elements"},bp={name:"no-errors-schema"};var Z=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Z||{});function Eg(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return[n.element&&n.element!=="*"?n.element:"",...n.attrs,...e]}function wg(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return n.element?[5,n.element,...n.attrs,...e]:n.attrs.length?[3,...n.attrs,...e]:n.classNames&&n.classNames.length?[9,...n.classNames]:[]}function Sg(n){let e=Eg(n),t=n.notSelectors&&n.notSelectors.length?n.notSelectors.map(s=>wg(s)):[];return e.concat(...t)}function Ec(n){return n?xs.parse(n).map(Sg):[]}var Ft=function(n){return n[n.Directive=0]="Directive",n[n.Component=1]="Component",n[n.Injectable=2]="Injectable",n[n.Pipe=3]="Pipe",n[n.NgModule=4]="NgModule",n}(Ft||{});var Zi;function yg(n){return bg(Ag(n.nodes).join("")+`[${n.meaning}]`)}function xg(n){return n.id||fd(n)}function fd(n){let e=new Ja,t=n.nodes.map(s=>s.visit(e,null));return md(t.join(""),n.meaning)}var Ji=class{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map(s=>s.visit(this)).join(", ")}]`}visitIcu(e,t){let s=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expression}, ${e.type}, ${s.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(s=>s.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,t){return`<ph block name="${e.startName}">${e.children.map(s=>s.visit(this)).join(", ")}</ph name="${e.closeName}">`}},Cg=new Ji;function Ag(n){return n.map(e=>e.visit(Cg,null))}var Ja=class extends Ji{visitIcu(e){let t=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.type}, ${t.join(", ")}}`}};function bg(n){Zi??=new TextEncoder;let e=[...Zi.encode(n)],t=kg(e,wc.Big),s=e.length*8,r=new Uint32Array(80),i=1732584193,o=4023233417,a=2562383102,l=271733878,c=3285377520;t[s>>5]|=128<<24-s%32,t[(s+64>>9<<4)+15]=s;for(let p=0;p<t.length;p+=16){let h=i,m=o,E=a,w=l,x=c;for(let T=0;T<80;T++){T<16?r[T]=t[p+T]:r[T]=Ta(r[T-3]^r[T-8]^r[T-14]^r[T-16],1);let A=_g(T,o,a,l),N=A[0],Y=A[1],K=[Ta(i,5),N,c,Y,r[T]].reduce(ss);c=l,l=a,a=Ta(o,30),o=i,i=K}i=ss(i,h),o=ss(o,m),a=ss(a,E),l=ss(l,w),c=ss(c,x)}return Zs(i)+Zs(o)+Zs(a)+Zs(l)+Zs(c)}function Zs(n){return(n>>>0).toString(16).padStart(8,"0")}function _g(n,e,t,s){return n<20?[e&t|~e&s,1518500249]:n<40?[e^t^s,1859775393]:n<60?[e&t|e&s|t&s,2400959708]:[e^t^s,3395469782]}function _p(n){Zi??=new TextEncoder;let e=Zi.encode(n),t=new DataView(e.buffer,e.byteOffset,e.byteLength),s=Tp(t,e.length,0),r=Tp(t,e.length,102072);return s==0&&(r==0||r==1)&&(s=s^319790063,r=r^-1801410264),BigInt.asUintN(32,BigInt(s))<<BigInt(32)|BigInt.asUintN(32,BigInt(r))}function md(n,e=""){let t=_p(n);return e&&(t=BigInt.asUintN(64,t<<BigInt(1))|t>>BigInt(63)&BigInt(1),t+=_p(e)),BigInt.asUintN(63,t).toString()}function Tp(n,e,t){let s=2654435769,r=2654435769,i=0,o=e-12;for(;i<=o;i+=12){s+=n.getUint32(i,!0),r+=n.getUint32(i+4,!0),t+=n.getUint32(i+8,!0);let l=kp(s,r,t);s=l[0],r=l[1],t=l[2]}let a=e-i;return t+=e,a>=4?(s+=n.getUint32(i,!0),i+=4,a>=8?(r+=n.getUint32(i,!0),i+=4,a>=9&&(t+=n.getUint8(i++)<<8),a>=10&&(t+=n.getUint8(i++)<<16),a===11&&(t+=n.getUint8(i++)<<24)):(a>=5&&(r+=n.getUint8(i++)),a>=6&&(r+=n.getUint8(i++)<<8),a===7&&(r+=n.getUint8(i++)<<16))):(a>=1&&(s+=n.getUint8(i++)),a>=2&&(s+=n.getUint8(i++)<<8),a===3&&(s+=n.getUint8(i++)<<16)),kp(s,r,t)[2]}function kp(n,e,t){return n-=e,n-=t,n^=t>>>13,e-=t,e-=n,e^=n<<8,t-=n,t-=e,t^=e>>>13,n-=e,n-=t,n^=t>>>12,e-=t,e-=n,e^=n<<16,t-=n,t-=e,t^=e>>>5,n-=e,n-=t,n^=t>>>3,e-=t,e-=n,e^=n<<10,t-=n,t-=e,t^=e>>>15,[n,e,t]}var wc=function(n){return n[n.Little=0]="Little",n[n.Big=1]="Big",n}(wc||{});function ss(n,e){return Tg(n,e)[1]}function Tg(n,e){let t=(n&65535)+(e&65535),s=(n>>>16)+(e>>>16)+(t>>>16);return[s>>>16,s<<16|t&65535]}function Ta(n,e){return n<<e|n>>>32-e}function kg(n,e){let t=n.length+3>>>2,s=[];for(let r=0;r<t;r++)s[r]=Ig(n,r*4,e);return s}function Ip(n,e){return e>=n.length?0:n[e]}function Ig(n,e,t){let s=0;if(t===wc.Big)for(let r=0;r<4;r++)s+=Ip(n,e+r)<<24-8*r;else for(let r=0;r<4;r++)s+=Ip(n,e+r)<<8*r;return s}var gd=function(n){return n[n.None=0]="None",n[n.Const=1]="Const",n}(gd||{}),Ki=class{modifiers;constructor(e=gd.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},Xt=function(n){return n[n.Dynamic=0]="Dynamic",n[n.Bool=1]="Bool",n[n.String=2]="String",n[n.Int=3]="Int",n[n.Number=4]="Number",n[n.Function=5]="Function",n[n.Inferred=6]="Inferred",n[n.None=7]="None",n}(Xt||{}),It=class extends Ki{name;constructor(e,t){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}},lt=class extends Ki{value;typeParams;constructor(e,t,s=null){super(t),this.value=e,this.typeParams=s}visitType(e,t){return e.visitExpressionType(this,t)}};var oi=new It(Xt.Dynamic),ze=new It(Xt.Inferred),Ng=new It(Xt.Bool),rT=new It(Xt.Int),Sc=new It(Xt.Number),yc=new It(Xt.String),iT=new It(Xt.Function),Nt=new It(Xt.None),vr=function(n){return n[n.Minus=0]="Minus",n[n.Plus=1]="Plus",n}(vr||{}),y=function(n){return n[n.Equals=0]="Equals",n[n.NotEquals=1]="NotEquals",n[n.Assign=2]="Assign",n[n.Identical=3]="Identical",n[n.NotIdentical=4]="NotIdentical",n[n.Minus=5]="Minus",n[n.Plus=6]="Plus",n[n.Divide=7]="Divide",n[n.Multiply=8]="Multiply",n[n.Modulo=9]="Modulo",n[n.And=10]="And",n[n.Or=11]="Or",n[n.BitwiseOr=12]="BitwiseOr",n[n.BitwiseAnd=13]="BitwiseAnd",n[n.Lower=14]="Lower",n[n.LowerEquals=15]="LowerEquals",n[n.Bigger=16]="Bigger",n[n.BiggerEquals=17]="BiggerEquals",n[n.NullishCoalesce=18]="NullishCoalesce",n[n.Exponentiation=19]="Exponentiation",n[n.In=20]="In",n[n.AdditionAssignment=21]="AdditionAssignment",n[n.SubtractionAssignment=22]="SubtractionAssignment",n[n.MultiplicationAssignment=23]="MultiplicationAssignment",n[n.DivisionAssignment=24]="DivisionAssignment",n[n.RemainderAssignment=25]="RemainderAssignment",n[n.ExponentiationAssignment=26]="ExponentiationAssignment",n[n.AndAssignment=27]="AndAssignment",n[n.OrAssignment=28]="OrAssignment",n[n.NullishCoalesceAssignment=29]="NullishCoalesceAssignment",n}(y||{});function Dg(n,e){return n==null||e==null?n==e:n.isEquivalent(e)}function vd(n,e,t){let s=n.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(!t(n[r],e[r]))return!1;return!0}function Qe(n,e){return vd(n,e,(t,s)=>t.isEquivalent(s))}var j=class{type;sourceSpan;constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new Ze(this,e,null,t)}key(e,t,s){return new Wt(this,e,t,s)}callFn(e,t,s){return new Fe(this,e,null,t,s)}instantiate(e,t,s){return new wr(this,e,t,s)}conditional(e,t=null,s){return new Dt(this,e,t,null,s)}equals(e,t){return new U(y.Equals,this,e,null,t)}notEquals(e,t){return new U(y.NotEquals,this,e,null,t)}identical(e,t){return new U(y.Identical,this,e,null,t)}notIdentical(e,t){return new U(y.NotIdentical,this,e,null,t)}minus(e,t){return new U(y.Minus,this,e,null,t)}plus(e,t){return new U(y.Plus,this,e,null,t)}divide(e,t){return new U(y.Divide,this,e,null,t)}multiply(e,t){return new U(y.Multiply,this,e,null,t)}modulo(e,t){return new U(y.Modulo,this,e,null,t)}power(e,t){return new U(y.Exponentiation,this,e,null,t)}and(e,t){return new U(y.And,this,e,null,t)}bitwiseOr(e,t){return new U(y.BitwiseOr,this,e,null,t)}bitwiseAnd(e,t){return new U(y.BitwiseAnd,this,e,null,t)}or(e,t){return new U(y.Or,this,e,null,t)}lower(e,t){return new U(y.Lower,this,e,null,t)}lowerEquals(e,t){return new U(y.LowerEquals,this,e,null,t)}bigger(e,t){return new U(y.Bigger,this,e,null,t)}biggerEquals(e,t){return new U(y.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(Rg,e)}nullishCoalesce(e,t){return new U(y.NullishCoalesce,this,e,null,t)}toStmt(){return new pt(this,null)}},ut=class n extends j{name;constructor(e,t,s){super(t,s),this.name=e}isEquivalent(e){return e instanceof n&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}clone(){return new n(this.name,this.type,this.sourceSpan)}set(e){return new U(y.Assign,this,e,null,this.sourceSpan)}},Cs=class n extends j{expr;constructor(e,t,s){super(t,s),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},eo=class n extends j{expr;constructor(e,t,s){super(t,s),this.expr=e}visitExpression(e,t){return e.visitVoidExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},F=class n extends j{node;constructor(e,t,s){super(t,s),this.node=e}isEquivalent(e){return e instanceof n&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}clone(){return new n(this.node,this.type,this.sourceSpan)}},Fe=class n extends j{fn;args;pure;constructor(e,t,s,r,i=!1){super(s,r),this.fn=e,this.args=t,this.pure=i}get receiver(){return this.fn}isEquivalent(e){return e instanceof n&&this.fn.isEquivalent(e.fn)&&Qe(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}clone(){return new n(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},Er=class n extends j{tag;template;constructor(e,t,s,r){super(s,r),this.tag=e,this.template=t}isEquivalent(e){return e instanceof n&&this.tag.isEquivalent(e.tag)&&this.template.isEquivalent(e.template)}isConstant(){return!1}visitExpression(e,t){return e.visitTaggedTemplateLiteralExpr(this,t)}clone(){return new n(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},wr=class n extends j{classExpr;args;constructor(e,t,s,r){super(s,r),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof n&&this.classExpr.isEquivalent(e.classExpr)&&Qe(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}clone(){return new n(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},ye=class n extends j{value;constructor(e,t,s){super(t,s),this.value=e}isEquivalent(e){return e instanceof n&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}clone(){return new n(this.value,this.type,this.sourceSpan)}},Sr=class n extends j{elements;expressions;constructor(e,t,s){super(null,s),this.elements=e,this.expressions=t}isEquivalent(e){return e instanceof n&&vd(this.elements,e.elements,(t,s)=>t.text===s.text)&&Qe(this.expressions,e.expressions)}isConstant(){return!1}visitExpression(e,t){return e.visitTemplateLiteralExpr(this,t)}clone(){return new n(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},to=class n extends j{text;rawText;constructor(e,t,s){super(yc,t),this.text=e,this.rawText=s??Ka(Hi(e))}visitExpression(e,t){return e.visitTemplateLiteralElementExpr(this,t)}isEquivalent(e){return e instanceof n&&e.text===this.text&&e.rawText===this.rawText}isConstant(){return!0}clone(){return new n(this.text,this.sourceSpan,this.rawText)}},Dn=class{text;sourceSpan;constructor(e,t){this.text=e,this.sourceSpan=t}},gs=class{text;sourceSpan;associatedMessage;constructor(e,t,s){this.text=e,this.sourceSpan=t,this.associatedMessage=s}},Pg="|",Np="@@",Lg="\u241F",no=class n extends j{metaBlock;messageParts;placeHolderNames;expressions;constructor(e,t,s,r,i){super(yc,i),this.metaBlock=e,this.messageParts=t,this.placeHolderNames=s,this.expressions=r}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,t){return e.visitLocalizedString(this,t)}clone(){return new n(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${Pg}${e}`),this.metaBlock.customId&&(e=`${e}${Np}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(t=>{e=`${e}${Lg}${t}`}),Dp(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let t=this.placeHolderNames[e-1],s=this.messageParts[e],r=t.text;return t.associatedMessage?.legacyIds.length===0&&(r+=`${Np}${md(t.associatedMessage.messageString,t.associatedMessage.meaning)}`),Dp(r,s.text,this.getMessagePartSourceSpan(e))}},Hi=n=>n.replace(/\\/g,"\\\\"),Mg=n=>n.replace(/^:/,"\\:"),Bg=n=>n.replace(/:/g,"\\:"),Ka=n=>n.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function Dp(n,e,t){return n===""?{cooked:e,raw:Ka(Mg(Hi(e))),range:t}:{cooked:`:${n}:${e}`,raw:Ka(`:${Bg(Hi(n))}:${Hi(e)}`),range:t}}var On=class n extends j{value;typeParams;constructor(e,t,s=null,r){super(t,r),this.value=e,this.typeParams=s}isEquivalent(e){return e instanceof n&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}clone(){return new n(this.value,this.type,this.typeParams,this.sourceSpan)}};var Dt=class n extends j{condition;falseCase;trueCase;constructor(e,t,s=null,r,i){super(r||t.type,i),this.condition=e,this.falseCase=s,this.trueCase=t}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&Dg(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}clone(){return new n(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}};var yr=class n extends j{condition;constructor(e,t){super(Ng,t),this.condition=e}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}clone(){return new n(this.condition.clone(),this.sourceSpan)}},me=class n{name;type;constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}clone(){return new n(this.name,this.type)}},cn=class n extends j{params;statements;name;constructor(e,t,s,r,i){super(s,r),this.params=e,this.statements=t,this.name=i}isEquivalent(e){return(e instanceof n||e instanceof xr)&&Qe(this.params,e.params)&&Qe(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t){return new xr(e,this.params,this.statements,this.type,t,this.sourceSpan)}clone(){return new n(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},Fn=class n extends j{params;body;constructor(e,t,s,r){super(s,r),this.params=e,this.body=t}isEquivalent(e){return!(e instanceof n)||!Qe(this.params,e.params)?!1:this.body instanceof j&&e.body instanceof j?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?Qe(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,t){return e.visitArrowFunctionExpr(this,t)}clone(){return new n(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,t){return new pe(e,this,ze,t,this.sourceSpan)}},Un=class n extends j{operator;expr;parens;constructor(e,t,s,r,i=!0){super(s||Sc,r),this.operator=e,this.expr=t,this.parens=i}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,t){return e.visitUnaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},Pt=class n extends j{expr;constructor(e,t,s){super(t,s),this.expr=e}visitExpression(e,t){return e.visitParenthesizedExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},U=class n extends j{operator;rhs;lhs;constructor(e,t,s,r,i){super(r||t.type,i),this.operator=e,this.rhs=s,this.lhs=t}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan)}isAssignment(){let e=this.operator;return e===y.Assign||e===y.AdditionAssignment||e===y.SubtractionAssignment||e===y.MultiplicationAssignment||e===y.DivisionAssignment||e===y.RemainderAssignment||e===y.ExponentiationAssignment||e===y.AndAssignment||e===y.OrAssignment||e===y.NullishCoalesceAssignment}},Ze=class n extends j{receiver;name;constructor(e,t,s,r){super(s,r),this.receiver=e,this.name=t}get index(){return this.name}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new U(y.Assign,this.receiver.prop(this.name),e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},Wt=class n extends j{receiver;index;constructor(e,t,s,r){super(s,r),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new U(y.Assign,this.receiver.key(this.index),e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},Et=class n extends j{entries;constructor(e,t,s){super(t,s),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof n&&Qe(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}clone(){return new n(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},As=class n{key;value;quoted;constructor(e,t,s){this.key=e,this.value=t,this.quoted=s}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new n(this.key,this.value.clone(),this.quoted)}},Lt=class n extends j{entries;valueType=null;constructor(e,t,s){super(t,s),this.entries=e,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof n&&Qe(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}clone(){let e=this.entries.map(t=>t.clone());return new n(e,this.type,this.sourceSpan)}};var bs=new ye(null,null,null),Rg=new ye(null,ze,null),we=function(n){return n[n.None=0]="None",n[n.Final=1]="Final",n[n.Private=2]="Private",n[n.Exported=4]="Exported",n[n.Static=8]="Static",n}(we||{}),el=class{text;multiline;trailingNewline;constructor(e,t,s){this.text=e,this.multiline=t,this.trailingNewline=s}toString(){return this.multiline?` ${this.text} `:this.text}},so=class extends el{tags;constructor(e){super("",!0,!0),this.tags=e}toString(){return qg(this.tags)}},qn=class{modifiers;sourceSpan;leadingComments;constructor(e=we.None,t=null,s){this.modifiers=e,this.sourceSpan=t,this.leadingComments=s}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},pe=class n extends qn{name;value;type;constructor(e,t,s,r,i,o){super(r,i,o),this.name=e,this.value=t,this.type=s||t&&t.type||null}isEquivalent(e){return e instanceof n&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}},xr=class n extends qn{name;params;statements;type;constructor(e,t,s,r,i,o,a){super(i,o,a),this.name=e,this.params=t,this.statements=s,this.type=r||null}isEquivalent(e){return e instanceof n&&Qe(this.params,e.params)&&Qe(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}},pt=class n extends qn{expr;constructor(e,t,s){super(we.None,t,s),this.expr=e}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}},be=class n extends qn{value;constructor(e,t=null,s){super(we.None,t,s),this.value=e}isEquivalent(e){return e instanceof n&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}},ro=class n extends qn{condition;trueCase;falseCase;constructor(e,t,s=[],r,i){super(we.None,r,i),this.condition=e,this.trueCase=t,this.falseCase=s}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&Qe(this.trueCase,e.trueCase)&&Qe(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}};function $g(n=[]){return new so(n)}function O(n,e,t){return new ut(n,e,t)}function _(n,e=null,t){return new On(n,null,e,t)}function Se(n,e,t){return new lt(n,e,t)}function ai(n){return new Cs(n)}function H(n,e,t){return new Et(n,e,t)}function De(n,e=null){return new Lt(n.map(t=>new As(t.key,t.value,t.quoted)),e,null)}function Og(n,e){return new yr(n,e)}function pn(n,e,t,s,r){return new cn(n,e,t,s,r)}function wt(n,e,t,s){return new Fn(n,e,t,s)}function ha(n,e,t,s,r){return new ro(n,e,t,s,r)}function Fg(n,e,t,s){return new Er(n,e,t,s)}function g(n,e,t){return new ye(n,e,t)}function Ug(n,e,t,s,r){return new no(n,e,t,s,r)}function Pp(n){let e="";if(n.tagName&&(e+=` @${n.tagName}`),n.text){if(n.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+n.text.replace(/@/g,"\\@")}return e}function qg(n){if(n.length===0)return"";if(n.length===1&&n[0].tagName&&!n[0].text)return`*${Pp(n[0])} `;let e=`*
`;for(let t of n)e+=" *",e+=Pp(t).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var Vg="_c",Lp=O("<unknown>"),Hg={},jg=50,io=class n extends j{resolved;original;shared=!1;constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===Hg?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},oo=class{isClosureCompilerEnabled;statements=[];literals=new Map;literalFactories=new Map;sharedConstants=new Map;_claimedNames=new Map;nextNameIndex=0;constructor(e=!1){this.isClosureCompilerEnabled=e}getConstLiteral(e,t){if(e instanceof ye&&!Mp(e)||e instanceof io)return e;let s=vs.INSTANCE.keyOf(e),r=this.literals.get(s),i=!1;if(r||(r=new io(e),this.literals.set(s,r),i=!0),!i&&!r.shared||i&&t){let o=this.freshName(),a,l;this.isClosureCompilerEnabled&&Mp(e)?(a=new cn([],[new be(e)]),l=O(o).callFn([])):(a=e,l=O(o)),this.statements.push(new pe(o,a,ze,we.Final)),r.fixup(l)}return r}getSharedConstant(e,t){let s=e.keyOf(t);if(!this.sharedConstants.has(s)){let r=this.freshName();this.sharedConstants.set(s,O(r)),this.statements.push(e.toSharedConstantDeclaration(r,t))}return this.sharedConstants.get(s)}getLiteralFactory(e){if(e instanceof Et){let t=e.entries.map(r=>r.isConstant()?r:Lp),s=vs.INSTANCE.keyOf(H(t));return this._getLiteralFactory(s,e.entries,r=>H(r))}else{let t=De(e.entries.map(r=>({key:r.key,value:r.value.isConstant()?r.value:Lp,quoted:r.quoted}))),s=vs.INSTANCE.keyOf(t);return this._getLiteralFactory(s,e.entries.map(r=>r.value),r=>De(r.map((i,o)=>({key:e.entries[o].key,value:i,quoted:e.entries[o].quoted}))))}}getSharedFunctionReference(e,t,s=!0){let r=e instanceof Fn;for(let o of this.statements)if(r&&o instanceof pe&&o.value?.isEquivalent(e)||!r&&o instanceof xr&&e instanceof cn&&e.isEquivalent(o))return O(o.name);let i=s?this.uniqueName(t):t;return this.statements.push(e instanceof cn?e.toDeclStmt(i,we.Final):new pe(i,e,ze,we.Final,e.sourceSpan)),O(i)}_getLiteralFactory(e,t,s){let r=this.literalFactories.get(e),i=t.filter(o=>!o.isConstant());if(!r){let o=t.map((p,h)=>p.isConstant()?this.getConstLiteral(p,!0):O(`a${h}`)),a=o.filter(Wg).map(p=>new me(p.name,oi)),l=wt(a,s(o),ze),c=this.freshName();this.statements.push(new pe(c,l,ze,we.Final)),r=O(c),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:i}}uniqueName(e,t=!0){let s=this._claimedNames.get(e)??0,r=s===0&&!t?`${e}`:`${e}${s}`;return this._claimedNames.set(e,s+1),r}freshName(){return this.uniqueName(Vg)}},vs=class n{static INSTANCE=new n;keyOf(e){if(e instanceof ye&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof ye)return String(e.value);if(e instanceof Et){let t=[];for(let s of e.entries)t.push(this.keyOf(s));return`[${t.join(",")}]`}else if(e instanceof Lt){let t=[];for(let s of e.entries){let r=s.key;s.quoted&&(r=`"${r}"`),t.push(r+":"+this.keyOf(s.value))}return`{${t.join(",")}}`}else{if(e instanceof On)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof ut)return`read(${e.name})`;if(e instanceof Cs)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function Wg(n){return n instanceof ut}function Mp(n){return n instanceof ye&&typeof n.value=="string"&&n.value.length>=jg}var f="@angular/core",d=(()=>{class n{static NEW_METHOD="factory";static TRANSFORM_METHOD="transform";static PATCH_DEPS="patchedDeps";static core={name:null,moduleName:f};static namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:f};static namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:f};static namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:f};static element={name:"\u0275\u0275element",moduleName:f};static elementStart={name:"\u0275\u0275elementStart",moduleName:f};static elementEnd={name:"\u0275\u0275elementEnd",moduleName:f};static domElement={name:"\u0275\u0275domElement",moduleName:f};static domElementStart={name:"\u0275\u0275domElementStart",moduleName:f};static domElementEnd={name:"\u0275\u0275domElementEnd",moduleName:f};static domElementContainer={name:"\u0275\u0275domElementContainer",moduleName:f};static domElementContainerStart={name:"\u0275\u0275domElementContainerStart",moduleName:f};static domElementContainerEnd={name:"\u0275\u0275domElementContainerEnd",moduleName:f};static domTemplate={name:"\u0275\u0275domTemplate",moduleName:f};static domListener={name:"\u0275\u0275domListener",moduleName:f};static advance={name:"\u0275\u0275advance",moduleName:f};static syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:f};static syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:f};static attribute={name:"\u0275\u0275attribute",moduleName:f};static classProp={name:"\u0275\u0275classProp",moduleName:f};static elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:f};static elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:f};static elementContainer={name:"\u0275\u0275elementContainer",moduleName:f};static styleMap={name:"\u0275\u0275styleMap",moduleName:f};static classMap={name:"\u0275\u0275classMap",moduleName:f};static styleProp={name:"\u0275\u0275styleProp",moduleName:f};static interpolate={name:"\u0275\u0275interpolate",moduleName:f};static interpolate1={name:"\u0275\u0275interpolate1",moduleName:f};static interpolate2={name:"\u0275\u0275interpolate2",moduleName:f};static interpolate3={name:"\u0275\u0275interpolate3",moduleName:f};static interpolate4={name:"\u0275\u0275interpolate4",moduleName:f};static interpolate5={name:"\u0275\u0275interpolate5",moduleName:f};static interpolate6={name:"\u0275\u0275interpolate6",moduleName:f};static interpolate7={name:"\u0275\u0275interpolate7",moduleName:f};static interpolate8={name:"\u0275\u0275interpolate8",moduleName:f};static interpolateV={name:"\u0275\u0275interpolateV",moduleName:f};static nextContext={name:"\u0275\u0275nextContext",moduleName:f};static resetView={name:"\u0275\u0275resetView",moduleName:f};static templateCreate={name:"\u0275\u0275template",moduleName:f};static defer={name:"\u0275\u0275defer",moduleName:f};static deferWhen={name:"\u0275\u0275deferWhen",moduleName:f};static deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:f};static deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:f};static deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:f};static deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:f};static deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:f};static deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:f};static deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:f};static deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:f};static deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:f};static deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:f};static deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:f};static deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:f};static deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:f};static deferHydrateWhen={name:"\u0275\u0275deferHydrateWhen",moduleName:f};static deferHydrateNever={name:"\u0275\u0275deferHydrateNever",moduleName:f};static deferHydrateOnIdle={name:"\u0275\u0275deferHydrateOnIdle",moduleName:f};static deferHydrateOnImmediate={name:"\u0275\u0275deferHydrateOnImmediate",moduleName:f};static deferHydrateOnTimer={name:"\u0275\u0275deferHydrateOnTimer",moduleName:f};static deferHydrateOnHover={name:"\u0275\u0275deferHydrateOnHover",moduleName:f};static deferHydrateOnInteraction={name:"\u0275\u0275deferHydrateOnInteraction",moduleName:f};static deferHydrateOnViewport={name:"\u0275\u0275deferHydrateOnViewport",moduleName:f};static deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:f};static conditionalCreate={name:"\u0275\u0275conditionalCreate",moduleName:f};static conditionalBranchCreate={name:"\u0275\u0275conditionalBranchCreate",moduleName:f};static conditional={name:"\u0275\u0275conditional",moduleName:f};static repeater={name:"\u0275\u0275repeater",moduleName:f};static repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:f};static repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:f};static repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:f};static componentInstance={name:"\u0275\u0275componentInstance",moduleName:f};static text={name:"\u0275\u0275text",moduleName:f};static enableBindings={name:"\u0275\u0275enableBindings",moduleName:f};static disableBindings={name:"\u0275\u0275disableBindings",moduleName:f};static getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:f};static textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:f};static textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:f};static textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:f};static textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:f};static textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:f};static textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:f};static textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:f};static textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:f};static textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:f};static textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:f};static restoreView={name:"\u0275\u0275restoreView",moduleName:f};static pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:f};static pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:f};static pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:f};static pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:f};static pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:f};static pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:f};static pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:f};static pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:f};static pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:f};static pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:f};static pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:f};static pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:f};static pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:f};static pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:f};static pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:f};static domProperty={name:"\u0275\u0275domProperty",moduleName:f};static property={name:"\u0275\u0275property",moduleName:f};static i18n={name:"\u0275\u0275i18n",moduleName:f};static i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:f};static i18nExp={name:"\u0275\u0275i18nExp",moduleName:f};static i18nStart={name:"\u0275\u0275i18nStart",moduleName:f};static i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:f};static i18nApply={name:"\u0275\u0275i18nApply",moduleName:f};static i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:f};static pipe={name:"\u0275\u0275pipe",moduleName:f};static projection={name:"\u0275\u0275projection",moduleName:f};static projectionDef={name:"\u0275\u0275projectionDef",moduleName:f};static reference={name:"\u0275\u0275reference",moduleName:f};static inject={name:"\u0275\u0275inject",moduleName:f};static injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:f};static directiveInject={name:"\u0275\u0275directiveInject",moduleName:f};static invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:f};static invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:f};static templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:f};static forwardRef={name:"forwardRef",moduleName:f};static resolveForwardRef={name:"resolveForwardRef",moduleName:f};static replaceMetadata={name:"\u0275\u0275replaceMetadata",moduleName:f};static getReplaceMetadataURL={name:"\u0275\u0275getReplaceMetadataURL",moduleName:f};static \u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:f};static declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:f};static InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:f};static resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:f};static resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:f};static resolveBody={name:"\u0275\u0275resolveBody",moduleName:f};static getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:f};static defineComponent={name:"\u0275\u0275defineComponent",moduleName:f};static declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:f};static setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:f};static ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:f};static ViewEncapsulation={name:"ViewEncapsulation",moduleName:f};static ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:f};static FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:f};static declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:f};static FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:f};static defineDirective={name:"\u0275\u0275defineDirective",moduleName:f};static declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:f};static DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:f};static InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:f};static InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:f};static defineInjector={name:"\u0275\u0275defineInjector",moduleName:f};static declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:f};static NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:f};static ModuleWithProviders={name:"ModuleWithProviders",moduleName:f};static defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:f};static declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:f};static setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:f};static registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:f};static PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:f};static definePipe={name:"\u0275\u0275definePipe",moduleName:f};static declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:f};static declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:f};static declareClassMetadataAsync={name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:f};static setClassMetadata={name:"\u0275setClassMetadata",moduleName:f};static setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:f};static setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:f};static queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:f};static viewQuery={name:"\u0275\u0275viewQuery",moduleName:f};static loadQuery={name:"\u0275\u0275loadQuery",moduleName:f};static contentQuery={name:"\u0275\u0275contentQuery",moduleName:f};static viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:f};static contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:f};static queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:f};static twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:f};static twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:f};static twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:f};static declareLet={name:"\u0275\u0275declareLet",moduleName:f};static storeLet={name:"\u0275\u0275storeLet",moduleName:f};static readContextLet={name:"\u0275\u0275readContextLet",moduleName:f};static attachSourceLocations={name:"\u0275\u0275attachSourceLocations",moduleName:f};static NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:f};static InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:f};static CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:f};static ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:f};static HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:f};static ExternalStylesFeature={name:"\u0275\u0275ExternalStylesFeature",moduleName:f};static listener={name:"\u0275\u0275listener",moduleName:f};static getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:f};static sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:f};static sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:f};static sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:f};static sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:f};static sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:f};static sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:f};static trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:f};static trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:f};static validateIframeAttribute={name:"\u0275\u0275validateIframeAttribute",moduleName:f};static InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:f};static UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:f};static unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:f}}return n})(),Gg=/-+([a-z0-9])/g;function zg(n){return n.replace(Gg,(...e)=>e[1].toUpperCase())}function Xg(n,e){return Ed(n,":",e)}function Yg(n,e){return Ed(n,".",e)}function Ed(n,e,t){let s=n.indexOf(e);return s==-1?t:[n.slice(0,s).trim(),n.slice(s+1).trim()]}function Qg(n){let e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s>=55296&&s<=56319&&n.length>t+1){let r=n.charCodeAt(t+1);r>=56320&&r<=57343&&(t++,s=(s-55296<<10)+r-56320+65536)}s<=127?e.push(s):s<=2047?e.push(s>>6&31|192,s&63|128):s<=65535?e.push(s>>12|224,s>>6&63|128,s&63|128):s<=2097151&&e.push(s>>18&7|240,s>>12&63|128,s>>6&63|128,s&63|128)}return e}function wd(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(wd).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;if(!n.toString)return"object";let t=n.toString();if(t==null)return""+t;let s=t.indexOf(`
`);return s>=0?t.slice(0,s):t}var tl=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},lr=globalThis,Zg=/^([1-9]|1[0-8])\./;function Sd(n){return n.startsWith("0.")?!0:!Zg.test(n)}var Jg=3,Kg="# sourceMappingURL=data:application/json;base64,",nl=class{file;sourcesContent=new Map;lines=[];lastCol0=0;hasMappings=!1;constructor(e=null){this.file=e}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,s,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(t!=null&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(s==null||r==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:s,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,t=[],s=[];Array.from(this.sourcesContent.keys()).forEach((c,p)=>{e.set(c,p),t.push(c),s.push(this.sourcesContent.get(c)||null)});let r="",i=0,o=0,a=0,l=0;return this.lines.forEach(c=>{i=0,r+=c.map(p=>{let h=Pi(p.col0-i);return i=p.col0,p.sourceUrl!=null&&(h+=Pi(e.get(p.sourceUrl)-o),o=e.get(p.sourceUrl),h+=Pi(p.sourceLine0-a),a=p.sourceLine0,h+=Pi(p.sourceCol0-l),l=p.sourceCol0),h}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:Jg,sourceRoot:"",sources:t,sourcesContent:s,mappings:r}}toJsComment(){return this.hasMappings?"//"+Kg+ev(JSON.stringify(this,null,0)):""}};function ev(n){let e="",t=Qg(n);for(let s=0;s<t.length;){let r=t[s++],i=s<t.length?t[s++]:null,o=s<t.length?t[s++]:null;e+=sr(r>>2),e+=sr((r&3)<<4|(i===null?0:i>>4)),e+=i===null?"=":sr((i&15)<<2|(o===null?0:o>>6)),e+=i===null||o===null?"=":sr(o&63)}return e}function Pi(n){n=n<0?(-n<<1)+1:n<<1;let e="";do{let t=n&31;n=n>>5,n>0&&(t=t|32),e+=sr(t)}while(n>0);return e}var tv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function sr(n){if(n<0||n>=64)throw new Error("Can only encode value in the range [0, 63]");return tv[n]}var nv=/'|\\|\n|\r|\$/g,sv=/^[$A-Z_][0-9A-Z_$]*$/i,sl="  ",ao=class{indent;partsLength=0;parts=[];srcSpans=[];constructor(e){this.indent=e}},rv=new Map([[y.And,"&&"],[y.Bigger,">"],[y.BiggerEquals,">="],[y.BitwiseOr,"|"],[y.BitwiseAnd,"&"],[y.Divide,"/"],[y.Assign,"="],[y.Equals,"=="],[y.Identical,"==="],[y.Lower,"<"],[y.LowerEquals,"<="],[y.Minus,"-"],[y.Modulo,"%"],[y.Exponentiation,"**"],[y.Multiply,"*"],[y.NotEquals,"!="],[y.NotIdentical,"!=="],[y.NullishCoalesce,"??"],[y.Or,"||"],[y.Plus,"+"],[y.In,"in"],[y.AdditionAssignment,"+="],[y.SubtractionAssignment,"-="],[y.MultiplicationAssignment,"*="],[y.DivisionAssignment,"/="],[y.RemainderAssignment,"%="],[y.ExponentiationAssignment,"**="],[y.AndAssignment,"&&="],[y.OrAssignment,"||="],[y.NullishCoalesceAssignment,"??="]]),rl=class n{_indent;static createRoot(){return new n(0)}_lines;constructor(e){this._indent=e,this._lines=[new ao(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*sl.length+this._currentLine.partsLength}print(e,t,s=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),s&&this._lines.push(new ao(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?Bp(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,t=0){let s=new nl(e),r=!1,i=()=>{r||(s.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let o=0;o<t;o++)s.addLine(),i();return this.sourceLines.forEach((o,a)=>{s.addLine();let l=o.srcSpans,c=o.parts,p=o.indent*sl.length,h=0;for(;h<l.length&&!l[h];)p+=c[h].length,h++;for(h<l.length&&a===0&&p===0?r=!0:i();h<l.length;){let m=l[h],E=m.start.file,w=m.start.line,x=m.start.col;for(s.addSource(E.url,E.content).addMapping(p,E.url,w,x),p+=c[h].length,h++;h<l.length&&(m===l[h]||!l[h]);)p+=c[h].length,h++}}),s}spanOf(e,t){let s=this._lines[e];if(s){let r=t-Bp(s.indent).length;for(let i=0;i<s.parts.length;i++){let o=s.parts[i];if(o.length>r)return s.srcSpans[i];r-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},il=class{_escapeDollarInStrings;lastIfCondition=null;constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,t){if(e.leadingComments!==void 0)for(let s of e.leadingComments)s instanceof so?t.print(e,`/*${s.toString()}*/`,s.trailingNewline):s.multiline?t.print(e,`/* ${s.text} */`,s.trailingNewline):s.text.split(`
`).forEach(r=>{t.println(e,`// ${r}`)})}visitExpressionStmt(e,t){return this.printLeadingComments(e,t),e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return this.printLeadingComments(e,t),t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){this.printLeadingComments(e,t),t.print(e,"if ("),this.lastIfCondition=e.condition,e.condition.visitExpression(this,t),this.lastIfCondition=null,t.print(e,") {");let s=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!s?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),s&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitInvokeFunctionExpr(e,t){let s=e.fn instanceof Fn;return s&&t.print(e.fn,"("),e.fn.visitExpression(this,t),s&&t.print(e.fn,")"),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,t){return e.tag.visitExpression(this,t),e.template.visitExpression(this,t),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let s=0;s<e.elements.length;s++){e.elements[s].visitExpression(this,t);let r=s<e.expressions.length?e.expressions[s]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){t.print(e,e.rawText)}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitVoidExpr(e,t){t.print(e,"void "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){return t.print(e,e.name),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){let s=e.value;return typeof s=="string"?t.print(e,Tn(s,this._escapeDollarInStrings)):t.print(e,`${s}`),null}visitLocalizedString(e,t){let s=e.serializeI18nHead();t.print(e,"$localize `"+s.raw);for(let r=1;r<e.messageParts.length;r++)t.print(e,"${"),e.expressions[r-1].visitExpression(this,t),t.print(e,`}${e.serializeI18nTemplatePart(r).raw}`);return t.print(e,"`"),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitDynamicImportExpr(e,t){t.print(e,`import(${e.url})`)}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitUnaryOperatorExpr(e,t){let s;switch(e.operator){case vr.Plus:s="+";break;case vr.Minus:s="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}let r=e!==this.lastIfCondition;return r&&t.print(e,"("),t.print(e,s),e.expr.visitExpression(this,t),r&&t.print(e,")"),null}visitBinaryOperatorExpr(e,t){let s=rv.get(e.operator);if(!s)throw new Error(`Unknown operator ${e.operator}`);let r=e!==this.lastIfCondition;return r&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${s} `),e.rhs.visitExpression(this,t),r&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects(s=>{t.print(e,`${Tn(s.key,this._escapeDollarInStrings,s.quoted)}:`),s.value.visitExpression(this,t)},e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitParenthesizedExpr(e,t){e.expr.visitExpression(this,t)}visitAllExpressions(e,t,s){this.visitAllObjects(r=>r.visitExpression(this,t),e,t,s)}visitAllObjects(e,t,s,r){let i=!1;for(let o=0;o<t.length;o++)o>0&&(s.lineLength()>80?(s.print(null,r,!0),i||(s.incIndent(),s.incIndent(),i=!0)):s.print(null,r,!1)),e(t[o]);i&&(s.decIndent(),s.decIndent())}visitAllStatements(e,t){e.forEach(s=>s.visitStatement(this,t))}};function Tn(n,e,t=!0){if(n==null)return null;let s=n.replace(nv,(...i)=>i[0]=="$"?e?"\\$":"$":i[0]==`
`?"\\n":i[0]=="\r"?"\\r":`\\${i[0]}`);return t||!sv.test(s)?`'${s}'`:s}function Bp(n){let e="";for(let t=0;t<n;t++)e+=sl;return e}function da(n,e){if(e===0)return Se(n);let t=[];for(let s=0;s<e;s++)t.push(oi);return Se(n,void 0,t)}function iv(n,e){let t=Tn(e,!1,!1);return t!==e?`${n}[${t}]`:`${n}.${e}`}function ov(n){return av("ngJitMode",n)}function av(n,e){let t=new On({name:n,moduleName:null}),s=new U(y.Identical,new Cs(t),g("undefined")),r=new U(y.Or,s,t,void 0,void 0);return new U(y.And,r,e)}function ce(n){let e=new F(n);return{value:e,type:e}}function kn(n,e){let t=H(n.map(s=>s.value));return e?wt([],t):t}function xc(n,e){return{expression:n,forwardRef:e}}function lv({expression:n,forwardRef:e}){switch(e){case 0:case 1:return n;case 2:return cv(n)}}function cv(n){return _(d.forwardRef).callFn([wt([],n)])}var lo=function(n){return n[n.Class=0]="Class",n[n.Function=1]="Function",n}(lo||{});function bn(n){let e=O("__ngFactoryType__"),t=null,s=$p(n)?e:new U(y.Or,e,n.type.value),r=null;n.deps!==null?n.deps!=="invalid"&&(r=new wr(s,Rp(n.deps,n.target))):(t=O(`\u0275${n.name}_BaseFactory`),r=t.callFn([s]));let i=[],o=null;function a(c){let p=O("__ngConditionalFactory__");i.push(new pe(p.name,bs,ze));let h=r!==null?p.set(r).toStmt():_(d.invalidFactory).callFn([]).toStmt();return i.push(ha(e,[h],[p.set(c).toStmt()])),p}if($p(n)){let c=Rp(n.delegateDeps,n.target),p=new(n.delegateType===lo.Class?wr:Fe)(n.delegate,c);o=a(p)}else fv(n)?o=a(n.expression):o=r;if(o===null)i.push(_(d.invalidFactory).callFn([]).toStmt());else if(t!==null){let c=_(d.getInheritedFactory).callFn([n.type.value]),p=new U(y.Or,t,t.set(c));i.push(new be(p.callFn([s])))}else i.push(new be(o));let l=pn([new me(e.name,oi)],i,ze,void 0,`${n.name}_Factory`);return t!==null&&(l=wt([],[new pe(t.name),new be(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:uv(n)}}function uv(n){let e=n.deps!==null&&n.deps!=="invalid"?hv(n.deps):Nt;return Se(_(d.FactoryDeclaration,[da(n.type.type,n.typeArgumentCount),e]))}function Rp(n,e){return n.map((t,s)=>pv(t,e,s))}function pv(n,e,t){if(n.token===null)return _(d.invalidFactoryDep).callFn([g(t)]);if(n.attributeNameType===null){let s=0|(n.self?2:0)|(n.skipSelf?4:0)|(n.host?1:0)|(n.optional?8:0)|(e===Ft.Pipe?16:0),r=s!==0||n.optional?g(s):null,i=[n.token];r&&i.push(r);let o=mv(e);return _(o).callFn(i)}else return _(d.injectAttribute).callFn([n.token])}function hv(n){let e=!1,t=n.map(s=>{let r=dv(s);return r!==null?(e=!0,r):g(null)});return e?Se(H(t)):Nt}function dv(n){let e=[];return n.attributeNameType!==null&&e.push({key:"attribute",value:n.attributeNameType,quoted:!1}),n.optional&&e.push({key:"optional",value:g(!0),quoted:!1}),n.host&&e.push({key:"host",value:g(!0),quoted:!1}),n.self&&e.push({key:"self",value:g(!0),quoted:!1}),n.skipSelf&&e.push({key:"skipSelf",value:g(!0),quoted:!1}),e.length>0?De(e):null}function $p(n){return n.delegateType!==void 0}function fv(n){return n.expression!==void 0}function mv(n){switch(n){case Ft.Component:case Ft.Directive:case Ft.Pipe:return d.directiveInject;case Ft.NgModule:case Ft.Injectable:default:return d.inject}}var Vn=class{start;end;constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new Xe(e+this.start,e+this.end)}},ee=class{span;sourceSpan;constructor(e,t){this.span=e,this.sourceSpan=t}toString(){return"AST"}},Cr=class extends ee{nameSpan;constructor(e,t,s){super(e,t),this.nameSpan=s}},Me=class extends ee{visit(e,t=null){}},Mt=class extends ee{visit(e,t=null){return e.visitImplicitReceiver(this,t)}},Hn=class extends Mt{visit(e,t=null){return e.visitThisReceiver?.(this,t)}},_s=class extends ee{expressions;constructor(e,t,s){super(e,t),this.expressions=s}visit(e,t=null){return e.visitChain(this,t)}},co=class extends ee{condition;trueExp;falseExp;constructor(e,t,s,r,i){super(e,t),this.condition=s,this.trueExp=r,this.falseExp=i}visit(e,t=null){return e.visitConditional(this,t)}},un=class extends Cr{receiver;name;constructor(e,t,s,r,i){super(e,t,s),this.receiver=r,this.name=i}visit(e,t=null){return e.visitPropertyRead(this,t)}},uo=class extends Cr{receiver;name;constructor(e,t,s,r,i){super(e,t,s),this.receiver=r,this.name=i}visit(e,t=null){return e.visitSafePropertyRead(this,t)}},Ts=class extends ee{receiver;key;constructor(e,t,s,r){super(e,t),this.receiver=s,this.key=r}visit(e,t=null){return e.visitKeyedRead(this,t)}},po=class extends ee{receiver;key;constructor(e,t,s,r){super(e,t),this.receiver=s,this.key=r}visit(e,t=null){return e.visitSafeKeyedRead(this,t)}},ji=function(n){return n[n.ReferencedByName=0]="ReferencedByName",n[n.ReferencedDirectly=1]="ReferencedDirectly",n}(ji||{}),ho=class extends Cr{exp;name;args;type;constructor(e,t,s,r,i,o,a){super(e,t,a),this.exp=s,this.name=r,this.args=i,this.type=o}visit(e,t=null){return e.visitPipe(this,t)}},He=class extends ee{value;constructor(e,t,s){super(e,t),this.value=s}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}},fo=class extends ee{expressions;constructor(e,t,s){super(e,t),this.expressions=s}visit(e,t=null){return e.visitLiteralArray(this,t)}},mo=class extends ee{keys;values;constructor(e,t,s,r){super(e,t),this.keys=s,this.values=r}visit(e,t=null){return e.visitLiteralMap(this,t)}},li=class extends ee{strings;expressions;constructor(e,t,s,r){super(e,t),this.strings=s,this.expressions=r}visit(e,t=null){return e.visitInterpolation(this,t)}},ke=class extends ee{operation;left;right;constructor(e,t,s,r,i){super(e,t),this.operation=s,this.left=r,this.right=i}visit(e,t=null){return e.visitBinary(this,t)}static isAssignmentOperation(e){return e==="="||e==="+="||e==="-="||e==="*="||e==="/="||e==="%="||e==="**="||e==="&&="||e==="||="||e==="??="}},Es=class n extends ke{operator;expr;left=null;right=null;operation=null;static createMinus(e,t,s){return new n(e,t,"-",s,"-",new He(e,t,0),s)}static createPlus(e,t,s){return new n(e,t,"+",s,"-",s,new He(e,t,0))}constructor(e,t,s,r,i,o,a){super(e,t,i,o,a),this.operator=s,this.expr=r}visit(e,t=null){return e.visitUnary!==void 0?e.visitUnary(this,t):e.visitBinary(this,t)}},Ar=class extends ee{expression;constructor(e,t,s){super(e,t),this.expression=s}visit(e,t=null){return e.visitPrefixNot(this,t)}},br=class extends ee{expression;constructor(e,t,s){super(e,t),this.expression=s}visit(e,t=null){return e.visitTypeofExpression(this,t)}},_r=class extends ee{expression;constructor(e,t,s){super(e,t),this.expression=s}visit(e,t=null){return e.visitVoidExpression(this,t)}},Tr=class extends ee{expression;constructor(e,t,s){super(e,t),this.expression=s}visit(e,t=null){return e.visitNonNullAssert(this,t)}},kr=class extends ee{receiver;args;argumentSpan;constructor(e,t,s,r,i){super(e,t),this.receiver=s,this.args=r,this.argumentSpan=i}visit(e,t=null){return e.visitCall(this,t)}},go=class extends ee{receiver;args;argumentSpan;constructor(e,t,s,r,i){super(e,t),this.receiver=s,this.args=r,this.argumentSpan=i}visit(e,t=null){return e.visitSafeCall(this,t)}},Ir=class extends ee{tag;template;constructor(e,t,s,r){super(e,t),this.tag=s,this.template=r}visit(e,t){return e.visitTaggedTemplateLiteral(this,t)}},Nr=class extends ee{elements;expressions;constructor(e,t,s,r){super(e,t),this.elements=s,this.expressions=r}visit(e,t){return e.visitTemplateLiteral(this,t)}},vo=class extends ee{text;constructor(e,t,s){super(e,t),this.text=s}visit(e,t){return e.visitTemplateLiteralElement(this,t)}},Eo=class extends ee{expression;constructor(e,t,s){super(e,t),this.expression=s}visit(e,t){return e.visitParenthesizedExpression(this,t)}},Xe=class{start;end;constructor(e,t){this.start=e,this.end=t}},je=class extends ee{ast;source;location;errors;constructor(e,t,s,r,i){super(new Vn(0,t===null?0:t.length),new Xe(r,t===null?r:r+t.length)),this.ast=e,this.source=t,this.location=s,this.errors=i}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}},Dr=class{sourceSpan;key;value;constructor(e,t,s){this.sourceSpan=e,this.key=t,this.value=s}},ol=class{sourceSpan;key;value;constructor(e,t,s){this.sourceSpan=e,this.key=t,this.value=s}},wo=class{visit(e,t){e.visit(this,t)}visitUnary(e,t){this.visit(e.expr,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitPrefixNot(e,t){this.visit(e.expression,t)}visitTypeofExpression(e,t){this.visit(e.expression,t)}visitVoidExpression(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitSafeCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitTemplateLiteral(e,t){for(let s=0;s<e.elements.length;s++){this.visit(e.elements[s],t);let r=s<e.expressions.length?e.expressions[s]:null;r!==null&&this.visit(r,t)}}visitTemplateLiteralElement(e,t){}visitTaggedTemplateLiteral(e,t){this.visit(e.tag,t),this.visit(e.template,t)}visitParenthesizedExpression(e,t){this.visit(e.expression,t)}visitAll(e,t){for(let s of e)this.visit(s,t)}},cr=class{name;expression;type;sourceSpan;keySpan;valueSpan;isLiteral;isLegacyAnimation;constructor(e,t,s,r,i,o){this.name=e,this.expression=t,this.type=s,this.sourceSpan=r,this.keySpan=i,this.valueSpan=o,this.isLiteral=this.type===rn.LITERAL_ATTR,this.isLegacyAnimation=this.type===rn.LEGACY_ANIMATION}},rn=function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.LITERAL_ATTR=1]="LITERAL_ATTR",n[n.LEGACY_ANIMATION=2]="LEGACY_ANIMATION",n[n.TWO_WAY=3]="TWO_WAY",n}(rn||{}),ct=function(n){return n[n.Regular=0]="Regular",n[n.LegacyAnimation=1]="LegacyAnimation",n[n.TwoWay=2]="TwoWay",n}(ct||{}),So=class{name;targetOrPhase;type;handler;sourceSpan;handlerSpan;keySpan;constructor(e,t,s,r,i,o,a){this.name=e,this.targetOrPhase=t,this.type=s,this.handler=r,this.sourceSpan=i,this.handlerSpan=o,this.keySpan=a}},al=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,s,r,i){this.name=e,this.value=t,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i}},G=function(n){return n[n.Property=0]="Property",n[n.Attribute=1]="Attribute",n[n.Class=2]="Class",n[n.Style=3]="Style",n[n.LegacyAnimation=4]="LegacyAnimation",n[n.TwoWay=5]="TwoWay",n}(G||{}),yo=class{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;constructor(e,t,s,r,i,o,a,l){this.name=e,this.type=t,this.securityContext=s,this.value=r,this.unit=i,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l}},Tt=function(n){return n[n.RAW_TEXT=0]="RAW_TEXT",n[n.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",n[n.PARSABLE_DATA=2]="PARSABLE_DATA",n}(Tt||{});function St(n,e=!0){if(n[0]!=":")return[null,n];let t=n.indexOf(":",1);if(t===-1){if(e)throw new Error(`Unsupported format "${n}" expecting ":namespace:name"`);return[null,n]}return[n.slice(1,t),n.slice(t+1)]}function Op(n){return St(n)[1]==="ng-container"}function ll(n){return St(n)[1]==="ng-content"}function gv(n){return St(n)[1]==="ng-template"}function cl(n){return n===null?null:St(n)[0]}function Wi(n,e){return n?`:${n}:${e}`:e}var fa=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){throw new Error("visit() not implemented for Comment")}},In=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}},ks=class{value;sourceSpan;i18n;constructor(e,t,s){this.value=e,this.sourceSpan=t,this.i18n=s}visit(e){return e.visitBoundText(this)}},Is=class{name;value;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,s,r,i,o){this.name=e,this.value=t,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},ul=class n{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,s,r,i,o,a,l,c){this.name=e,this.type=t,this.securityContext=s,this.value=r,this.unit=i,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l,this.i18n=c}static fromBoundElementProperty(e,t){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,t)}visit(e){return e.visitBoundAttribute(this)}},pl=class n{name;type;handler;target;phase;sourceSpan;handlerSpan;keySpan;constructor(e,t,s,r,i,o,a,l){this.name=e,this.type=t,this.handler=s,this.target=r,this.phase=i,this.sourceSpan=o,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let t=e.type===ct.Regular?e.targetOrPhase:null,s=e.type===ct.LegacyAnimation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.handler,t,s,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},Bt=class{name;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,s,r,i,o,a,l,c,p,h,m){this.name=e,this.attributes=t,this.inputs=s,this.outputs=r,this.directives=i,this.children=o,this.references=a,this.isSelfClosing=l,this.sourceSpan=c,this.startSourceSpan=p,this.endSourceSpan=h,this.i18n=m}visit(e){return e.visitElement(this)}},Rt=class{nameSpan;sourceSpan;prefetchSpan;whenOrOnSourceSpan;hydrateSpan;constructor(e,t,s,r,i){this.nameSpan=e,this.sourceSpan=t,this.prefetchSpan=s,this.whenOrOnSourceSpan=r,this.hydrateSpan=i}visit(e){return e.visitDeferredTrigger(this)}},xo=class extends Rt{value;constructor(e,t,s,r,i){super(null,t,s,r,i),this.value=e}},hl=class extends Rt{},dl=class extends Rt{},fl=class extends Rt{},Co=class extends Rt{reference;constructor(e,t,s,r,i,o){super(t,s,r,i,o),this.reference=e}},ml=class extends Rt{delay;constructor(e,t,s,r,i,o){super(t,s,r,i,o),this.delay=e}},Ao=class extends Rt{reference;constructor(e,t,s,r,i,o){super(t,s,r,i,o),this.reference=e}},bo=class extends Rt{reference;constructor(e,t,s,r,i,o){super(t,s,r,i,o),this.reference=e}},ht=class{nameSpan;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,s,r){this.nameSpan=e,this.sourceSpan=t,this.startSourceSpan=s,this.endSourceSpan=r}},Pr=class extends ht{children;minimumTime;i18n;constructor(e,t,s,r,i,o,a){super(s,r,i,o),this.children=e,this.minimumTime=t,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},Lr=class extends ht{children;afterTime;minimumTime;i18n;constructor(e,t,s,r,i,o,a,l){super(r,i,o,a),this.children=e,this.afterTime=t,this.minimumTime=s,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},Mr=class extends ht{children;i18n;constructor(e,t,s,r,i,o){super(t,s,r,i),this.children=e,this.i18n=o}visit(e){return e.visitDeferredBlockError(this)}},jn=class extends ht{children;placeholder;loading;error;mainBlockSpan;i18n;triggers;prefetchTriggers;hydrateTriggers;definedTriggers;definedPrefetchTriggers;definedHydrateTriggers;constructor(e,t,s,r,i,o,a,l,c,p,h,m,E){super(l,c,h,m),this.children=e,this.placeholder=i,this.loading=o,this.error=a,this.mainBlockSpan=p,this.i18n=E,this.triggers=t,this.prefetchTriggers=s,this.hydrateTriggers=r,this.definedTriggers=Object.keys(t),this.definedPrefetchTriggers=Object.keys(s),this.definedHydrateTriggers=Object.keys(r)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,e),this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),ka(e,this.children);let t=[this.placeholder,this.loading,this.error].filter(s=>s!==null);ka(e,t)}visitTriggers(e,t,s){ka(s,e.map(r=>t[r]))}},_o=class extends ht{expression;cases;unknownBlocks;constructor(e,t,s,r,i,o,a){super(a,r,i,o),this.expression=e,this.cases=t,this.unknownBlocks=s}visit(e){return e.visitSwitchBlock(this)}},Br=class extends ht{expression;children;i18n;constructor(e,t,s,r,i,o,a){super(o,s,r,i),this.expression=e,this.children=t,this.i18n=a}visit(e){return e.visitSwitchBlockCase(this)}},Ns=class extends ht{item;expression;trackBy;trackKeywordSpan;contextVariables;children;empty;mainBlockSpan;i18n;constructor(e,t,s,r,i,o,a,l,c,p,h,m,E){super(m,l,p,h),this.item=e,this.expression=t,this.trackBy=s,this.trackKeywordSpan=r,this.contextVariables=i,this.children=o,this.empty=a,this.mainBlockSpan=c,this.i18n=E}visit(e){return e.visitForLoopBlock(this)}},Rr=class extends ht{children;i18n;constructor(e,t,s,r,i,o){super(i,t,s,r),this.children=e,this.i18n=o}visit(e){return e.visitForLoopBlockEmpty(this)}},To=class extends ht{branches;constructor(e,t,s,r,i){super(i,t,s,r),this.branches=e}visit(e){return e.visitIfBlock(this)}},Pn=class extends ht{expression;children;expressionAlias;i18n;constructor(e,t,s,r,i,o,a,l){super(a,r,i,o),this.expression=e,this.children=t,this.expressionAlias=s,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},ko=class{name;sourceSpan;nameSpan;constructor(e,t,s){this.name=e,this.sourceSpan=t,this.nameSpan=s}visit(e){return e.visitUnknownBlock(this)}},Cc=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,s,r,i){this.name=e,this.value=t,this.sourceSpan=s,this.nameSpan=r,this.valueSpan=i}visit(e){return e.visitLetDeclaration(this)}},ur=class{componentName;tagName;fullName;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,s,r,i,o,a,l,c,p,h,m,E,w){this.componentName=e,this.tagName=t,this.fullName=s,this.attributes=r,this.inputs=i,this.outputs=o,this.directives=a,this.children=l,this.references=c,this.isSelfClosing=p,this.sourceSpan=h,this.startSourceSpan=m,this.endSourceSpan=E,this.i18n=w}visit(e){return e.visitComponent(this)}},yd=class{name;attributes;inputs;outputs;references;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,s,r,i,o,a,l,c){this.name=e,this.attributes=t,this.inputs=s,this.outputs=r,this.references=i,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=c}visit(e){return e.visitDirective(this)}},Ye=class{tagName;attributes;inputs;outputs;directives;templateAttrs;children;references;variables;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,s,r,i,o,a,l,c,p,h,m,E,w){this.tagName=e,this.attributes=t,this.inputs=s,this.outputs=r,this.directives=i,this.templateAttrs=o,this.children=a,this.references=l,this.variables=c,this.isSelfClosing=p,this.sourceSpan=h,this.startSourceSpan=m,this.endSourceSpan=E,this.i18n=w}visit(e){return e.visitTemplate(this)}},Ds=class{selector;attributes;children;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;name="ng-content";constructor(e,t,s,r,i,o,a,l){this.selector=e,this.attributes=t,this.children=s,this.isSelfClosing=r,this.sourceSpan=i,this.startSourceSpan=o,this.endSourceSpan=a,this.i18n=l}visit(e){return e.visitContent(this)}},hn=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,s,r,i){this.name=e,this.value=t,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i}visit(e){return e.visitVariable(this)}},$r=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,s,r,i){this.name=e,this.value=t,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i}visit(e){return e.visitReference(this)}},xd=class{vars;placeholders;sourceSpan;i18n;constructor(e,t,s,r){this.vars=e,this.placeholders=t,this.sourceSpan=s,this.i18n=r}visit(e){return e.visitIcu(this)}},Io=class{tagNames;bindings;listeners;sourceSpan;constructor(e,t,s,r){if(this.tagNames=e,this.bindings=t,this.listeners=s,this.sourceSpan=r,e.length===0)throw new Error("HostElement must have at least one tag name.")}visit(){throw new Error("HostElement cannot be visited")}};function ka(n,e){let t=[];if(n.visit)for(let s of e)n.visit(s);else for(let s of e){let r=s.visit(n);r&&t.push(r)}return t}var Ne=class{nodes;placeholders;placeholderToMessage;meaning;description;customId;sources;id;legacyIds=[];messageString;constructor(e,t,s,r,i,o){this.nodes=e,this.placeholders=t,this.placeholderToMessage=s,this.meaning=r,this.description=i,this.customId=o,this.id=this.customId,this.messageString=vv(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},Js=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}},Ht=class{children;sourceSpan;constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}},No=class{expression;type;cases;sourceSpan;expressionPlaceholder;constructor(e,t,s,r,i){this.expression=e,this.type=t,this.cases=s,this.sourceSpan=r,this.expressionPlaceholder=i}visit(e,t){return e.visitIcu(this,t)}},dn=class{tag;attrs;startName;closeName;children;isVoid;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,s,r,i,o,a,l,c){this.tag=e,this.attrs=t,this.startName=s,this.closeName=r,this.children=i,this.isVoid=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c}visit(e,t){return e.visitTagPlaceholder(this,t)}},Or=class{value;name;sourceSpan;constructor(e,t,s){this.value=e,this.name=t,this.sourceSpan=s}visit(e,t){return e.visitPlaceholder(this,t)}},Ps=class{value;name;sourceSpan;previousMessage;constructor(e,t,s){this.value=e,this.name=t,this.sourceSpan=s}visit(e,t){return e.visitIcuPlaceholder(this,t)}},fn=class{name;parameters;startName;closeName;children;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,s,r,i,o,a,l){this.name=e,this.parameters=t,this.startName=s,this.closeName=r,this.children=i,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,t){return e.visitBlockPlaceholder(this,t)}};function vv(n){let e=new gl;return n.map(s=>s.visit(e)).join("")}var gl=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){let t=e.children.map(s=>s.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let t=e.children.map(s=>s.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}};var Ev=class{visitTag(e){let t=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${t}/>`;let s=e.children.map(r=>r.visit(this));return`<${e.name}${t}>${s.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let t=Object.keys(e).map(s=>`${s}="${e[s]}"`).join(" ");return t.length>0?" "+t:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},vT=new Ev;function wv(n){return n.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var Cd="i18n",vl="i18n-",Sv="VAR_";function Ad(n){return n===Cd||n.startsWith(vl)}function yv(n){return n.attrs.some(e=>Ad(e.name))}function bd(n){return n.nodes[0]}function Ac(n={},e){let t={};return n&&Object.keys(n).length&&Object.keys(n).forEach(s=>t[ci(s,e)]=n[s]),t}function ci(n,e=!0){let t=wv(n);if(!e)return t;let s=t.split("_");if(s.length===1)return n.toLowerCase();let r;/^\d+$/.test(s[s.length-1])&&(r=s.pop());let i=s.shift().toLowerCase();return s.length&&(i+=s.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),r?`${i}_${r}`:i}var xv=/[-.]/,bc="_t",Fr="ctx",_c="rf";function _d(n,e){let t=null;return()=>(t||(n(new pe(bc,void 0,oi)),t=O(e)),t)}function hs(n){return Array.isArray(n)?H(n.map(hs)):g(n,ze)}function Fp(n,e){let t=Object.getOwnPropertyNames(n);return t.length===0?null:De(t.map(s=>{let r=n[s],i,o,a,l;if(typeof r=="string")i=s,a=s,o=r,l=hs(o);else{a=s,i=r.classPropertyName,o=r.bindingPropertyName;let c=o!==i,p=r.transformFunction!==null,h=nr.None;if(r.isSignal&&(h|=nr.SignalBased),p&&(h|=nr.HasDecoratorInputTransform),e&&(c||p||h!==nr.None)){let m=[g(h),hs(o)];(c||p)&&(m.push(hs(i)),p&&m.push(r.transformFunction)),l=H(m)}else l=hs(o)}return{key:a,quoted:xv.test(a),value:l}}))}var mn=class{values=[];set(e,t){if(t){let s=this.values.find(r=>r.key===e);s?s.value=t:this.values.push({key:e,value:t,quoted:!1})}}toLiteralMap(){return De(this.values)}};function Cv(n){let e=n instanceof Bt?n.name:"ng-template",t=Av(n),s=new xs,r=St(e)[1];return s.setElement(r),Object.getOwnPropertyNames(t).forEach(i=>{let o=St(i)[1],a=t[i];s.addAttribute(o,a),i.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(c=>s.addClassName(c))}),s}function Av(n){let e={};return n instanceof Ye&&n.tagName!=="ng-template"?n.templateAttrs.forEach(t=>e[t.name]=""):(n.attributes.forEach(t=>{Ad(t.name)||(e[t.name]=t.value)}),n.inputs.forEach(t=>{(t.type===G.Property||t.type===G.TwoWay)&&(e[t.name]="")}),n.outputs.forEach(t=>{e[t.name]=""})),e}function Up(n,e){let t=null,s={name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:[],target:Ft.Injectable};if(n.useClass!==void 0){let a=n.useClass.expression.isEquivalent(n.type.value),l;n.deps!==void 0&&(l=n.deps),l!==void 0?t=bn(V(v({},s),{delegate:n.useClass.expression,delegateDeps:l,delegateType:lo.Class})):a?t=bn(s):t={statements:[],expression:qp(n.type.value,n.useClass.expression,e)}}else n.useFactory!==void 0?n.deps!==void 0?t=bn(V(v({},s),{delegate:n.useFactory,delegateDeps:n.deps||[],delegateType:lo.Function})):t={statements:[],expression:wt([],n.useFactory.callFn([]))}:n.useValue!==void 0?t=bn(V(v({},s),{expression:n.useValue.expression})):n.useExisting!==void 0?t=bn(V(v({},s),{expression:_(d.inject).callFn([n.useExisting.expression])})):t={statements:[],expression:qp(n.type.value,n.type.value,e)};let r=n.type.value,i=new mn;return i.set("token",r),i.set("factory",t.expression),n.providedIn.expression.value!==null&&i.set("providedIn",lv(n.providedIn)),{expression:_(d.\u0275\u0275defineInjectable).callFn([i.toLiteralMap()],void 0,!0),type:bv(n),statements:t.statements}}function bv(n){return new lt(_(d.InjectableDeclaration,[da(n.type.type,n.typeArgumentCount)]))}function qp(n,e,t){if(n.node===e.node)return e.prop("\u0275fac");if(!t)return Vp(e);let s=_(d.resolveForwardRef).callFn([e]);return Vp(s)}function Vp(n){let e=new me("__ngFactoryType__",oi);return wt([e],n.prop("\u0275fac").callFn([O(e.name)]))}var _v=[/@/,/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Tv(n,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${n}' to be an array, [start, end].`);if(e!=null){let t=e[0],s=e[1];_v.forEach(r=>{if(r.test(t)||r.test(s))throw new Error(`['${t}', '${s}'] contains unusable interpolation symbol.`)})}}var Do=class n{start;end;static fromArray(e){return e?(Tv("interpolation",e),new n(e[0],e[1])):kt}constructor(e,t){this.start=e,this.end=t}},kt=new Do("{{","}}"),kv=new Set(["switch"]),Ee=0,Iv=8,Tc=9,Ln=10,Td=11,kd=12,kc=13,Id=32,El=33,Ur=34,Nd=35,ma=36,Nv=37,Po=38,qr=39,vt=40,Ie=41,Hp=42,Dd=43,at=44,Lo=45,rr=46,ft=47,Ut=58,We=59,ws=60,Ce=61,tt=62,jp=63,Ic=48,Dv=55,Pd=57,wn=65,Pv=69,Lv=70,Mv=88,Vs=90,Ss=91,ys=92,ds=93,Bv=94,Sn=95,Wn=97,Rv=98,$v=101,Nc=102,Ld=110,Md=114,Bd=116,Rd=117,$d=118,Od=120,ui=122,gt=123,Wp=124,Re=125,Fd=160,Ks=64,wl=96;function Vr(n){return n>=Tc&&n<=Id||n==Fd}function mt(n){return Ic<=n&&n<=Pd}function Ls(n){return n>=Wn&&n<=ui||n>=wn&&n<=Vs}function Ov(n){return n>=Wn&&n<=Nc||n>=wn&&n<=Lv||mt(n)}function Dc(n){return n===Ln||n===kc}function Gp(n){return Ic<=n&&n<=Dv}function pr(n){return n===qr||n===Ur||n===wl}var Hr=class n{file;offset;line;col;constructor(e,t,s,r){this.file=e,this.offset=t,this.line=s,this.col=r}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let t=this.file.content,s=t.length,r=this.offset,i=this.line,o=this.col;for(;r>0&&e<0;)if(r--,e++,t.charCodeAt(r)==Ln){i--;let l=t.substring(0,r-1).lastIndexOf(String.fromCharCode(Ln));o=l>0?r-l:r}else o--;for(;r<s&&e>0;){let a=t.charCodeAt(r);r++,e--,a==Ln?(i++,o=0):o++}return new n(this.file,r,i,o)}getContext(e,t){let s=this.file.content,r=this.offset;if(r!=null){r>s.length-1&&(r=s.length-1);let i=r,o=0,a=0;for(;o<e&&r>0&&(r--,o++,!(s[r]==`
`&&++a==t)););for(o=0,a=0;o<e&&i<s.length-1&&(i++,o++,!(s[i]==`
`&&++a==t)););return{before:s.substring(r,this.offset),after:s.substring(this.offset,i+1)}}return null}},Mo=class{content;url;constructor(e,t){this.content=e,this.url=t}},P=class{start;end;fullStart;details;constructor(e,t,s=e,r=null){this.start=e,this.end=t,this.fullStart=s,this.details=r}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},an=function(n){return n[n.WARNING=0]="WARNING",n[n.ERROR=1]="ERROR",n}(an||{}),D=class extends Error{span;msg;level;relatedError;constructor(e,t,s=an.ERROR,r){super(t),this.span=e,this.msg=t,this.level=s,this.relatedError=r,Object.setPrototypeOf(this,new.target.prototype)}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${an[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function Fv(n,e,t){let s=`in ${n} ${e} in ${t}`,r=new Mo("",s);return new P(new Hr(r,-1,-1,-1),new Hr(r,-1,-1,-1))}var Uv=0;function qv(n){if(!n||!n.reference)return null;let e=n.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let t=wd(e);return t.indexOf("(")>=0?(t=`anonymous_${Uv++}`,e.__anonymousType=t):t=hr(t),t}function hr(n){return n.replace(/\W/g,"_")}var zp='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',Sl=class extends il{constructor(){super(!1)}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,t){return t.print(e,`var ${e.name}`),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,t){let s=e.template.elements;return e.tag.visitExpression(this,t),t.print(e,`(${zp}(`),t.print(e,`[${s.map(r=>Tn(r.text,!1)).join(", ")}], `),t.print(e,`[${s.map(r=>Tn(r.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let s=0;s<e.elements.length;s++){e.elements[s].visitExpression(this,t);let r=s<e.expressions.length?e.expressions[s]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){return t.print(e,e.rawText),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitArrowFunctionExpr(e,t){if(t.print(e,"("),this._visitParams(e.params,t),t.print(e,") =>"),Array.isArray(e.body))t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.print(e,"}");else{let s=e.body instanceof Lt;s&&t.print(e,"("),e.body.visitExpression(this,t),s&&t.print(e,")")}return null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitLocalizedString(e,t){t.print(e,`$localize(${zp}(`);let s=[e.serializeI18nHead()];for(let r=1;r<e.messageParts.length;r++)s.push(e.serializeI18nTemplatePart(r));return t.print(e,`[${s.map(r=>Tn(r.cooked,!1)).join(", ")}], `),t.print(e,`[${s.map(r=>Tn(r.raw,!1)).join(", ")}])`),e.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}_visitParams(e,t){this.visitAllObjects(s=>t.print(null,s.name),e,t,",")}},Li;function Vv(){if(Li===void 0){let n=lr.trustedTypes;if(Li=null,n)try{Li=n.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return Li}function Hv(n){return Vv()?.createScript(n)||n}function Xp(...n){if(!lr.trustedTypes)return new Function(...n);let e=n.slice(0,-1).join(","),t=n[n.length-1],s=`(function anonymous(${e}
) { ${t}
})`,r=lr.eval(Hv(s));return r.bind===void 0?new Function(...n):(r.toString=()=>s,r.bind(lr))}var yl=class{evaluateStatements(e,t,s,r){let i=new xl(s),o=rl.createRoot();return t.length>0&&!jv(t[0])&&(t=[g("use strict").toStmt(),...t]),i.visitAllStatements(t,o),i.createReturnStmt(o),this.evaluateCode(e,o,i.getArgs(),r)}evaluateCode(e,t,s,r){let i=`"use strict";${t.toSource()}
//# sourceURL=${e}`,o=[],a=[];for(let c in s)a.push(s[c]),o.push(c);if(r){let c=Xp(...o.concat("return null;")).toString(),p=c.slice(0,c.indexOf("return null;")).split(`
`).length-1;i+=`
${t.toSourceMapGenerator(e,p).toJsComment()}`}let l=Xp(...o.concat(i));return this.executeFunction(l,a)}executeFunction(e,t){return e(...t)}},xl=class extends Sl{refResolver;_evalArgNames=[];_evalArgValues=[];_evalExportedVars=[];constructor(e){super(),this.refResolver=e}createReturnStmt(e){new be(new Lt(this._evalExportedVars.map(s=>new As(s,O(s),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(we.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(we.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}_emitReferenceToExternal(e,t,s){let r=this._evalArgValues.indexOf(t);if(r===-1){r=this._evalArgValues.length,this._evalArgValues.push(t);let i=qv({reference:t})||"val";this._evalArgNames.push(`jit_${i}_${r}`)}s.print(e,this._evalArgNames[r])}};function jv(n){return n.isEquivalent(g("use strict").toStmt())}function Yp(n){let e=new mn;n.providers!==null&&e.set("providers",n.providers),n.imports.length>0&&e.set("imports",H(n.imports));let t=_(d.defineInjector).callFn([e.toLiteralMap()],void 0,!0),s=Wv(n);return{expression:t,type:s,statements:[]}}function Wv(n){return new lt(_(d.InjectorDeclaration,[new lt(n.type.type)]))}var Cl=class{context;constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},Bo=function(n){return n[n.Inline=0]="Inline",n[n.SideEffect=1]="SideEffect",n[n.Omit=2]="Omit",n}(Bo||{}),ln=function(n){return n[n.Global=0]="Global",n[n.Local=1]="Local",n}(ln||{});function Gv(n){let e=[],t=new mn;if(t.set("type",n.type.value),n.kind===ln.Global&&n.bootstrap.length>0&&t.set("bootstrap",kn(n.bootstrap,n.containsForwardDecls)),n.selectorScopeMode===Bo.Inline)n.declarations.length>0&&t.set("declarations",kn(n.declarations,n.containsForwardDecls)),n.imports.length>0&&t.set("imports",kn(n.imports,n.containsForwardDecls)),n.exports.length>0&&t.set("exports",kn(n.exports,n.containsForwardDecls));else if(n.selectorScopeMode===Bo.SideEffect){let i=Yv(n);i!==null&&e.push(i)}n.schemas!==null&&n.schemas.length>0&&t.set("schemas",H(n.schemas.map(i=>i.value))),n.id!==null&&(t.set("id",n.id),e.push(_(d.registerNgModuleType).callFn([n.type.value,n.id]).toStmt()));let s=_(d.defineNgModule).callFn([t.toLiteralMap()],void 0,!0),r=Xv(n);return{expression:s,type:r,statements:e}}function zv(n){let e=new mn;return e.set("type",new F(n.type)),n.bootstrap!==void 0&&e.set("bootstrap",new F(n.bootstrap)),n.declarations!==void 0&&e.set("declarations",new F(n.declarations)),n.imports!==void 0&&e.set("imports",new F(n.imports)),n.exports!==void 0&&e.set("exports",new F(n.exports)),n.schemas!==void 0&&e.set("schemas",new F(n.schemas)),n.id!==void 0&&e.set("id",new F(n.id)),_(d.defineNgModule).callFn([e.toLiteralMap()])}function Xv(n){if(n.kind===ln.Local)return new lt(n.type.value);let{type:e,declarations:t,exports:s,imports:r,includeImportTypes:i,publicDeclarationTypes:o}=n;return new lt(_(d.NgModuleDeclaration,[new lt(e.type),o===null?Ia(t):Qv(o),i?Ia(r):Nt,Ia(s)]))}function Yv(n){let e=new mn;if(n.kind===ln.Global?n.declarations.length>0&&e.set("declarations",kn(n.declarations,n.containsForwardDecls)):n.declarationsExpression&&e.set("declarations",n.declarationsExpression),n.kind===ln.Global?n.imports.length>0&&e.set("imports",kn(n.imports,n.containsForwardDecls)):n.importsExpression&&e.set("imports",n.importsExpression),n.kind===ln.Global?n.exports.length>0&&e.set("exports",kn(n.exports,n.containsForwardDecls)):n.exportsExpression&&e.set("exports",n.exportsExpression),n.kind===ln.Local&&n.bootstrapExpression&&e.set("bootstrap",n.bootstrapExpression),Object.keys(e.values).length===0)return null;let t=new Fe(_(d.setNgModuleScope),[n.type.value,e.toLiteralMap()]),s=ov(t),r=new cn([],[s.toStmt()]);return new Fe(r,[]).toStmt()}function Ia(n){let e=n.map(t=>ai(t.type));return n.length>0?Se(H(e)):Nt}function Qv(n){let e=n.map(t=>ai(t));return n.length>0?Se(H(e)):Nt}function Qp(n){let e=[];e.push({key:"name",value:g(n.pipeName??n.name),quoted:!1}),e.push({key:"type",value:n.type.value,quoted:!1}),e.push({key:"pure",value:g(n.pure),quoted:!1}),n.isStandalone===!1&&e.push({key:"standalone",value:g(!1),quoted:!1});let t=_(d.definePipe).callFn([De(e)],void 0,!0),s=Zv(n);return{expression:t,type:s,statements:[]}}function Zv(n){return new lt(_(d.PipeDeclaration,[da(n.type.type,n.typeArgumentCount),new lt(new ye(n.pipeName)),new lt(new ye(n.isStandalone))]))}var Ms=function(n){return n[n.Directive=0]="Directive",n[n.Pipe=1]="Pipe",n[n.NgModule=2]="NgModule",n}(Ms||{}),Jv=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),Kv=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],Al=class{shimCssText(e,t,s=""){let r=[];e=e.replace(hE,a=>{if(a.match(dE))r.push(a);else{let l=a.match(pE);r.push((l?.join("")??"")+`
`)}return Pc}),e=this._insertDirectives(e);let i=this._scopeCssText(e,t,s),o=0;return i.replace(fE,()=>r[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,t){let s=new Set,r=Mi(e,i=>this._scopeLocalKeyframeDeclarations(i,t,s));return Mi(r,i=>this._scopeAnimationRule(i,t,s))}_scopeLocalKeyframeDeclarations(e,t,s){return V(v({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(r,i,o,a,l)=>(s.add(Kp(a,o)),`${i}${o}${t}_${a}${o}${l}`))})}_scopeAnimationKeyframe(e,t,s){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(r,i,o,a,l)=>(a=`${s.has(Kp(a,o))?t+"_":""}${a}`,`${i}${o}${a}${o}${l}`))}_animationDeclarationKeyframesRe=/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g;_scopeAnimationRule(e,t,s){let r=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(i,o,a)=>o+a.replace(this._animationDeclarationKeyframesRe,(l,c,p="",h,m)=>h?`${c}${this._scopeAnimationKeyframe(`${p}${h}${p}`,t,s)}`:Jv.has(m)?l:`${c}${this._scopeAnimationKeyframe(m,t,s)}`));return r=r.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(i,o,a)=>`${o}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,t,s)).join(",")}`),V(v({},e),{content:r})}_insertPolyfillDirectivesInCssText(e){return e.replace(tE,function(...t){return t[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(nE,(...t)=>{let s=t[0].replace(t[1],"").replace(t[2],"");return t[4]+s})}_scopeCssText(e,t,s){let r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeKeyframesRelatedCss(e,t),e=this._scopeSelectors(e,t,s)),e=e+`
`+r,e.trim()}_extractUnscopedRulesFromCssText(e){let t="",s;for(Zp.lastIndex=0;(s=Zp.exec(e))!==null;){let r=s[0].replace(s[2],"").replace(s[1],s[4]);t+=r+`

`}return t}_convertColonHost(e){return e.replace(sE,(t,s,r)=>{if(s){let i=[],o=s.split(",").map(a=>a.trim());for(let a of o){if(!a)break;let l=nn+a.replace(Ro,"")+r;i.push(l)}return i.join(",")}else return nn+r})}_convertColonHostContext(e){let t=e.length,s=0,r=0,i="";for(let o=0;o<t;o++){let a=e[o];if(a===","&&s===0){i+=this._convertColonHostContextInSelectorPart(e.slice(r,o))+",",r=o+1;continue}if(o===t-1){i+=this._convertColonHostContextInSelectorPart(e.slice(r));break}a==="("?s++:a===")"&&s--}return i}_convertColonHostContextInSelectorPart(e){return e.replace(rE,(t,s)=>{let r=[[]],i;for(;i=iE.exec(t);){let o=(i[1]??"").trim().split(",").map(l=>l.trim()).filter(l=>l!==""),a=r.length;bE(r,o.length);for(let l=0;l<o.length;l++)for(let c=0;c<a;c++)r[c+l*a].push(o[l]);t=i[2]}return r.map(o=>AE(o,t,s)).join(", ")})}_convertShadowDOMSelectors(e){return aE.reduce((t,s)=>t.replace(s," "),e)}_scopeSelectors(e,t,s){return Mi(e,r=>{let i=r.selector,o=r.content;return r.selector[0]!=="@"?i=this._scopeSelector({selector:i,scopeSelector:t,hostSelector:s,isParentSelector:!0}):Kv.some(a=>r.selector.startsWith(a))?o=this._scopeSelectors(r.content,t,s):(r.selector.startsWith("@font-face")||r.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(r.content)),new jr(i,o)})}_stripScopingSelectors(e){return Mi(e,t=>{let s=t.selector.replace(Jp," ").replace(Na," ");return new jr(s,t.content)})}_safeSelector;_shouldScopeIndicator;_scopeSelector({selector:e,scopeSelector:t,hostSelector:s,isParentSelector:r=!1}){let i=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(i).map(o=>o.split(Jp)).map(o=>{let[a,...l]=o;return[(p=>this._selectorNeedsScoping(p,t)?this._applySelectorScope({selector:p,scopeSelector:t,hostSelector:s,isParentSelector:r}):p)(a),...l].join(" ")}).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){let t=/\[/g,s=/\]/g;return e=e.replace(t,"\\[").replace(s,"\\]"),new RegExp("^("+e+")"+lE,"m")}_applySimpleSelectorScope(e,t,s){if(fs.lastIndex=0,fs.test(e)){let r=`[${s}]`,i=e;for(;i.match(Na);)i=i.replace(Na,(o,a)=>a.replace(/([^:\)]*)(:*)(.*)/,(l,c,p,h)=>c+r+p+h));return i.replace(fs,r)}return t+" "+e}_applySelectorScope({selector:e,scopeSelector:t,hostSelector:s,isParentSelector:r}){let i=/\[is=([^\]]*)\]/g;t=t.replace(i,(x,...T)=>T[0]);let o=`[${t}]`,a=x=>{let T=x.trim();if(!T)return x;if(x.includes(nn)){if(T=this._applySimpleSelectorScope(x,t,s),!x.match(oE)){let[A,N,Y,K]=T.match(/([^:]*)(:*)([\s\S]*)/);T=N+o+Y+K}}else{let A=x.replace(fs,"");if(A.length>0){let N=A.match(/([^:]*)(:*)([\s\S]*)/);N&&(T=N[1]+o+N[2]+N[3])}}return T},l=x=>{let T="",A=[],N;for(;(N=er.exec(x))!==null;){let Y=1,K=er.lastIndex;for(;K<x.length;){let ae=x[K];if(K++,ae==="("){Y++;continue}if(ae===")"){if(Y--,Y===0)break;continue}}A.push(`${N[0]}${x.slice(er.lastIndex,K)}`),er.lastIndex=K}return A.join("")===x?T=A.map(Y=>{let[K]=Y.match(er)??[],ae=Y.slice(K?.length,-1);ae.includes(nn)&&(this._shouldScopeIndicator=!0);let wa=this._scopeSelector({selector:ae,scopeSelector:t,hostSelector:s});return`${K}${wa})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||x.includes(nn),T=this._shouldScopeIndicator?a(x):x),T};r&&(this._safeSelector=new bl(e),e=this._safeSelector.content());let c="",p=0,h,m=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,E=e.includes(nn);for((r||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!E);(h=m.exec(e))!==null;){let x=h[1],T=e.slice(p,h.index);if(T.match(/__esc-ph-(\d+)__/)&&e[h.index+1]?.match(/[a-fA-F\d]/))continue;let A=l(T);c+=`${A} ${x} `,p=m.lastIndex}let w=e.substring(p);return c+=l(w),this._safeSelector.restore(c)}_insertPolyfillHostInCssText(e){return e.replace(uE,Ud).replace(cE,Ro)}},bl=class{placeholders=[];index=0;_content;constructor(e){e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(t,s)=>{let r=`__esc-ph-${this.index}__`;return this.placeholders.push(s),this.index++,r}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(t,s,r)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,s+i})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(t,s)=>this.placeholders[+s])}content(){return this._content}_escapeRegexMatches(e,t){return e.replace(t,(s,r)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,i})}},eE="(:(where|is)\\()?",er=/:(where|is)\(/gi,tE=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,nE=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Zp=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Ro="-shadowcsshost",Ud="-shadowcsscontext",qd="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))",sE=new RegExp(Ro+qd+"?([^,{]*)","gim"),Vd=Ud+qd+"?([^{]*)",rE=new RegExp(`${eE}(${Vd})`,"gim"),iE=new RegExp(Vd,"im"),nn=Ro+"-no-combinator",oE=new RegExp(`${nn}(?![^(]*\\))`,"g"),Na=/-shadowcsshost-no-combinator([^\s,]*)/,aE=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Jp=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,lE="([>\\s~+[.,{:][\\s\\S]*)?$",fs=/-shadowcsshost/gim,cE=/:host/gim,uE=/:host-context/gim,pE=/\r?\n/g,hE=/\/\*[\s\S]*?\*\//g,dE=/\/\*\s*#\s*source(Mapping)?URL=/g,Pc="%COMMENT%",fE=new RegExp(Pc,"g"),Da="%BLOCK%",mE=new RegExp(`(\\s*(?:${Pc}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),gE=new Map([["{","}"]]),Hd="%COMMA_IN_PLACEHOLDER%",jd="%SEMI_IN_PLACEHOLDER%",Wd="%COLON_IN_PLACEHOLDER%",vE=new RegExp(Hd,"g"),EE=new RegExp(jd,"g"),wE=new RegExp(Wd,"g"),jr=class{selector;content;constructor(e,t){this.selector=e,this.content=t}};function Mi(n,e){let t=xE(n),s=SE(t,gE,Da),r=0,i=s.escapedString.replace(mE,(...o)=>{let a=o[2],l="",c=o[4],p="";c&&c.startsWith("{"+Da)&&(l=s.blocks[r++],c=c.substring(Da.length+1),p="{");let h=e(new jr(a,l));return`${o[1]}${h.selector}${o[3]}${p}${h.content}${c}`});return CE(i)}var _l=class{escapedString;blocks;constructor(e,t){this.escapedString=e,this.blocks=t}};function SE(n,e,t){let s=[],r=[],i=0,o=0,a=-1,l,c;for(let p=0;p<n.length;p++){let h=n[p];h==="\\"?p++:h===c?(i--,i===0&&(r.push(n.substring(a,p)),s.push(t),o=p,a=-1,l=c=void 0)):h===l?i++:i===0&&e.has(h)&&(l=h,c=e.get(h),i=1,a=p+1,s.push(n.substring(o,a)))}return a!==-1?(r.push(n.substring(a)),s.push(t)):s.push(n.substring(o)),new _l(s.join(""),r)}var yE={";":jd,",":Hd,":":Wd};function xE(n){let e=n,t=null;for(let s=0;s<e.length;s++){let r=e[s];if(r==="\\")s++;else if(t!==null)if(r===t)t=null;else{let i=yE[r];i&&(e=`${e.substr(0,s)}${i}${e.substr(s+1)}`,s+=i.length-1)}else(r==="'"||r==='"')&&(t=r)}return e}function CE(n){let e=n.replace(vE,",");return e=e.replace(EE,";"),e=e.replace(wE,":"),e}function Kp(n,e){return e?n.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):n}function AE(n,e,t=""){let s=nn;fs.lastIndex=0;let r=fs.test(e);if(n.length===0)return s+e;let i=[n.pop()||""];for(;n.length>0;){let o=i.length,a=n.pop();for(let l=0;l<o;l++){let c=i[l];i[o*2+l]=c+" "+a,i[o+l]=a+" "+c,i[l]=a+c}}return i.map(o=>r?`${t}${o}${e}`:`${t}${o}${s}${e}, ${t}${o} ${s}${e}`).join(",")}function bE(n,e){let t=n.length;for(let s=1;s<e;s++)for(let r=0;r<t;r++)n[r+s*t]=n[r].slice(0)}var u=function(n){return n[n.ListEnd=0]="ListEnd",n[n.Statement=1]="Statement",n[n.Variable=2]="Variable",n[n.ElementStart=3]="ElementStart",n[n.Element=4]="Element",n[n.Template=5]="Template",n[n.ElementEnd=6]="ElementEnd",n[n.ContainerStart=7]="ContainerStart",n[n.Container=8]="Container",n[n.ContainerEnd=9]="ContainerEnd",n[n.DisableBindings=10]="DisableBindings",n[n.ConditionalCreate=11]="ConditionalCreate",n[n.ConditionalBranchCreate=12]="ConditionalBranchCreate",n[n.Conditional=13]="Conditional",n[n.EnableBindings=14]="EnableBindings",n[n.Text=15]="Text",n[n.Listener=16]="Listener",n[n.InterpolateText=17]="InterpolateText",n[n.Binding=18]="Binding",n[n.Property=19]="Property",n[n.StyleProp=20]="StyleProp",n[n.ClassProp=21]="ClassProp",n[n.StyleMap=22]="StyleMap",n[n.ClassMap=23]="ClassMap",n[n.Advance=24]="Advance",n[n.Pipe=25]="Pipe",n[n.Attribute=26]="Attribute",n[n.ExtractedAttribute=27]="ExtractedAttribute",n[n.Defer=28]="Defer",n[n.DeferOn=29]="DeferOn",n[n.DeferWhen=30]="DeferWhen",n[n.I18nMessage=31]="I18nMessage",n[n.DomProperty=32]="DomProperty",n[n.Namespace=33]="Namespace",n[n.ProjectionDef=34]="ProjectionDef",n[n.Projection=35]="Projection",n[n.RepeaterCreate=36]="RepeaterCreate",n[n.Repeater=37]="Repeater",n[n.TwoWayProperty=38]="TwoWayProperty",n[n.TwoWayListener=39]="TwoWayListener",n[n.DeclareLet=40]="DeclareLet",n[n.StoreLet=41]="StoreLet",n[n.I18nStart=42]="I18nStart",n[n.I18n=43]="I18n",n[n.I18nEnd=44]="I18nEnd",n[n.I18nExpression=45]="I18nExpression",n[n.I18nApply=46]="I18nApply",n[n.IcuStart=47]="IcuStart",n[n.IcuEnd=48]="IcuEnd",n[n.IcuPlaceholder=49]="IcuPlaceholder",n[n.I18nContext=50]="I18nContext",n[n.I18nAttributes=51]="I18nAttributes",n[n.SourceLocation=52]="SourceLocation",n}(u||{}),k=function(n){return n[n.LexicalRead=0]="LexicalRead",n[n.Context=1]="Context",n[n.TrackContext=2]="TrackContext",n[n.ReadVariable=3]="ReadVariable",n[n.NextContext=4]="NextContext",n[n.Reference=5]="Reference",n[n.StoreLet=6]="StoreLet",n[n.ContextLetReference=7]="ContextLetReference",n[n.GetCurrentView=8]="GetCurrentView",n[n.RestoreView=9]="RestoreView",n[n.ResetView=10]="ResetView",n[n.PureFunctionExpr=11]="PureFunctionExpr",n[n.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",n[n.PipeBinding=13]="PipeBinding",n[n.PipeBindingVariadic=14]="PipeBindingVariadic",n[n.SafePropertyRead=15]="SafePropertyRead",n[n.SafeKeyedRead=16]="SafeKeyedRead",n[n.SafeInvokeFunction=17]="SafeInvokeFunction",n[n.SafeTernaryExpr=18]="SafeTernaryExpr",n[n.EmptyExpr=19]="EmptyExpr",n[n.AssignTemporaryExpr=20]="AssignTemporaryExpr",n[n.ReadTemporaryExpr=21]="ReadTemporaryExpr",n[n.SlotLiteralExpr=22]="SlotLiteralExpr",n[n.ConditionalCase=23]="ConditionalCase",n[n.ConstCollected=24]="ConstCollected",n[n.TwoWayBindingSet=25]="TwoWayBindingSet",n}(k||{}),rt=function(n){return n[n.None=0]="None",n[n.AlwaysInline=1]="AlwaysInline",n}(rt||{}),fe=function(n){return n[n.Context=0]="Context",n[n.Identifier=1]="Identifier",n[n.SavedView=2]="SavedView",n[n.Alias=3]="Alias",n}(fe||{}),Je=function(n){return n[n.Normal=0]="Normal",n[n.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder",n}(Je||{}),I=function(n){return n[n.Attribute=0]="Attribute",n[n.ClassName=1]="ClassName",n[n.StyleProperty=2]="StyleProperty",n[n.Property=3]="Property",n[n.Template=4]="Template",n[n.I18n=5]="I18n",n[n.LegacyAnimation=6]="LegacyAnimation",n[n.TwoWayProperty=7]="TwoWayProperty",n}(I||{}),Wr=function(n){return n[n.Creation=0]="Creation",n[n.Postproccessing=1]="Postproccessing",n}(Wr||{}),Hs=function(n){return n[n.I18nText=0]="I18nText",n[n.I18nAttribute=1]="I18nAttribute",n}(Hs||{}),Q=function(n){return n[n.None=0]="None",n[n.ElementTag=1]="ElementTag",n[n.TemplateTag=2]="TemplateTag",n[n.OpenTag=4]="OpenTag",n[n.CloseTag=8]="CloseTag",n[n.ExpressionIndex=16]="ExpressionIndex",n}(Q||{}),Ae=function(n){return n[n.HTML=0]="HTML",n[n.SVG=1]="SVG",n[n.Math=2]="Math",n}(Ae||{}),z=function(n){return n[n.Idle=0]="Idle",n[n.Immediate=1]="Immediate",n[n.Timer=2]="Timer",n[n.Hover=3]="Hover",n[n.Interaction=4]="Interaction",n[n.Viewport=5]="Viewport",n[n.Never=6]="Never",n}(z||{}),Nn=function(n){return n[n.RootI18n=0]="RootI18n",n[n.Icu=1]="Icu",n[n.Attr=2]="Attr",n}(Nn||{}),Oe=function(n){return n[n.NgTemplate=0]="NgTemplate",n[n.Structural=1]="Structural",n[n.Block=2]="Block",n}(Oe||{}),Gd=Symbol("ConsumesSlot"),Lc=Symbol("DependsOnSlotContext"),js=Symbol("ConsumesVars"),ga=Symbol("UsesVarOffset"),dt={[Gd]:!0,numSlotsUsed:1},Ke={[Lc]:!0},Ue={[js]:!0};function Ws(n){return n[Gd]===!0}function Gr(n){return n[Lc]===!0}function Pa(n){return n[js]===!0}function eh(n){return n[ga]===!0}function yt(n){return v({kind:u.Statement,statement:n},L)}function on(n,e,t,s){return v({kind:u.Variable,xref:n,variable:e,initializer:t,flags:s},L)}var L={debugListId:null,prev:null,next:null};function _E(n,e,t){return v(v(v({kind:u.InterpolateText,target:n,interpolation:e,sourceSpan:t},Ke),Ue),L)}var se=class{strings;expressions;i18nPlaceholders;constructor(e,t,s){if(this.strings=e,this.expressions=t,this.i18nPlaceholders=s,s.length!==0&&s.length!==t.length)throw new Error(`Expected ${t.length} placeholders to match interpolation expression count, but got ${s.length}`)}};function Gn(n,e,t,s,r,i,o,a,l,c,p){return v({kind:u.Binding,bindingKind:e,target:n,name:t,expression:s,unit:r,securityContext:i,isTextAttribute:o,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:c,sourceSpan:p},L)}function TE(n,e,t,s,r,i,o,a,l,c){return v(v(v({kind:u.Property,target:n,name:e,expression:t,isLegacyAnimationTrigger:s,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:i,templateKind:o,i18nContext:a,i18nMessage:l,sourceSpan:c},Ke),Ue),L)}function kE(n,e,t,s,r,i,o,a,l){return v(v(v({kind:u.TwoWayProperty,target:n,name:e,expression:t,securityContext:s,sanitizer:null,isStructuralTemplateAttribute:r,templateKind:i,i18nContext:o,i18nMessage:a,sourceSpan:l},Ke),Ue),L)}function IE(n,e,t,s,r){return v(v(v({kind:u.StyleProp,target:n,name:e,expression:t,unit:s,sourceSpan:r},Ke),Ue),L)}function NE(n,e,t,s){return v(v(v({kind:u.ClassProp,target:n,name:e,expression:t,sourceSpan:s},Ke),Ue),L)}function DE(n,e,t){return v(v(v({kind:u.StyleMap,target:n,expression:e,sourceSpan:t},Ke),Ue),L)}function PE(n,e,t){return v(v(v({kind:u.ClassMap,target:n,expression:e,sourceSpan:t},Ke),Ue),L)}function LE(n,e,t,s,r,i,o,a,l,c){return v(v(v({kind:u.Attribute,target:n,namespace:e,name:t,expression:s,securityContext:r,sanitizer:null,isTextAttribute:i,isStructuralTemplateAttribute:o,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:c},Ke),Ue),L)}function ME(n,e){return v({kind:u.Advance,delta:n,sourceSpan:e},L)}function zd(n,e,t,s){return v(v(v({kind:u.Conditional,target:n,test:e,conditions:t,processed:null,sourceSpan:s,contextValue:null},L),Ke),Ue)}function BE(n,e,t,s){return v(v({kind:u.Repeater,target:n,targetSlot:e,collection:t,sourceSpan:s},L),Ke)}function RE(n,e,t,s){return v(v(v({kind:u.DeferWhen,target:n,expr:e,modifier:t,sourceSpan:s},L),Ke),Ue)}function Xd(n,e,t,s,r,i,o,a,l,c,p){return v(v(v({kind:u.I18nExpression,context:n,target:e,i18nOwner:t,handle:s,expression:r,icuPlaceholder:i,i18nPlaceholder:o,resolutionTime:a,usage:l,name:c,sourceSpan:p},L),Ue),Ke)}function $E(n,e,t){return v({kind:u.I18nApply,owner:n,handle:e,sourceSpan:t},L)}function OE(n,e,t,s){return v(v(v({kind:u.StoreLet,target:n,declaredName:e,value:t,sourceSpan:s},Ke),Ue),L)}function $t(n){return n instanceof X}var X=class extends j{constructor(e=null){super(null,e)}},ve=class n extends X{name;kind=k.LexicalRead;constructor(e){super(),this.name=e}visitExpression(e,t){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.name)}},$o=class n extends X{target;targetSlot;offset;kind=k.Reference;constructor(e,t,s){super(),this.target=e,this.targetSlot=t,this.offset=s}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot,this.offset)}},zr=class n extends X{target;value;sourceSpan;kind=k.StoreLet;[js]=!0;[Lc]=!0;constructor(e,t,s){super(),this.target=e,this.value=t,this.sourceSpan=s}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target&&e.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.value=b(this.value,e,t)}clone(){return new n(this.target,this.value,this.sourceSpan)}},Xr=class n extends X{target;targetSlot;kind=k.ContextLetReference;constructor(e,t){super(),this.target=e,this.targetSlot=t}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot)}},gn=class n extends X{view;kind=k.Context;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},Tl=class n extends X{view;kind=k.TrackContext;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},Oo=class n extends X{kind=k.NextContext;steps=1;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n;return e.steps=this.steps,e}},kl=class n extends X{kind=k.GetCurrentView;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n}},Fo=class n extends X{view;kind=k.RestoreView;constructor(e){super(),this.view=e}visitExpression(e,t){typeof this.view!="number"&&this.view.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,t){typeof this.view!="number"&&(this.view=b(this.view,e,t))}clone(){return new n(this.view instanceof j?this.view.clone():this.view)}},Il=class n extends X{expr;kind=k.ResetView;constructor(e){super(),this.expr=e}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=b(this.expr,e,t)}clone(){return new n(this.expr.clone())}},Uo=class n extends X{target;value;kind=k.TwoWayBindingSet;constructor(e,t){super(),this.target=e,this.value=t}visitExpression(e,t){this.target.visitExpression(e,t),this.value.visitExpression(e,t)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.target=b(this.target,e,t),this.value=b(this.value,e,t)}clone(){return new n(this.target,this.value)}},jt=class n extends X{xref;kind=k.ReadVariable;name=null;constructor(e){super(),this.xref=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n(this.xref);return e.name=this.name,e}},zn=class n extends X{kind=k.PureFunctionExpr;[js]=!0;[ga]=!0;varOffset=null;body;args;fn=null;constructor(e,t){super(),this.body=e,this.args=t}visitExpression(e,t){this.body?.visitExpression(e,t);for(let s of this.args)s.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((t,s)=>t.isEquivalent(this.args[s]))}isConstant(){return!1}transformInternalExpressions(e,t){this.body!==null?this.body=b(this.body,e,t|q.InChildOperation):this.fn!==null&&(this.fn=b(this.fn,e,t));for(let s=0;s<this.args.length;s++)this.args[s]=b(this.args[s],e,t)}clone(){let e=new n(this.body?.clone()??null,this.args.map(t=>t.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},Bs=class n extends X{index;kind=k.PureFunctionParameterExpr;constructor(e){super(),this.index=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new n(this.index)}},Xn=class n extends X{target;targetSlot;name;args;kind=k.PipeBinding;[js]=!0;[ga]=!0;varOffset=null;constructor(e,t,s,r){super(),this.target=e,this.targetSlot=t,this.name=s,this.args=r}visitExpression(e,t){for(let s of this.args)s.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){for(let s=0;s<this.args.length;s++)this.args[s]=b(this.args[s],e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.map(t=>t.clone()));return e.varOffset=this.varOffset,e}},Yr=class n extends X{target;targetSlot;name;args;numArgs;kind=k.PipeBindingVariadic;[js]=!0;[ga]=!0;varOffset=null;constructor(e,t,s,r,i){super(),this.target=e,this.targetSlot=t,this.name=s,this.args=r,this.numArgs=i}visitExpression(e,t){this.args.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.args=b(this.args,e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},Rs=class n extends X{receiver;name;kind=k.SafePropertyRead;constructor(e,t){super(),this.receiver=e,this.name=t}get index(){return this.name}visitExpression(e,t){this.receiver.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=b(this.receiver,e,t)}clone(){return new n(this.receiver.clone(),this.name)}},$s=class n extends X{receiver;index;kind=k.SafeKeyedRead;constructor(e,t,s){super(s),this.receiver=e,this.index=t}visitExpression(e,t){this.receiver.visitExpression(e,t),this.index.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=b(this.receiver,e,t),this.index=b(this.index,e,t)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},Yn=class n extends X{receiver;args;kind=k.SafeInvokeFunction;constructor(e,t){super(),this.receiver=e,this.args=t}visitExpression(e,t){this.receiver.visitExpression(e,t);for(let s of this.args)s.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=b(this.receiver,e,t);for(let s=0;s<this.args.length;s++)this.args[s]=b(this.args[s],e,t)}clone(){return new n(this.receiver.clone(),this.args.map(e=>e.clone()))}},Os=class n extends X{guard;expr;kind=k.SafeTernaryExpr;constructor(e,t){super(),this.guard=e,this.expr=t}visitExpression(e,t){this.guard.visitExpression(e,t),this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.guard=b(this.guard,e,t),this.expr=b(this.expr,e,t)}clone(){return new n(this.guard.clone(),this.expr.clone())}},Qr=class n extends X{kind=k.EmptyExpr;visitExpression(e,t){}isEquivalent(e){return e instanceof n}isConstant(){return!0}clone(){return new n}transformInternalExpressions(){}},Ot=class n extends X{expr;xref;kind=k.AssignTemporaryExpr;name=null;constructor(e,t){super(),this.expr=e,this.xref=t}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=b(this.expr,e,t)}clone(){let e=new n(this.expr.clone(),this.xref);return e.name=this.name,e}},vn=class n extends X{xref;kind=k.ReadTemporaryExpr;name=null;constructor(e){super(),this.xref=e}visitExpression(e,t){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,t){}clone(){let e=new n(this.xref);return e.name=this.name,e}},qo=class n extends X{slot;kind=k.SlotLiteralExpr;constructor(e){super(),this.slot=e}visitExpression(e,t){}isEquivalent(e){return e instanceof n&&e.slot===this.slot}isConstant(){return!0}clone(){return new n(this.slot)}transformInternalExpressions(){}},Vo=class n extends X{expr;target;targetSlot;alias;kind=k.ConditionalCase;constructor(e,t,s,r=null){super(),this.expr=e,this.target=t,this.targetSlot=s,this.alias=r}visitExpression(e,t){this.expr!==null&&this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&e.expr===this.expr}isConstant(){return!0}clone(){return new n(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,t){this.expr!==null&&(this.expr=b(this.expr,e,t))}},Zr=class n extends X{expr;kind=k.ConstCollected;constructor(e){super(),this.expr=e}transformInternalExpressions(e,t){this.expr=e(this.expr,t)}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr)}};function ge(n,e){oe(n,(t,s)=>(e(t,s),t),q.None)}var q=function(n){return n[n.None=0]="None",n[n.InChildOperation=1]="InChildOperation",n}(q||{});function La(n,e,t){for(let s=0;s<n.expressions.length;s++)n.expressions[s]=b(n.expressions[s],e,t)}function oe(n,e,t){switch(n.kind){case u.StyleProp:case u.StyleMap:case u.ClassProp:case u.ClassMap:case u.Binding:n.expression instanceof se?La(n.expression,e,t):n.expression=b(n.expression,e,t);break;case u.Property:case u.DomProperty:case u.Attribute:n.expression instanceof se?La(n.expression,e,t):n.expression=b(n.expression,e,t),n.sanitizer=n.sanitizer&&b(n.sanitizer,e,t);break;case u.TwoWayProperty:n.expression=b(n.expression,e,t),n.sanitizer=n.sanitizer&&b(n.sanitizer,e,t);break;case u.I18nExpression:n.expression=b(n.expression,e,t);break;case u.InterpolateText:La(n.interpolation,e,t);break;case u.Statement:Ho(n.statement,e,t);break;case u.Variable:n.initializer=b(n.initializer,e,t);break;case u.Conditional:for(let s of n.conditions)s.expr!==null&&(s.expr=b(s.expr,e,t));n.processed!==null&&(n.processed=b(n.processed,e,t)),n.contextValue!==null&&(n.contextValue=b(n.contextValue,e,t));break;case u.Listener:case u.TwoWayListener:for(let s of n.handlerOps)oe(s,e,t|q.InChildOperation);break;case u.ExtractedAttribute:n.expression=n.expression&&b(n.expression,e,t),n.trustedValueFn=n.trustedValueFn&&b(n.trustedValueFn,e,t);break;case u.RepeaterCreate:if(n.trackByOps===null)n.track=b(n.track,e,t);else for(let s of n.trackByOps)oe(s,e,t|q.InChildOperation);n.trackByFn!==null&&(n.trackByFn=b(n.trackByFn,e,t));break;case u.Repeater:n.collection=b(n.collection,e,t);break;case u.Defer:n.loadingConfig!==null&&(n.loadingConfig=b(n.loadingConfig,e,t)),n.placeholderConfig!==null&&(n.placeholderConfig=b(n.placeholderConfig,e,t)),n.resolverFn!==null&&(n.resolverFn=b(n.resolverFn,e,t));break;case u.I18nMessage:for(let[s,r]of n.params)n.params.set(s,b(r,e,t));for(let[s,r]of n.postprocessingParams)n.postprocessingParams.set(s,b(r,e,t));break;case u.DeferWhen:n.expr=b(n.expr,e,t);break;case u.StoreLet:n.value=b(n.value,e,t);break;case u.Advance:case u.Container:case u.ContainerEnd:case u.ContainerStart:case u.DeferOn:case u.DisableBindings:case u.Element:case u.ElementEnd:case u.ElementStart:case u.EnableBindings:case u.I18n:case u.I18nApply:case u.I18nContext:case u.I18nEnd:case u.I18nStart:case u.IcuEnd:case u.IcuStart:case u.Namespace:case u.Pipe:case u.Projection:case u.ProjectionDef:case u.Template:case u.Text:case u.I18nAttributes:case u.IcuPlaceholder:case u.DeclareLet:case u.SourceLocation:case u.ConditionalCreate:case u.ConditionalBranchCreate:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${u[n.kind]}`)}}function b(n,e,t){if(n instanceof X)n.transformInternalExpressions(e,t);else if(n instanceof U)n.lhs=b(n.lhs,e,t),n.rhs=b(n.rhs,e,t);else if(n instanceof Un)n.expr=b(n.expr,e,t);else if(n instanceof Ze)n.receiver=b(n.receiver,e,t);else if(n instanceof Wt)n.receiver=b(n.receiver,e,t),n.index=b(n.index,e,t);else if(n instanceof Fe){n.fn=b(n.fn,e,t);for(let s=0;s<n.args.length;s++)n.args[s]=b(n.args[s],e,t)}else if(n instanceof Et)for(let s=0;s<n.entries.length;s++)n.entries[s]=b(n.entries[s],e,t);else if(n instanceof Lt)for(let s=0;s<n.entries.length;s++)n.entries[s].value=b(n.entries[s].value,e,t);else if(n instanceof Dt)n.condition=b(n.condition,e,t),n.trueCase=b(n.trueCase,e,t),n.falseCase!==null&&(n.falseCase=b(n.falseCase,e,t));else if(n instanceof Cs)n.expr=b(n.expr,e,t);else if(n instanceof eo)n.expr=b(n.expr,e,t);else if(n instanceof no)for(let s=0;s<n.expressions.length;s++)n.expressions[s]=b(n.expressions[s],e,t);else if(n instanceof yr)n.condition=b(n.condition,e,t);else if(n instanceof Er)n.tag=b(n.tag,e,t),n.template.expressions=n.template.expressions.map(s=>b(s,e,t));else if(n instanceof Fn)if(Array.isArray(n.body))for(let s=0;s<n.body.length;s++)Ho(n.body[s],e,t);else n.body=b(n.body,e,t);else if(!(n instanceof F)){if(n instanceof Sr)for(let s=0;s<n.expressions.length;s++)n.expressions[s]=b(n.expressions[s],e,t);else if(n instanceof Pt)n.expr=b(n.expr,e,t);else if(!(n instanceof ut||n instanceof On||n instanceof ye))throw new Error(`Unhandled expression kind: ${n.constructor.name}`)}return e(n,t)}function Ho(n,e,t){if(n instanceof pt)n.expr=b(n.expr,e,t);else if(n instanceof be)n.value=b(n.value,e,t);else if(n instanceof pe)n.value!==void 0&&(n.value=b(n.value,e,t));else if(n instanceof ro){n.condition=b(n.condition,e,t);for(let s of n.trueCase)Ho(s,e,t);for(let s of n.falseCase)Ho(s,e,t)}else throw new Error(`Unhandled statement kind: ${n.constructor.name}`)}function Yd(n){return n instanceof ye&&typeof n.value=="string"}var S=(()=>{class n{static nextListId=0;debugListId=n.nextListId++;head={kind:u.ListEnd,next:null,prev:null,debugListId:this.debugListId};tail={kind:u.ListEnd,next:null,prev:null,debugListId:this.debugListId};constructor(){this.head.next=this.tail,this.tail.prev=this.head}push(t){if(Array.isArray(t)){for(let r of t)this.push(r);return}n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=this.debugListId;let s=this.tail.prev;t.prev=s,s.next=t,t.next=this.tail,this.tail.prev=t}prepend(t){if(t.length===0)return;for(let i of t)n.assertIsNotEnd(i),n.assertIsUnowned(i),i.debugListId=this.debugListId;let s=this.head.next,r=this.head;for(let i of t)r.next=i,i.prev=r,r=i;r.next=s,s.prev=r}*[Symbol.iterator](){let t=this.head.next;for(;t!==this.tail;){n.assertIsOwned(t,this.debugListId);let s=t.next;yield t,t=s}}*reversed(){let t=this.tail.prev;for(;t!==this.head;){n.assertIsOwned(t,this.debugListId);let s=t.prev;yield t,t=s}}static replace(t,s){n.assertIsNotEnd(t),n.assertIsNotEnd(s),n.assertIsOwned(t),n.assertIsUnowned(s),s.debugListId=t.debugListId,t.prev!==null&&(t.prev.next=s,s.prev=t.prev),t.next!==null&&(t.next.prev=s,s.next=t.next),t.debugListId=null,t.prev=null,t.next=null}static replaceWithMany(t,s){if(s.length===0){n.remove(t);return}n.assertIsNotEnd(t),n.assertIsOwned(t);let r=t.debugListId;t.debugListId=null;for(let p of s)n.assertIsNotEnd(p),n.assertIsUnowned(p);let{prev:i,next:o}=t;t.prev=null,t.next=null;let a=i;for(let p of s)n.assertIsUnowned(p),p.debugListId=r,a.next=p,p.prev=a,p.next=null,a=p;let l=s[0],c=a;i!==null&&(i.next=l,l.prev=i),o!==null&&(o.prev=c,c.next=o)}static remove(t){n.assertIsNotEnd(t),n.assertIsOwned(t),t.prev.next=t.next,t.next.prev=t.prev,t.debugListId=null,t.prev=null,t.next=null}static insertBefore(t,s){if(Array.isArray(t)){for(let r of t)n.insertBefore(r,s);return}if(n.assertIsOwned(s),s.prev===null)throw new Error("AssertionError: illegal operation on list start");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=s.debugListId,t.prev=null,s.prev.next=t,t.prev=s.prev,t.next=s,s.prev=t}static insertAfter(t,s){if(n.assertIsOwned(s),s.next===null)throw new Error("AssertionError: illegal operation on list end");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=s.debugListId,s.next.prev=t,t.next=s.next,t.prev=s,s.next=t}static assertIsUnowned(t){if(t.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${u[t.kind]}`)}static assertIsOwned(t,s){if(t.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${u[t.kind]}`);if(s!==void 0&&t.debugListId!==s)throw new Error(`AssertionError: node belongs to the wrong list (expected ${s}, actual ${t.debugListId})`)}static assertIsNotEnd(t){if(t.kind===u.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}}return n})(),_e=class{slot=null},FE=new Set([u.Element,u.ElementStart,u.Container,u.ContainerStart,u.Template,u.RepeaterCreate,u.ConditionalCreate,u.ConditionalBranchCreate]);function En(n){return FE.has(n.kind)}function UE(n,e,t,s,r,i){return v(v({kind:u.ElementStart,xref:e,tag:n,handle:new _e,attributes:null,localRefs:[],nonBindable:!1,namespace:t,i18nPlaceholder:s,startSourceSpan:r,wholeSourceSpan:i},dt),L)}function Qd(n,e,t,s,r,i,o,a){return v(v({kind:u.Template,xref:n,templateKind:e,attributes:null,tag:t,handle:new _e,functionNameSuffix:s,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:i,startSourceSpan:o,wholeSourceSpan:a},dt),L)}function Zd(n,e,t,s,r,i,o,a){return v(v({kind:u.ConditionalCreate,xref:n,templateKind:e,attributes:null,tag:t,handle:new _e,functionNameSuffix:s,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:i,startSourceSpan:o,wholeSourceSpan:a},dt),L)}function Jd(n,e,t,s,r,i,o,a){return v(v({kind:u.ConditionalBranchCreate,xref:n,templateKind:e,attributes:null,tag:t,handle:new _e,functionNameSuffix:s,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:i,startSourceSpan:o,wholeSourceSpan:a},dt),L)}function qE(n,e,t,s,r,i,o,a,l,c){return V(v(v(v({kind:u.RepeaterCreate,attributes:null,xref:n,handle:new _e,emptyView:e,track:s,trackByFn:null,trackByOps:null,tag:t,emptyTag:i,emptyAttributes:null,functionNameSuffix:"For",namespace:Ae.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:r,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:c},dt),L),Ue),{numSlotsUsed:e===null?2:3})}function VE(n,e){return v({kind:u.ElementEnd,xref:n,sourceSpan:e},L)}function HE(n){return v({kind:u.DisableBindings,xref:n},L)}function jE(n){return v({kind:u.EnableBindings,xref:n},L)}function Kd(n,e,t,s){return v(v({kind:u.Text,xref:n,handle:new _e,initialValue:e,icuPlaceholder:t,sourceSpan:s},dt),L)}function Mc(n,e,t,s,r,i,o,a,l){let c=new S;return c.push(r),v({kind:u.Listener,target:n,targetSlot:e,tag:s,hostListener:a,name:t,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,isLegacyAnimationListener:i!==null,legacyAnimationPhase:i,eventTarget:o,sourceSpan:l},L)}function ef(n,e,t,s,r,i){let o=new S;return o.push(r),v({kind:u.TwoWayListener,target:n,targetSlot:e,tag:s,name:t,handlerOps:o,handlerFnName:null,sourceSpan:i},L)}function tf(n,e,t){return v(v({kind:u.Pipe,xref:n,handle:e,name:t},L),dt)}function WE(n){return v({kind:u.Namespace,active:n},L)}function GE(n){return v({kind:u.ProjectionDef,def:n},L)}function zE(n,e,t,s,r){return V(v(v({kind:u.Projection,xref:n,handle:new _e,selector:e,i18nPlaceholder:t,fallbackView:s,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:r},L),dt),{numSlotsUsed:s===null?1:2})}function it(n,e,t,s,r,i,o,a){return v({kind:u.ExtractedAttribute,target:n,bindingKind:e,namespace:t,name:s,expression:r,i18nContext:i,i18nMessage:o,securityContext:a,trustedValueFn:null},L)}function XE(n,e,t,s,r,i){return V(v(v({kind:u.Defer,xref:n,handle:new _e,mainView:e,mainSlot:t,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:s,resolverFn:r,flags:null,sourceSpan:i},L),dt),{numSlotsUsed:2})}function en(n,e,t,s){return v({kind:u.DeferOn,defer:n,trigger:e,modifier:t,sourceSpan:s},L)}function YE(n,e,t){return v(v({kind:u.DeclareLet,xref:n,declaredName:e,sourceSpan:t,handle:new _e},dt),L)}function QE(n,e,t,s,r,i,o,a){return v({kind:u.I18nMessage,xref:n,i18nContext:e,i18nBlock:t,message:s,messagePlaceholder:r,params:i,postprocessingParams:o,needsPostprocessing:a,subMessages:[]},L)}function va(n,e,t,s){return v(v({kind:u.I18nStart,xref:n,handle:new _e,root:t??n,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:s},L),dt)}function Ea(n,e){return v({kind:u.I18nEnd,xref:n,sourceSpan:e},L)}function ZE(n,e,t,s){return v({kind:u.IcuStart,xref:n,message:e,messagePlaceholder:t,context:null,sourceSpan:s},L)}function JE(n){return v({kind:u.IcuEnd,xref:n},L)}function KE(n,e,t){return v({kind:u.IcuPlaceholder,xref:n,name:e,strings:t,expressionPlaceholders:[]},L)}function Ma(n,e,t,s,r){if(t===null&&n!==Nn.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return v({kind:u.I18nContext,contextKind:n,xref:e,i18nBlock:t,message:s,sourceSpan:r,params:new Map,postprocessingParams:new Map},L)}function nf(n,e,t){return v(v({kind:u.I18nAttributes,xref:n,handle:e,target:t,i18nAttributesConfig:null},L),dt)}function ew(n,e){return v({kind:u.SourceLocation,templatePath:n,locations:e},L)}function tw(n,e,t,s,r,i){return v(v({kind:u.DomProperty,name:n,expression:e,isLegacyAnimationTrigger:t,i18nContext:s,securityContext:r,sanitizer:null,sourceSpan:i},Ue),L)}var sf="CTX_REF_MARKER",C=function(n){return n[n.Tmpl=0]="Tmpl",n[n.Host=1]="Host",n[n.Both=2]="Both",n}(C||{}),Ve=function(n){return n[n.Full=0]="Full",n[n.DomOnly=1]="DomOnly",n}(Ve||{}),jo=class{componentName;pool;compatibility;mode;constructor(e,t,s,r){this.componentName=e,this.pool=t,this.compatibility=s,this.mode=r}kind=C.Both;allocateXrefId(){return this.nextXrefId++}nextXrefId=0},Jr=class extends jo{relativeContextFilePath;i18nUseExternalIds;deferMeta;allDeferrableDepsFn;relativeTemplatePath;enableDebugLocations;constructor(e,t,s,r,i,o,a,l,c,p){super(e,t,s,r),this.relativeContextFilePath=i,this.i18nUseExternalIds=o,this.deferMeta=a,this.allDeferrableDepsFn=l,this.relativeTemplatePath=c,this.enableDebugLocations=p,this.root=new ot(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}kind=C.Tmpl;fnSuffix="Template";root;views=new Map;contentSelectors=null;allocateView(e){let t=new ot(this,this.allocateXrefId(),e);return this.views.set(t.xref,t),t}get units(){return this.views.values()}addConst(e,t){for(let r=0;r<this.consts.length;r++)if(this.consts[r].isEquivalent(e))return r;let s=this.consts.length;return this.consts.push(e),t&&this.constsInitializers.push(...t),s}consts=[];constsInitializers=[]},Wo=class{xref;constructor(e){this.xref=e}create=new S;update=new S;fnName=null;vars=null;*ops(){for(let e of this.create)if(yield e,e.kind===u.Listener||e.kind===u.TwoWayListener)for(let t of e.handlerOps)yield t;else if(e.kind===u.RepeaterCreate&&e.trackByOps!==null)for(let t of e.trackByOps)yield t;for(let e of this.update)yield e}},ot=class extends Wo{job;parent;constructor(e,t,s){super(t),this.job=e,this.parent=s}contextVariables=new Map;aliases=new Set;decls=null},Go=class extends jo{constructor(e,t,s,r){super(e,t,s,r),this.root=new Nl(this)}kind=C.Host;fnSuffix="HostBindings";root;get units(){return[this.root]}},Nl=class extends Wo{job;constructor(e){super(0),this.job=e}attributes=null};function nw(n){for(let e of n.units)for(let t of e.ops())oe(t,sw,q.None)}function sw(n){if(n instanceof Fe&&n.fn instanceof ve&&n.fn.name==="$any"){if(n.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return n.args[0]}return n}function rw(n){let e=new Map;for(let t of n.units)for(let s of t.create)s.kind===u.I18nContext&&e.set(s.xref,s);for(let t of n.units)for(let s of t.update)s.kind===u.I18nExpression&&iw(e,s)&&S.insertAfter($E(s.i18nOwner,s.handle,null),s)}function iw(n,e){if(e.next?.kind!==u.I18nExpression)return!0;let t=n.get(e.context),s=n.get(e.next.context);if(t===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(s===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return t.i18nBlock!==null?t.i18nBlock!==s.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function ow(n){for(let e of n.units){let t=e.update.head,s=[],r=null;for(let i of e.create){if(i.kind===u.I18nStart)r={blockXref:i.xref,lastSlotConsumer:i.xref};else if(i.kind===u.I18nEnd){for(let o of s)o.target=r.lastSlotConsumer,S.insertBefore(o,t);s.length=0,r=null}if(Ws(i))for(r!==null&&(r.lastSlotConsumer=i.xref);t.next!==null;){if(r!==null&&t.kind===u.I18nExpression&&t.usage===Hs.I18nText&&t.i18nOwner===r.blockXref){let a=t;t=t.next,S.remove(a),s.push(a);continue}let o=!1;if(Gr(t)&&t.target!==i.xref?o=!0:(t.kind===u.Statement||t.kind===u.Variable)&&ge(t,a=>{!o&&Gr(a)&&a.target!==i.xref&&(o=!0)}),o)break;t=t.next}}}}function aw(n){if(!(!n.enableDebugLocations||n.relativeTemplatePath===null))for(let e of n.units){let t=[];for(let s of e.create)if(s.kind===u.ElementStart||s.kind===u.Element){let r=s.startSourceSpan.start;t.push({targetSlot:s.handle,offset:r.offset,line:r.line,column:r.col})}t.length>0&&e.create.push(ew(n.relativeTemplatePath,t))}}function Bc(n){let e=new Map;for(let t of n.create)Ws(t)&&(e.set(t.xref,t),t.kind===u.RepeaterCreate&&t.emptyView!==null&&e.set(t.emptyView,t));return e}function lw(n){for(let e of n.units){let t=Bc(e);for(let s of e.ops())switch(s.kind){case u.Attribute:cw(e,s,t);break;case u.Property:if(!s.isLegacyAnimationTrigger){let r;s.i18nMessage!==null&&s.templateKind===null?r=I.I18n:s.isStructuralTemplateAttribute?r=I.Template:r=I.Property,S.insertBefore(it(s.target,r,null,s.name,null,null,null,s.securityContext),ps(t,s.target))}break;case u.TwoWayProperty:S.insertBefore(it(s.target,I.TwoWayProperty,null,s.name,null,null,null,s.securityContext),ps(t,s.target));break;case u.StyleProp:case u.ClassProp:e.job.compatibility===Je.TemplateDefinitionBuilder&&s.expression instanceof Qr&&S.insertBefore(it(s.target,I.Property,null,s.name,null,null,null,Z.STYLE),ps(t,s.target));break;case u.Listener:if(!s.isLegacyAnimationListener){let r=it(s.target,I.Property,null,s.name,null,null,null,Z.NONE);if(n.kind===C.Host){if(n.compatibility)break;e.create.push(r)}else S.insertBefore(r,ps(t,s.target))}break;case u.TwoWayListener:if(n.kind!==C.Host){let r=it(s.target,I.Property,null,s.name,null,null,null,Z.NONE);S.insertBefore(r,ps(t,s.target))}break}}}function ps(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function cw(n,e,t){if(e.expression instanceof se)return;let s=e.isTextAttribute||e.expression.isConstant();if(n.job.compatibility===Je.TemplateDefinitionBuilder&&(s&&=e.isTextAttribute),s){let r=it(e.target,e.isStructuralTemplateAttribute?I.Template:I.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(n.job.kind===C.Host)n.create.push(r);else{let i=ps(t,e.target);S.insertBefore(r,i)}S.remove(e)}}function uw(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function pw(n){let e=new Map;for(let t of n.units)for(let s of t.create)En(s)&&e.set(s.xref,s);for(let t of n.units)for(let s of t.ops())if(s.kind===u.Binding)switch(s.bindingKind){case I.Attribute:if(s.name==="ngNonBindable"){S.remove(s);let r=uw(e,s.target);r.nonBindable=!0}else{let[r,i]=St(s.name);S.replace(s,LE(s.target,r,i,s.expression,s.securityContext,s.isTextAttribute,s.isStructuralTemplateAttribute,s.templateKind,s.i18nMessage,s.sourceSpan))}break;case I.Property:case I.LegacyAnimation:n.kind===C.Host?S.replace(s,tw(s.name,s.expression,s.bindingKind===I.LegacyAnimation,s.i18nContext,s.securityContext,s.sourceSpan)):S.replace(s,TE(s.target,s.name,s.expression,s.bindingKind===I.LegacyAnimation,s.securityContext,s.isStructuralTemplateAttribute,s.templateKind,s.i18nContext,s.i18nMessage,s.sourceSpan));break;case I.TwoWayProperty:if(!(s.expression instanceof j))throw new Error(`Expected value of two-way property binding "${s.name}" to be an expression`);S.replace(s,kE(s.target,s.name,s.expression,s.securityContext,s.isStructuralTemplateAttribute,s.templateKind,s.i18nContext,s.i18nMessage,s.sourceSpan));break;case I.I18n:case I.ClassName:case I.StyleProperty:throw new Error(`Unhandled binding of kind ${I[s.bindingKind]}`)}}var th=new Map([[d.attribute,d.attribute],[d.classProp,d.classProp],[d.element,d.element],[d.elementContainer,d.elementContainer],[d.elementContainerEnd,d.elementContainerEnd],[d.elementContainerStart,d.elementContainerStart],[d.elementEnd,d.elementEnd],[d.elementStart,d.elementStart],[d.domProperty,d.domProperty],[d.i18nExp,d.i18nExp],[d.listener,d.listener],[d.listener,d.listener],[d.property,d.property],[d.styleProp,d.styleProp],[d.syntheticHostListener,d.syntheticHostListener],[d.syntheticHostProperty,d.syntheticHostProperty],[d.templateCreate,d.templateCreate],[d.twoWayProperty,d.twoWayProperty],[d.twoWayListener,d.twoWayListener],[d.declareLet,d.declareLet],[d.conditionalCreate,d.conditionalBranchCreate],[d.conditionalBranchCreate,d.conditionalBranchCreate],[d.domElement,d.domElement],[d.domElementStart,d.domElementStart],[d.domElementEnd,d.domElementEnd],[d.domElementContainer,d.domElementContainer],[d.domElementContainerStart,d.domElementContainerStart],[d.domElementContainerEnd,d.domElementContainerEnd],[d.domListener,d.domListener],[d.domTemplate,d.domTemplate]]),hw=256;function dw(n){for(let e of n.units)nh(e.create),nh(e.update)}function nh(n){let e=null;for(let t of n){if(t.kind!==u.Statement||!(t.statement instanceof pt)){e=null;continue}if(!(t.statement.expr instanceof Fe)||!(t.statement.expr.fn instanceof On)){e=null;continue}let s=t.statement.expr.fn.value;if(!th.has(s)){e=null;continue}if(e!==null&&th.get(e.instruction)===s&&e.length<hw){let r=e.expression.callFn(t.statement.expr.args,t.statement.expr.sourceSpan,t.statement.expr.pure);e.expression=r,e.op.statement=r.toStmt(),e.length++,S.remove(t)}else e={op:t,instruction:s,expression:t.statement.expr,length:1}}}function fw(n){for(let e of n.units)for(let t of e.update)(t.kind===u.Attribute||t.kind===u.StyleProp||t.kind==u.StyleMap||t.kind===u.ClassMap)&&t.expression instanceof se&&t.expression.strings.length===2&&t.expression.strings.every(r=>r==="")&&(t.expression=t.expression.expressions[0])}function mw(n){for(let e of n.units)for(let t of e.ops()){if(t.kind!==u.Conditional)continue;let s,r=t.conditions.findIndex(o=>o.expr===null);if(r>=0){let o=t.conditions.splice(r,1)[0].targetSlot;s=new qo(o)}else s=g(-1);let i=t.test==null?null:new Ot(t.test,n.allocateXrefId());for(let o=t.conditions.length-1;o>=0;o--){let a=t.conditions[o];if(a.expr!==null){if(i!==null){let l=o===0?i:new vn(i.xref);a.expr=new U(y.Identical,l,a.expr)}else if(a.alias!==null){let l=n.allocateXrefId();a.expr=new Ot(a.expr,l),t.contextValue=new vn(l)}s=new Dt(a.expr,new qo(a.targetSlot),s)}}t.processed=s,t.conditions=[]}}var gw=new Map([["&&",y.And],[">",y.Bigger],[">=",y.BiggerEquals],["|",y.BitwiseOr],["&",y.BitwiseAnd],["/",y.Divide],["=",y.Assign],["==",y.Equals],["===",y.Identical],["<",y.Lower],["<=",y.LowerEquals],["-",y.Minus],["%",y.Modulo],["**",y.Exponentiation],["*",y.Multiply],["!=",y.NotEquals],["!==",y.NotIdentical],["??",y.NullishCoalesce],["||",y.Or],["+",y.Plus],["in",y.In],["+=",y.AdditionAssignment],["-=",y.SubtractionAssignment],["*=",y.MultiplicationAssignment],["/=",y.DivisionAssignment],["%=",y.RemainderAssignment],["**=",y.ExponentiationAssignment],["&&=",y.AndAssignment],["||=",y.OrAssignment],["??=",y.NullishCoalesceAssignment]]);function rf(n){let e=new Map([["svg",Ae.SVG],["math",Ae.Math]]);return n===null?Ae.HTML:e.get(n)??Ae.HTML}function vw(n){let e=new Map([["svg",Ae.SVG],["math",Ae.Math]]);for(let[t,s]of e.entries())if(s===n)return t;return null}function Ew(n,e){return e===Ae.HTML?n:`:${vw(e)}:${n}`}function Fs(n){return Array.isArray(n)?H(n.map(Fs)):g(n)}function ww(n){let e=new Map;for(let t of n.units)for(let s of t.create)if(s.kind===u.ExtractedAttribute){let r=e.get(s.target)||new Dl(n.compatibility);e.set(s.target,r),r.add(s.bindingKind,s.name,s.expression,s.namespace,s.trustedValueFn),S.remove(s)}if(n instanceof Jr)for(let t of n.units)for(let s of t.create)if(s.kind==u.Projection){let r=e.get(s.xref);if(r!==void 0){let i=Pl(r);i.entries.length>0&&(s.attributes=i)}}else En(s)&&(s.attributes=sh(n,e,s.xref),s.kind===u.RepeaterCreate&&s.emptyView!==null&&(s.emptyAttributes=sh(n,e,s.emptyView)));else if(n instanceof Go)for(let[t,s]of e.entries()){if(t!==n.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let r=Pl(s);r.entries.length>0&&(n.root.attributes=r)}}function sh(n,e,t){let s=e.get(t);if(s!==void 0){let r=Pl(s);if(r.entries.length>0)return n.addConst(r)}return null}var rs=Object.freeze([]),Dl=class{compatibility;known=new Map;byKind=new Map;propertyBindings=null;projectAs=null;get attributes(){return this.byKind.get(I.Attribute)??rs}get classes(){return this.byKind.get(I.ClassName)??rs}get styles(){return this.byKind.get(I.StyleProperty)??rs}get bindings(){return this.propertyBindings??rs}get template(){return this.byKind.get(I.Template)??rs}get i18n(){return this.byKind.get(I.I18n)??rs}constructor(e){this.compatibility=e}isKnown(e,t){let s=this.known.get(e)??new Set;return this.known.set(e,s),s.has(t)?!0:(s.add(t),!1)}add(e,t,s,r,i){if(!(this.compatibility===Je.TemplateDefinitionBuilder&&(e===I.Attribute||e===I.ClassName||e===I.StyleProperty))&&this.isKnown(e,t))return;if(t==="ngProjectAs"){if(s===null||!(s instanceof ye)||s.value==null||typeof s.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=s.value.toString()}let a=this.arrayFor(e);if(a.push(...Sw(r,t)),e===I.Attribute||e===I.StyleProperty){if(s===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(i!==null){if(!Yd(s))throw Error("AssertionError: extracted attribute value should be string literal");a.push(Fg(i,new Sr([new to(s.value)],[]),void 0,s.sourceSpan))}else a.push(s)}}arrayFor(e){return e===I.Property||e===I.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function Sw(n,e){let t=g(e);return n?[g(0),g(n),t]:[t]}function Pl({attributes:n,bindings:e,classes:t,i18n:s,projectAs:r,styles:i,template:o}){let a=[...n];if(r!==null){let l=Ec(r)[0];a.push(g(5),Fs(l))}return t.length>0&&a.push(g(1),...t),i.length>0&&a.push(g(2),...i),e.length>0&&a.push(g(3),...e),o.length>0&&a.push(g(4),...o),s.length>0&&a.push(g(6),...s),H(a)}function yw(n){let e=new Map;for(let t of n.units){for(let s of t.create)s.kind===u.I18nAttributes&&e.set(s.target,s);for(let s of t.update)switch(s.kind){case u.Property:case u.Attribute:if(s.i18nContext===null||!(s.expression instanceof se))continue;let r=e.get(s.target);if(r===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(r.target!==s.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let i=[];for(let o=0;o<s.expression.expressions.length;o++){let a=s.expression.expressions[o];if(s.expression.i18nPlaceholders.length!==s.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${s.expression.i18nPlaceholders.length} placeholders and ${s.expression.expressions.length} expressions`);i.push(Xd(s.i18nContext,r.target,r.xref,r.handle,a,null,s.expression.i18nPlaceholders[o],Wr.Creation,Hs.I18nAttribute,s.name,s.sourceSpan))}S.replaceWithMany(s,i);break}}}function xw(n){let e=new Map;for(let r of n.units)for(let i of r.ops())switch(i.kind){case u.Binding:case u.Property:case u.Attribute:case u.ExtractedAttribute:if(i.i18nMessage===null)continue;if(!e.has(i.i18nMessage)){let o=Ma(Nn.Attr,n.allocateXrefId(),null,i.i18nMessage,null);r.create.push(o),e.set(i.i18nMessage,o.xref)}i.i18nContext=e.get(i.i18nMessage);break}let t=new Map;for(let r of n.units)for(let i of r.create)switch(i.kind){case u.I18nStart:if(i.xref===i.root){let o=Ma(Nn.RootI18n,n.allocateXrefId(),i.xref,i.message,null);r.create.push(o),i.context=o.xref,t.set(i.xref,o)}break}for(let r of n.units)for(let i of r.create)if(i.kind===u.I18nStart&&i.xref!==i.root){let o=t.get(i.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");i.context=o.xref,t.set(i.xref,o)}let s=null;for(let r of n.units)for(let i of r.create)switch(i.kind){case u.I18nStart:s=i;break;case u.I18nEnd:s=null;break;case u.IcuStart:if(s===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(i.message.id!==s.message.id){let o=Ma(Nn.Icu,n.allocateXrefId(),s.root,i.message,null);r.create.push(o),i.context=o.xref}else i.context=s.context,t.get(s.xref).contextKind=Nn.Icu;break}}function Cw(n){let e=new Map;for(let t of n.units)for(let s of t.update.reversed())if(s.kind===u.Binding&&s.isTextAttribute){let r=e.get(s.target)||new Set;r.has(s.name)&&n.compatibility===Je.TemplateDefinitionBuilder&&(s.name==="style"||s.name==="class")&&S.remove(s),r.add(s.name),e.set(s.target,r)}}function Aw(n){for(let e of n.units)for(let t of e.create)t.kind===u.Defer&&(t.placeholderMinimumTime!==null&&(t.placeholderConfig=new Zr(Fs([t.placeholderMinimumTime]))),(t.loadingMinimumTime!==null||t.loadingAfterTime!==null)&&(t.loadingConfig=new Zr(Fs([t.loadingMinimumTime,t.loadingAfterTime]))))}function bw(n){let e=new Map;function t(r){if(e.has(r.xref))return e.get(r.xref);let i=new _w;for(let o of r.create)if(!(!En(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of o.localRefs)a.target===""&&i.targets.set(a.name,{xref:o.xref,slot:o.handle})}return e.set(r.xref,i),i}function s(r,i,o){switch(i.trigger.kind){case z.Idle:case z.Never:case z.Immediate:case z.Timer:return;case z.Hover:case z.Interaction:case z.Viewport:if(i.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let c=n.views.get(o);if(c==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let p of c.create)if(Ws(p)&&(En(p)||p.kind===u.Projection)){i.trigger.targetXref=p.xref,i.trigger.targetView=o,i.trigger.targetSlotViewSteps=-1,i.trigger.targetSlot=p.handle;return}return}let a=o!==null?n.views.get(o):r,l=o!==null?-1:0;for(;a!==null;){let c=t(a);if(c.targets.has(i.trigger.targetName)){let{xref:p,slot:h}=c.targets.get(i.trigger.targetName);i.trigger.targetXref=p,i.trigger.targetView=a.xref,i.trigger.targetSlotViewSteps=l,i.trigger.targetSlot=h;return}a=a.parent!==null?n.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${i.trigger.kind} not handled`)}}for(let r of n.units){let i=new Map;for(let o of r.create)switch(o.kind){case u.Defer:i.set(o.xref,o);break;case u.DeferOn:let a=i.get(o.defer);s(r,o,o.modifier==="hydrate"?a.mainView:a.placeholderView);break}}}var _w=class{targets=new Map},Tw=new Map([[u.ElementEnd,[u.ElementStart,u.Element]],[u.ContainerEnd,[u.ContainerStart,u.Container]],[u.I18nEnd,[u.I18nStart,u.I18n]]]),kw=new Set([u.Pipe]);function Iw(n){for(let e of n.units)for(let t of e.create){let s=Tw.get(t.kind);if(s===void 0)continue;let[r,i]=s,o=t.prev;for(;o!==null&&kw.has(o.kind);)o=o.prev;o!==null&&o.kind===r&&(o.kind=i,S.remove(t))}}function Nw(n){for(let e of n.units)for(let t of e.ops())oe(t,s=>Rw(s,{job:n}),q.None),oe(t,$w,q.None)}function qe(n){return n instanceof Un?qe(n.expr):n instanceof U?qe(n.lhs)||qe(n.rhs):n instanceof Dt?n.falseCase&&qe(n.falseCase)?!0:qe(n.condition)||qe(n.trueCase):n instanceof yr?qe(n.condition):n instanceof Ot?qe(n.expr):n instanceof Ze?qe(n.receiver):n instanceof Wt?qe(n.receiver)||qe(n.index):n instanceof Pt?qe(n.expr):n instanceof Fe||n instanceof Et||n instanceof Lt||n instanceof Yn||n instanceof Xn}function Dw(n){let e=new Set;return b(n,t=>(t instanceof Ot&&e.add(t.xref),t),q.None),e}function Pw(n,e,t){return b(n,s=>{if(s instanceof Ot&&e.has(s.xref)){let r=new vn(s.xref);return t.job.compatibility===Je.TemplateDefinitionBuilder?new Ot(r,r.xref):r}return s},q.None),n}function is(n,e,t){let s;if(qe(n)){let r=t.job.allocateXrefId();s=[new Ot(n,r),new vn(r)]}else s=[n,n.clone()],Pw(s[1],Dw(s[0]),t);return new Os(s[0],e(s[1]))}function Lw(n){return n instanceof Rs||n instanceof $s||n instanceof Yn}function Mw(n){return n instanceof Ze||n instanceof Wt||n instanceof Fe}function of(n){return Lw(n)||Mw(n)}function Bw(n){if(of(n)&&n.receiver instanceof Os){let e=n.receiver;for(;e.expr instanceof Os;)e=e.expr;return e}return null}function Rw(n,e){if(!of(n))return n;let t=Bw(n);if(t){if(n instanceof Fe)return t.expr=t.expr.callFn(n.args),n.receiver;if(n instanceof Ze)return t.expr=t.expr.prop(n.name),n.receiver;if(n instanceof Wt)return t.expr=t.expr.key(n.index),n.receiver;if(n instanceof Yn)return t.expr=is(t.expr,s=>s.callFn(n.args),e),n.receiver;if(n instanceof Rs)return t.expr=is(t.expr,s=>s.prop(n.name),e),n.receiver;if(n instanceof $s)return t.expr=is(t.expr,s=>s.key(n.index),e),n.receiver}else{if(n instanceof Yn)return is(n.receiver,s=>s.callFn(n.args),e);if(n instanceof Rs)return is(n.receiver,s=>s.prop(n.name),e);if(n instanceof $s)return is(n.receiver,s=>s.key(n.index),e)}return n}function $w(n){return n instanceof Os?new Pt(new Dt(new U(y.Equals,n.guard,bs),bs,n.expr)):n}var rh="\uFFFD",Ow="#",Fw="*",Uw="/",qw=":",Vw="[",Hw="]",jw="|";function Ww(n){let e=new Map,t=new Map,s=new Map;for(let i of n.units)for(let o of i.create)switch(o.kind){case u.I18nContext:let a=Gw(n,o);i.create.push(a),e.set(o.xref,a),s.set(o.xref,o);break;case u.I18nStart:t.set(o.xref,o);break}let r=null;for(let i of n.units)for(let o of i.create)switch(o.kind){case u.IcuStart:r=o,S.remove(o);let a=s.get(o.context);if(a.contextKind!==Nn.Icu)continue;let l=t.get(a.i18nBlock);if(l.context===a.xref)continue;let c=t.get(l.root),p=e.get(c.context);if(p===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let h=e.get(a.xref);h.messagePlaceholder=o.messagePlaceholder,p.subMessages.push(h.xref);break;case u.IcuEnd:r=null,S.remove(o);break;case u.IcuPlaceholder:if(r===null||r.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(r.context).postprocessingParams.set(o.name,g(zw(o))),S.remove(o);break}}function Gw(n,e,t){let s=ih(e.params),r=ih(e.postprocessingParams),i=[...e.params.values()].some(o=>o.length>1);return QE(n.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,s,r,i)}function zw(n){if(n.strings.length!==n.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${n.strings.length} strings and ${n.expressionPlaceholders.length} expressions`);let e=n.expressionPlaceholders.map(ms);return n.strings.flatMap((t,s)=>[t,e[s]||""]).join("")}function ih(n){let e=new Map;for(let[t,s]of n){let r=Xw(s);r!==null&&e.set(t,g(r))}return e}function Xw(n){if(n.length===0)return null;let e=n.map(t=>ms(t));return e.length===1?e[0]:`${Vw}${e.join(jw)}${Hw}`}function ms(n){if(n.flags&Q.ElementTag&&n.flags&Q.TemplateTag){if(typeof n.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let r=ms(V(v({},n),{value:n.value.element,flags:n.flags&~Q.TemplateTag})),i=ms(V(v({},n),{value:n.value.template,flags:n.flags&~Q.ElementTag}));return n.flags&Q.OpenTag&&n.flags&Q.CloseTag?`${i}${r}${i}`:n.flags&Q.CloseTag?`${r}${i}`:`${i}${r}`}if(n.flags&Q.OpenTag&&n.flags&Q.CloseTag)return`${ms(V(v({},n),{flags:n.flags&~Q.CloseTag}))}${ms(V(v({},n),{flags:n.flags&~Q.OpenTag}))}`;if(n.flags===Q.None)return`${n.value}`;let e="",t="";n.flags&Q.ElementTag?e=Ow:n.flags&Q.TemplateTag&&(e=Fw),e!==""&&(t=n.flags&Q.CloseTag?Uw:"");let s=n.subTemplateIndex===null?"":`${qw}${n.subTemplateIndex}`;return`${rh}${t}${e}${n.value}${s}${rh}`}function Yw(n){for(let e of n.units){let t=new Map;for(let r of e.create){if(Ws(r)){if(r.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;t.set(r.xref,r.handle.slot)}let s=0;for(let r of e.update){let i=null;if(Gr(r)?i=r:ge(r,a=>{i===null&&Gr(a)&&(i=a)}),i===null)continue;if(!t.has(i.target))throw new Error(`AssertionError: reference to unknown slot for target ${i.target}`);let o=t.get(i.target);if(s!==o){let a=o-s;if(a<0)throw new Error("AssertionError: slot counter should never need to move backwards");S.insertBefore(ME(a,i.sourceSpan),r),s=o}}}}function Qw(n){for(let e of n.units)for(let t of e.update){if(t.kind!==u.StoreLet)continue;let s={kind:fe.Identifier,name:null,identifier:t.declaredName,local:!0};S.replace(t,on(n.allocateXrefId(),s,new zr(t.target,t.value,t.sourceSpan),rt.None))}}function Zw(n){let e=n.compatibility===Je.TemplateDefinitionBuilder,t=[],s=0;for(let r of n.units)for(let i of r.create)i.kind===u.Projection&&(t.push(i.selector),i.projectionSlotIndex=s++);if(t.length>0){let r=null;if(t.length>1||t[0]!=="*"){let i=t.map(o=>o==="*"?o:Ec(o));r=n.pool.getConstLiteral(Fs(i),e)}n.contentSelectors=n.pool.getConstLiteral(Fs(t),e),n.root.create.prepend([GE(r)])}}function Jw(n){ir(n.root,null)}function ir(n,e){let t=Kw(n,e);for(let s of n.create)switch(s.kind){case u.ConditionalCreate:case u.ConditionalBranchCreate:case u.Template:ir(n.job.views.get(s.xref),t);break;case u.Projection:s.fallbackView!==null&&ir(n.job.views.get(s.fallbackView),t);break;case u.RepeaterCreate:ir(n.job.views.get(s.xref),t),s.emptyView&&ir(n.job.views.get(s.emptyView),t),s.trackByOps!==null&&s.trackByOps.prepend(Gi(n,t,!1));break;case u.Listener:case u.TwoWayListener:s.handlerOps.prepend(Gi(n,t,!0));break}n.update.prepend(Gi(n,t,!1))}function Kw(n,e){let t={view:n.xref,viewContextVariable:{kind:fe.Context,name:null,view:n.xref},contextVariables:new Map,aliases:n.aliases,references:[],letDeclarations:[],parent:e};for(let s of n.contextVariables.keys())t.contextVariables.set(s,{kind:fe.Identifier,name:null,identifier:s,local:!1});for(let s of n.create)switch(s.kind){case u.ElementStart:case u.ConditionalCreate:case u.ConditionalBranchCreate:case u.Template:if(!Array.isArray(s.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let r=0;r<s.localRefs.length;r++)t.references.push({name:s.localRefs[r].name,targetId:s.xref,targetSlot:s.handle,offset:r,variable:{kind:fe.Identifier,name:null,identifier:s.localRefs[r].name,local:!1}});break;case u.DeclareLet:t.letDeclarations.push({targetId:s.xref,targetSlot:s.handle,variable:{kind:fe.Identifier,name:null,identifier:s.declaredName,local:!1}});break}return t}function Gi(n,e,t){let s=[];e.view!==n.xref&&s.push(on(n.job.allocateXrefId(),e.viewContextVariable,new Oo,rt.None));let r=n.job.views.get(e.view);for(let[i,o]of r.contextVariables){let a=new gn(e.view),l=o===sf?a:new Ze(a,o);s.push(on(n.job.allocateXrefId(),e.contextVariables.get(i),l,rt.None))}for(let i of r.aliases)s.push(on(n.job.allocateXrefId(),i,i.expression.clone(),rt.AlwaysInline));for(let i of e.references)s.push(on(n.job.allocateXrefId(),i.variable,new $o(i.targetId,i.targetSlot,i.offset),rt.None));if(e.view!==n.xref||t)for(let i of e.letDeclarations)s.push(on(n.job.allocateXrefId(),i.variable,new Xr(i.targetId,i.targetSlot),rt.None));return e.parent!==null&&s.push(...Gi(n,e.parent,!1)),s}function eS(n){for(let e of n.units)for(let t of e.ops())oe(t,s=>s instanceof Zr?g(n.addConst(s.expr)):s,q.None)}var oh="style.",ah="class.",tS="style!",lh="class!",ch="!important";function nS(n){for(let e of n.root.update)if(e.kind===u.Binding&&e.bindingKind===I.Property)if(e.name.endsWith(ch)&&(e.name=e.name.substring(0,e.name.length-ch.length)),e.name.startsWith(oh)){e.bindingKind=I.StyleProperty,e.name=e.name.substring(oh.length),sS(e.name)||(e.name=rS(e.name));let{property:t,suffix:s}=Ba(e.name);e.name=t,e.unit=s}else e.name.startsWith(tS)?(e.bindingKind=I.StyleProperty,e.name="style"):e.name.startsWith(ah)?(e.bindingKind=I.ClassName,e.name=Ba(e.name.substring(ah.length)).property):e.name.startsWith(lh)&&(e.bindingKind=I.ClassName,e.name=Ba(e.name.substring(lh.length)).property)}function sS(n){return n.startsWith("--")}function rS(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function Ba(n){let e=n.indexOf("!important");e!==-1&&(n=e>0?n.substring(0,e):"");let t=null,s=n,r=n.lastIndexOf(".");return r>0&&(t=n.slice(r+1),s=n.substring(0,r)),{property:s,suffix:t}}function Ll(n,e=!1){return De(Object.keys(n).map(t=>({key:t,quoted:e,value:n[t]})))}var Ml=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}formatPh(e){return`{${ci(e,!1)}}`}},iS=new Ml;function af(n){return n.visit(iS)}var Gt=class{sourceSpan;i18n;constructor(e,t){this.sourceSpan=e,this.i18n=t}},Qn=class extends Gt{value;tokens;constructor(e,t,s,r){super(t,r),this.value=e,this.tokens=s}visit(e,t){return e.visitText(this,t)}},Mn=class extends Gt{switchValue;type;cases;switchValueSourceSpan;constructor(e,t,s,r,i,o){super(r,o),this.switchValue=e,this.type=t,this.cases=s,this.switchValueSourceSpan=i}visit(e,t){return e.visitExpansion(this,t)}},zo=class{value;expression;sourceSpan;valueSourceSpan;expSourceSpan;constructor(e,t,s,r,i){this.value=e,this.expression=t,this.sourceSpan=s,this.valueSourceSpan=r,this.expSourceSpan=i}visit(e,t){return e.visitExpansionCase(this,t)}},Bl=class extends Gt{name;value;keySpan;valueSpan;valueTokens;constructor(e,t,s,r,i,o,a){super(s,a),this.name=e,this.value=t,this.keySpan=r,this.valueSpan=i,this.valueTokens=o}visit(e,t){return e.visitAttribute(this,t)}},nt=class extends Gt{name;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;constructor(e,t,s,r,i,o,a,l=null,c){super(o,c),this.name=e,this.attrs=t,this.directives=s,this.children=r,this.isSelfClosing=i,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,t){return e.visitElement(this,t)}},Kr=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}},st=class extends Gt{name;parameters;children;nameSpan;startSourceSpan;endSourceSpan;constructor(e,t,s,r,i,o,a=null,l){super(r,l),this.name=e,this.parameters=t,this.children=s,this.nameSpan=i,this.startSourceSpan=o,this.endSourceSpan=a}visit(e,t){return e.visitBlock(this,t)}},Be=class extends Gt{componentName;tagName;fullName;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;constructor(e,t,s,r,i,o,a,l,c,p=null,h){super(l,h),this.componentName=e,this.tagName=t,this.fullName=s,this.attrs=r,this.directives=i,this.children=o,this.isSelfClosing=a,this.startSourceSpan=c,this.endSourceSpan=p}visit(e,t){return e.visitComponent(this,t)}},Rl=class{name;attrs;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,s,r,i=null){this.name=e,this.attrs=t,this.sourceSpan=s,this.startSourceSpan=r,this.endSourceSpan=i}visit(e,t){return e.visitDirective(this,t)}},Xo=class{expression;sourceSpan;constructor(e,t){this.expression=e,this.sourceSpan=t}visit(e,t){return e.visitBlockParameter(this,t)}},Yo=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,s,r,i){this.name=e,this.value=t,this.sourceSpan=s,this.nameSpan=r,this.valueSpan=i}visit(e,t){return e.visitLetDeclaration(this,t)}};function J(n,e,t=null){let s=[],r=n.visit?i=>n.visit(i,t)||i.visit(n,t):i=>i.visit(n,t);return e.forEach(i=>{let o=r(i);o&&s.push(o)}),s}var ei={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},lf="\uE500";ei.ngsp=lf;var $l=class{tokens;errors;nonNormalizedIcuExpressions;constructor(e,t,s){this.tokens=e,this.errors=t,this.nonNormalizedIcuExpressions=s}};function oS(n,e,t,s={}){let r=new Fl(new Mo(n,e),t,s);return r.tokenize(),new $l(mS(r.tokens),r.errors,r.nonNormalizedIcuExpressions)}var aS=/\r\n?/g;function os(n){return`Unexpected character "${n===Ee?"EOF":String.fromCharCode(n)}"`}function uh(n){return`Unknown entity "${n}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function lS(n,e){return`Unable to parse entity "${e}" - ${n} character reference entities must end with ";"`}var Ol=function(n){return n.HEX="hexadecimal",n.DEC="decimal",n}(Ol||{}),Fl=class{_getTagDefinition;_cursor;_tokenizeIcu;_interpolationConfig;_leadingTriviaCodePoints;_currentTokenStart=null;_currentTokenType=null;_expansionCaseStack=[];_openDirectiveCount=0;_inInterpolation=!1;_preserveLineEndings;_i18nNormalizeLineEndingsInICUs;_tokenizeBlocks;_tokenizeLet;_selectorlessEnabled;tokens=[];errors=[];nonNormalizedIcuExpressions=[];constructor(e,t,s){this._getTagDefinition=t,this._tokenizeIcu=s.tokenizeExpansionForms||!1,this._interpolationConfig=s.interpolationConfig||kt,this._leadingTriviaCodePoints=s.leadingTriviaChars&&s.leadingTriviaChars.map(i=>i.codePointAt(0)||0);let r=s.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=s.escapedString?new Ul(e,r):new Qo(e,r),this._preserveLineEndings=s.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=s.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=s.tokenizeBlocks??!0,this._tokenizeLet=s.tokenizeLet??!0,this._selectorlessEnabled=s.selectorlessEnabled??!1;try{this._cursor.init()}catch(i){this.handleError(i)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(aS,`
`)}tokenize(){for(;this._cursor.peek()!==Ee;){let e=this._cursor.clone();try{this._attemptCharCode(ws)?this._attemptCharCode(El)?this._attemptCharCode(Ss)?this._consumeCdata(e):this._attemptCharCode(Lo)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(ft)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===Ks&&!this._inInterpolation&&this._attemptStr("@let")?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._attemptCharCode(Ks)?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(Re)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(t){this.handleError(t)}}this._beginToken(41),this._endToken([])}_getBlockName(){let e=!1,t=this._cursor.clone();return this._attemptCharCodeUntilFn(s=>Vr(s)?!e:fS(s)?(e=!0,!1):!0),this._cursor.getChars(t).trim()}_consumeBlockStart(e){this._beginToken(24,e);let t=this._endToken([this._getBlockName()]);if(this._cursor.peek()===vt)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(te),this._attemptCharCode(Ie))this._attemptCharCodeUntilFn(te);else{t.type=28;return}this._attemptCharCode(gt)?(this._beginToken(25),this._endToken([])):t.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(hh);this._cursor.peek()!==Ie&&this._cursor.peek()!==Ee;){this._beginToken(27);let e=this._cursor.clone(),t=null,s=0;for(;this._cursor.peek()!==We&&this._cursor.peek()!==Ee||t!==null;){let r=this._cursor.peek();if(r===ys)this._cursor.advance();else if(r===t)t=null;else if(t===null&&pr(r))t=r;else if(r===vt&&t===null)s++;else if(r===Ie&&t===null){if(s===0)break;s>0&&s--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(hh)}}_consumeLetDeclaration(e){if(this._beginToken(29,e),Vr(this._cursor.peek()))this._attemptCharCodeUntilFn(te);else{let r=this._endToken([this._cursor.getChars(e)]);r.type=32;return}let t=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(te),!this._attemptCharCode(Ce)){t.type=32;return}this._attemptCharCodeUntilFn(r=>te(r)&&!Dc(r)),this._consumeLetDeclarationValue(),this._cursor.peek()===We?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(t.type=32,t.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),t=!1;return this._attemptCharCodeUntilFn(s=>Ls(s)||s===ma||s===Sn||t&&mt(s)?(t=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==Ee;){let t=this._cursor.peek();if(t===We)break;pr(t)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(s=>s===ys?(this._cursor.advance(),!1):s===t)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(hS(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===Re){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t){if(this._currentTokenStart===null)throw new D(this._cursor.getSpan(t),"Programming error - attempted to end a token when there was no start to the token");if(this._currentTokenType===null)throw new D(this._cursor.getSpan(this._currentTokenStart),"Programming error - attempted to end a token which has no token type");let s={type:this._currentTokenType,parts:e,sourceSpan:(t??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(s),this._currentTokenStart=null,this._currentTokenType=null,s}_createError(e,t){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let s=new D(t,e);return this._currentTokenStart=null,this._currentTokenType=null,s}handleError(e){if(e instanceof ti&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof D)this.errors.push(e);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return dS(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(os(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){let t=e.length;if(this._cursor.charsLeft()<t)return!1;let s=this._cursor.clone();for(let r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=s,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){let t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(os(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){let s=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(s)<t)throw this._createError(os(this._cursor.peek()),this._cursor.getSpan(s))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_consumeEntity(e){this._beginToken(9);let t=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(Nd)){let s=this._attemptCharCode(Od)||this._attemptCharCode(Mv),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(uS),this._cursor.peek()!=We){this._cursor.advance();let o=s?Ol.HEX:Ol.DEC;throw this._createError(lS(o,this._cursor.getChars(t)),this._cursor.getSpan())}let i=this._cursor.getChars(r);this._cursor.advance();try{let o=parseInt(i,s?16:10);this._endToken([String.fromCharCode(o),this._cursor.getChars(t)])}catch{throw this._createError(uh(this._cursor.getChars(t)),this._cursor.getSpan())}}else{let s=this._cursor.clone();if(this._attemptCharCodeUntilFn(pS),this._cursor.peek()!=We)this._beginToken(e,t),this._cursor=s,this._endToken(["&"]);else{let r=this._cursor.getChars(s);this._cursor.advance();let i=ei.hasOwnProperty(r)&&ei[r];if(!i)throw this._createError(uh(r),this._cursor.getSpan(t));this._endToken([i,`&${r};`])}}}_consumeRawText(e,t){this._beginToken(e?6:7);let s=[];for(;;){let r=this._cursor.clone(),i=t();if(this._cursor=r,i)break;e&&this._cursor.peek()===Po?(this._endToken([this._processCarriageReturns(s.join(""))]),s.length=0,this._consumeEntity(6),this._beginToken(6)):s.push(this._readChar())}this._endToken([this._processCarriageReturns(s.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(Lo),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let t=this._cursor.clone();this._attemptUntilChar(tt);let s=this._cursor.getChars(t);this._cursor.advance(),this._endToken([s])}_consumePrefixAndName(e){let t=this._cursor.clone(),s="";for(;this._cursor.peek()!==Ut&&!cS(this._cursor.peek());)this._cursor.advance();let r;this._cursor.peek()===Ut?(s=this._cursor.getChars(t),this._cursor.advance(),r=this._cursor.clone()):r=t,this._requireCharCodeUntilFn(e,s===""?0:1);let i=this._cursor.getChars(r);return[s,i]}_consumeTagOpen(e){let t,s,r,i;try{if(this._selectorlessEnabled&&Bi(this._cursor.peek()))i=this._consumeComponentOpenStart(e),[r,s,t]=i.parts,s&&(r+=`:${s}`),t&&(r+=`:${t}`),this._attemptCharCodeUntilFn(te);else{if(!Ls(this._cursor.peek()))throw this._createError(os(this._cursor.peek()),this._cursor.getSpan(e));i=this._consumeTagOpenStart(e),s=i.parts[0],t=r=i.parts[1],this._attemptCharCodeUntilFn(te)}for(;!fh(this._cursor.peek());)if(this._selectorlessEnabled&&this._cursor.peek()===Ks){let a=this._cursor.clone(),l=a.clone();l.advance(),Bi(l.peek())&&this._consumeDirective(a,l)}else this._consumeAttribute();i.type===33?this._consumeComponentOpenEnd():this._consumeTagOpenEnd()}catch(a){if(a instanceof D){i?i.type=i.type===33?37:4:(this._beginToken(5,e),this._endToken(["<"]));return}throw a}let o=this._getTagDefinition(t).getContentType(s);o===Tt.RAW_TEXT?this._consumeRawTextWithTagClose(i,r,!1):o===Tt.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(i,r,!0)}_consumeRawTextWithTagClose(e,t,s){this._consumeRawText(s,()=>!this._attemptCharCode(ws)||!this._attemptCharCode(ft)||(this._attemptCharCodeUntilFn(te),!this._attemptStrCaseInsensitive(t))?!1:(this._attemptCharCodeUntilFn(te),this._attemptCharCode(tt))),this._beginToken(e.type===33?36:3),this._requireCharCodeUntilFn(r=>r===tt,3),this._cursor.advance(),this._endToken(e.parts)}_consumeTagOpenStart(e){this._beginToken(0,e);let t=this._consumePrefixAndName(as);return this._endToken(t)}_consumeComponentOpenStart(e){this._beginToken(33,e);let t=this._consumeComponentName();return this._endToken(t)}_consumeComponentName(){let e=this._cursor.clone();for(;dh(this._cursor.peek());)this._cursor.advance();let t=this._cursor.getChars(e),s="",r="";return this._cursor.peek()===Ut&&(this._cursor.advance(),[s,r]=this._consumePrefixAndName(as)),[t,s,r]}_consumeAttribute(){this._consumeAttributeName(),this._attemptCharCodeUntilFn(te),this._attemptCharCode(Ce)&&(this._attemptCharCodeUntilFn(te),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(te)}_consumeAttributeName(){let e=this._cursor.peek();if(e===qr||e===Ur)throw this._createError(os(e),this._cursor.getSpan());this._beginToken(14);let t;if(this._openDirectiveCount>0){let r=0;t=i=>{if(this._openDirectiveCount>0){if(i===vt)r++;else if(i===Ie){if(r===0)return!0;r--}}return as(i)}}else t=as;let s=this._consumePrefixAndName(t);this._endToken(s)}_consumeAttributeValue(){if(this._cursor.peek()===qr||this._cursor.peek()===Ur){let e=this._cursor.peek();this._consumeQuote(e);let t=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,t,t),this._consumeQuote(e)}else{let e=()=>as(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(ft)?2:1;this._beginToken(e),this._requireCharCode(tt),this._endToken([])}_consumeComponentOpenEnd(){let e=this._attemptCharCode(ft)?35:34;this._beginToken(e),this._requireCharCode(tt),this._endToken([])}_consumeTagClose(e){if(this._selectorlessEnabled){let s=e.clone();for(;s.peek()!==tt&&!Bi(s.peek());)s.advance();if(Bi(s.peek())){this._beginToken(36,e);let r=this._consumeComponentName();this._attemptCharCodeUntilFn(te),this._requireCharCode(tt),this._endToken(r);return}}this._beginToken(3,e),this._attemptCharCodeUntilFn(te);let t=this._consumePrefixAndName(as);this._attemptCharCodeUntilFn(te),this._requireCharCode(tt),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(gt),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(at),t=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{let r=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(r)}this._requireCharCode(at),this._attemptCharCodeUntilFn(te),this._beginToken(7);let s=this._readUntil(at);this._endToken([s]),this._requireCharCode(at),this._attemptCharCodeUntilFn(te)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(gt).trim();this._endToken([e]),this._attemptCharCodeUntilFn(te),this._beginToken(21),this._requireCharCode(gt),this._endToken([]),this._attemptCharCodeUntilFn(te),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(Re),this._endToken([]),this._attemptCharCodeUntilFn(te),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(Re),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,t,s,r){this._beginToken(e);let i=[];for(;!s();){let o=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(i.join(""))],o),i.length=0,this._consumeInterpolation(t,o,r),this._beginToken(e)):this._cursor.peek()===Po?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(e),this._beginToken(e)):i.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(i.join(""))])}_consumeInterpolation(e,t,s){let r=[];this._beginToken(e,t),r.push(this._interpolationConfig.start);let i=this._cursor.clone(),o=null,a=!1;for(;this._cursor.peek()!==Ee&&(s===null||!s());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,r.push(this._getProcessedChars(i,l)),this._endToken(r);return}if(o===null)if(this._attemptStr(this._interpolationConfig.end)){r.push(this._getProcessedChars(i,l)),r.push(this._interpolationConfig.end),this._endToken(r);return}else this._attemptStr("//")&&(a=!0);let c=this._cursor.peek();this._cursor.advance(),c===ys?this._cursor.advance():c===o?o=null:!a&&o===null&&pr(c)&&(o=c)}r.push(this._getProcessedChars(i,this._cursor)),this._endToken(r)}_consumeDirective(e,t){for(this._requireCharCode(Ks),this._cursor.advance();dh(this._cursor.peek());)this._cursor.advance();this._beginToken(38,e);let s=this._cursor.getChars(t);if(this._endToken([s]),this._attemptCharCodeUntilFn(te),this._cursor.peek()===vt){for(this._openDirectiveCount++,this._beginToken(39),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(te);!fh(this._cursor.peek())&&this._cursor.peek()!==Ie;)this._consumeAttribute();if(this._attemptCharCodeUntilFn(te),this._openDirectiveCount--,this._cursor.peek()!==Ie){if(this._cursor.peek()===tt||this._cursor.peek()===ft)return;throw this._createError(os(this._cursor.peek()),this._cursor.getSpan(e))}this._beginToken(40),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(te)}}_getProcessedChars(e,t){return this._processCarriageReturns(t.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===Ee||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===Re&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._cursor.peek()===Ks||this._cursor.peek()===Re))}_isTagStart(){if(this._cursor.peek()===ws){let e=this._cursor.clone();e.advance();let t=e.peek();if(Wn<=t&&t<=ui||wn<=t&&t<=Vs||t===ft||t===El)return!0}return!1}_readUntil(e){let t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==gt)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}};function te(n){return!Vr(n)||n===Ee}function as(n){return Vr(n)||n===tt||n===ws||n===ft||n===qr||n===Ur||n===Ce||n===Ee}function cS(n){return(n<Wn||ui<n)&&(n<wn||Vs<n)&&(n<Ic||n>Pd)}function uS(n){return n===We||n===Ee||!Ov(n)}function pS(n){return n===We||n===Ee||!Ls(n)}function hS(n){return n!==Re}function dS(n,e){return ph(n)===ph(e)}function ph(n){return n>=Wn&&n<=ui?n-Wn+wn:n}function fS(n){return Ls(n)||mt(n)||n===Sn}function hh(n){return n!==We&&te(n)}function Bi(n){return n===Sn||n>=wn&&n<=Vs}function dh(n){return Ls(n)||mt(n)||n===Sn}function fh(n){return n===ft||n===tt||n===ws||n===Ee}function mS(n){let e=[],t;for(let s=0;s<n.length;s++){let r=n[s];t&&t.type===5&&r.type===5||t&&t.type===16&&r.type===16?(t.parts[0]+=r.parts[0],t.sourceSpan.end=r.sourceSpan.end):(t=r,e.push(t))}return e}var Qo=class n{state;file;input;end;constructor(e,t){if(e instanceof n){this.file=e.file,this.input=e.input,this.end=e.end;let s=e.state;this.state={peek:s.peek,offset:s.offset,line:s.line,column:s.column}}else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}clone(){return new n(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,t){e=e||this;let s=e;if(t)for(;this.diff(e)>0&&t.indexOf(e.peek())!==-1;)s===e&&(e=e.clone()),e.advance();let r=this.locationFromCursor(e),i=this.locationFromCursor(this),o=s!==e?this.locationFromCursor(s):r;return new P(r,i,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new ti('Unexpected character "EOF"',this);let t=this.charAt(e.offset);t===Ln?(e.line++,e.column=0):Dc(t)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?Ee:this.charAt(e.offset)}locationFromCursor(e){return new Hr(e.file,e.state.offset,e.state.line,e.state.column)}},Ul=class n extends Qo{internalState;constructor(e,t){e instanceof n?(super(e),this.internalState=v({},e.internalState)):(super(e,t),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new n(this)}getChars(e){let t=e.clone(),s="";for(;t.internalState.offset<this.internalState.offset;)s+=String.fromCodePoint(t.peek()),t.advance();return s}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===ys)if(this.internalState=v({},this.state),this.advanceState(this.internalState),e()===Ld)this.state.peek=Ln;else if(e()===Md)this.state.peek=kc;else if(e()===$d)this.state.peek=Td;else if(e()===Bd)this.state.peek=Tc;else if(e()===Rv)this.state.peek=Iv;else if(e()===Nc)this.state.peek=kd;else if(e()===Rd)if(this.advanceState(this.internalState),e()===gt){this.advanceState(this.internalState);let t=this.clone(),s=0;for(;e()!==Re;)this.advanceState(this.internalState),s++;this.state.peek=this.decodeHexDigits(t,s)}else{let t=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,4)}else if(e()===Od){this.advanceState(this.internalState);let t=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,2)}else if(Gp(e())){let t="",s=0,r=this.clone();for(;Gp(e())&&s<3;)r=this.clone(),t+=String.fromCodePoint(e()),this.advanceState(this.internalState),s++;this.state.peek=parseInt(t,8),this.internalState=r.internalState}else Dc(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,t){let s=this.input.slice(e.internalState.offset,e.internalState.offset+t),r=parseInt(s,16);if(isNaN(r))throw e.state=e.internalState,new ti("Invalid hexadecimal escape sequence",e);return r}},ti=class extends Error{msg;cursor;constructor(e,t){super(e),this.msg=e,this.cursor=t,Object.setPrototypeOf(this,new.target.prototype)}},ie=class n extends D{elementName;static create(e,t,s){return new n(e,t,s)}constructor(e,t,s){super(t,s),this.elementName=e}},Zo=class{rootNodes;errors;constructor(e,t){this.rootNodes=e,this.errors=t}},gS=class{getTagDefinition;constructor(e){this.getTagDefinition=e}parse(e,t,s){let r=oS(e,t,this.getTagDefinition,s),i=new ql(r.tokens,this.getTagDefinition);return i.build(),new Zo(i.rootNodes,[...r.errors,...i.errors])}},ql=class n{tokens;tagDefinitionResolver;_index=-1;_peek;_containerStack=[];rootNodes=[];errors=[];constructor(e,t){this.tokens=e,this.tagDefinitionResolver=t,this._advance()}build(){for(;this._peek.type!==41;)this._peek.type===0||this._peek.type===4?this._consumeElementStartTag(this._advance()):this._peek.type===3?this._consumeElementEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._peek.type===33||this._peek.type===37?this._consumeComponentStartTag(this._advance()):this._peek.type===36?this._consumeComponentEndTag(this._advance()):this._advance();for(let e of this._containerStack)e instanceof st&&this.errors.push(ie.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let t=this._advanceIf(7),s=this._advanceIf(11),r=t!=null?t.parts[0].trim():null,i=s==null?e.sourceSpan:new P(e.sourceSpan.start,s.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Kr(r,i))}_consumeExpansion(e){let t=this._advance(),s=this._advance(),r=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;r.push(o)}if(this._peek.type!==23){this.errors.push(ie.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let i=new P(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Mn(t.parts[0],s.parts[0],r,i,t.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(ie.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let t=this._advance(),s=this._collectExpansionExpTokens(t);if(!s)return null;let r=this._advance();s.push({type:41,parts:[],sourceSpan:r.sourceSpan});let i=new n(s,this.tagDefinitionResolver);if(i.build(),i.errors.length>0)return this.errors=this.errors.concat(i.errors),null;let o=new P(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart),a=new P(t.sourceSpan.start,r.sourceSpan.end,t.sourceSpan.fullStart);return new zo(e.parts[0],i.rootNodes,o,e.sourceSpan,a)}_collectExpansionExpTokens(e){let t=[],s=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&s.push(this._peek.type),this._peek.type===22)if(mh(s,21)){if(s.pop(),s.length===0)return t}else return this.errors.push(ie.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(mh(s,19))s.pop();else return this.errors.push(ie.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===41)return this.errors.push(ie.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){let t=[e],s=e.sourceSpan,r=e.parts[0];if(r.length>0&&r[0]===`
`){let i=this._getContainer();i!=null&&i.children.length===0&&this._getTagDefinition(i)?.ignoreFirstLf&&(r=r.substring(1),t[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[r]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),t.push(e),e.type===8?r+=e.parts.join("").replace(/&([^;]+);/g,gh):e.type===9?r+=e.parts[0]:r+=e.parts.join("");if(r.length>0){let i=e.sourceSpan;this._addToParent(new Qn(r,new P(s.start,i.end,s.fullStart,s.details),t))}}_closeVoidElement(){let e=this._getContainer();e!==null&&this._getTagDefinition(e)?.isVoid&&this._containerStack.pop()}_consumeElementStartTag(e){let t=[],s=[];this._consumeAttributesAndDirectives(t,s);let r=this._getElementFullName(e,this._getClosestElementLikeParent()),i=!1;if(this._peek.type===2){this._advance(),i=!0;let m=this._getTagDefinition(r);m?.canSelfClose||cl(r)!==null||m?.isVoid||this.errors.push(ie.create(r,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===1&&(this._advance(),i=!1);let o=this._peek.sourceSpan.fullStart,a=new P(e.sourceSpan.start,o,e.sourceSpan.fullStart),l=new P(e.sourceSpan.start,o,e.sourceSpan.fullStart),c=new nt(r,t,s,[],i,a,l,void 0),p=this._getContainer(),h=p!==null&&!!this._getTagDefinition(p)?.isClosedByChild(c.name);this._pushContainer(c,h),i?this._popContainer(r,nt,a):e.type===4&&(this._popContainer(r,nt,null),this.errors.push(ie.create(r,a,`Opening tag "${r}" not terminated.`)))}_consumeComponentStartTag(e){let t=e.parts[0],s=[],r=[];this._consumeAttributesAndDirectives(s,r);let i=this._getClosestElementLikeParent(),o=this._getComponentTagName(e,i),a=this._getComponentFullName(e,i),l=this._peek.type===35;this._advance();let c=this._peek.sourceSpan.fullStart,p=new P(e.sourceSpan.start,c,e.sourceSpan.fullStart),h=new P(e.sourceSpan.start,c,e.sourceSpan.fullStart),m=new Be(t,o,a,s,r,[],l,p,h,void 0),E=this._getContainer(),w=E!==null&&m.tagName!==null&&!!this._getTagDefinition(E)?.isClosedByChild(m.tagName);this._pushContainer(m,w),l?this._popContainer(a,Be,p):e.type===37&&(this._popContainer(a,Be,null),this.errors.push(ie.create(a,p,`Opening tag "${a}" not terminated.`)))}_consumeAttributesAndDirectives(e,t){for(;this._peek.type===14||this._peek.type===38;)this._peek.type===38?t.push(this._consumeDirective(this._peek)):e.push(this._consumeAttr(this._advance()))}_consumeComponentEndTag(e){let t=this._getComponentFullName(e,this._getClosestElementLikeParent());if(!this._popContainer(t,Be,e.sourceSpan)){let s=this._containerStack[this._containerStack.length-1],r;s instanceof Be&&s.componentName===e.parts[0]?r=`, did you mean "${s.fullName}"?`:r=". It may happen when the tag has already been closed by another tag.";let i=`Unexpected closing tag "${t}"${r}`;this.errors.push(ie.create(t,e.sourceSpan,i))}}_getTagDefinition(e){return typeof e=="string"?this.tagDefinitionResolver(e):e instanceof nt?this.tagDefinitionResolver(e.name):e instanceof Be&&e.tagName!==null?this.tagDefinitionResolver(e.tagName):null}_pushContainer(e,t){t&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeElementEndTag(e){let t=this._getElementFullName(e,this._getClosestElementLikeParent());if(this._getTagDefinition(t)?.isVoid)this.errors.push(ie.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(t,nt,e.sourceSpan)){let s=`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(ie.create(t,e.sourceSpan,s))}}_popContainer(e,t,s){let r=!1;for(let i=this._containerStack.length-1;i>=0;i--){let o=this._containerStack[i];if(((o instanceof Be?o.fullName:o.name)===e||e===null)&&o instanceof t)return o.endSourceSpan=s,o.sourceSpan.end=s!==null?s.end:o.sourceSpan.end,this._containerStack.splice(i,this._containerStack.length-i),!r;(o instanceof st||!this._getTagDefinition(o)?.closedByParent)&&(r=!0)}return!1}_consumeAttr(e){let t=Wi(e.parts[0],e.parts[1]),s=e.sourceSpan.end;this._peek.type===15&&this._advance();let r="",i=[],o,a;if(this._peek.type===16)for(o=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let p=this._advance();i.push(p),p.type===17?r+=p.parts.join("").replace(/&([^;]+);/g,gh):p.type===9?r+=p.parts[0]:r+=p.parts.join(""),a=s=p.sourceSpan.end}this._peek.type===15&&(s=this._advance().sourceSpan.end);let c=o&&a&&new P(o.start,a,o.fullStart);return new Bl(t,r,new P(e.sourceSpan.start,s,e.sourceSpan.fullStart),e.sourceSpan,c,i.length>0?i:void 0,void 0)}_consumeDirective(e){let t=[],s=e.sourceSpan.end,r=null;if(this._advance(),this._peek.type===39){for(s=this._peek.sourceSpan.end,this._advance();this._peek.type===14;)t.push(this._consumeAttr(this._advance()));this._peek.type===40?(r=this._peek.sourceSpan,this._advance()):this.errors.push(ie.create(null,e.sourceSpan,"Unterminated directive definition"))}let i=new P(e.sourceSpan.start,s,e.sourceSpan.fullStart),o=new P(i.start,r===null?e.sourceSpan.end:r.end,i.fullStart);return new Rl(e.parts[0],t,o,i,r)}_consumeBlockOpen(e){let t=[];for(;this._peek.type===27;){let a=this._advance();t.push(new Xo(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let s=this._peek.sourceSpan.fullStart,r=new P(e.sourceSpan.start,s,e.sourceSpan.fullStart),i=new P(e.sourceSpan.start,s,e.sourceSpan.fullStart),o=new st(e.parts[0],t,[],r,e.sourceSpan,i);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,st,e.sourceSpan)||this.errors.push(ie.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let t=[];for(;this._peek.type===27;){let a=this._advance();t.push(new Xo(a.parts[0],a.sourceSpan))}let s=this._peek.sourceSpan.fullStart,r=new P(e.sourceSpan.start,s,e.sourceSpan.fullStart),i=new P(e.sourceSpan.start,s,e.sourceSpan.fullStart),o=new st(e.parts[0],t,[],r,e.sourceSpan,i);this._pushContainer(o,!1),this._popContainer(null,st,null),this.errors.push(ie.create(e.parts[0],r,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let t=e.parts[0],s,r;if(this._peek.type!==30){this.errors.push(ie.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${t}". Declaration must have a value.`));return}else s=this._advance();if(this._peek.type!==31){this.errors.push(ie.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${t}". Declaration must be terminated with a semicolon.`));return}else r=this._advance();let i=r.sourceSpan.fullStart,o=new P(e.sourceSpan.start,i,e.sourceSpan.fullStart),a=e.sourceSpan.toString().lastIndexOf(t),l=e.sourceSpan.start.moveBy(a),c=new P(l,e.sourceSpan.end),p=new Yo(t,s.parts[0],o,c,s.sourceSpan);this._addToParent(p)}_consumeIncompleteLet(e){let t=e.parts[0]??"",s=t?` "${t}"`:"";if(t.length>0){let r=e.sourceSpan.toString().lastIndexOf(t),i=e.sourceSpan.start.moveBy(r),o=new P(i,e.sourceSpan.end),a=new P(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),l=new Yo(t,"",e.sourceSpan,o,a);this._addToParent(l)}this.errors.push(ie.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${s}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestElementLikeParent(){for(let e=this._containerStack.length-1;e>-1;e--){let t=this._containerStack[e];if(t instanceof nt||t instanceof Be)return t}return null}_addToParent(e){let t=this._getContainer();t===null?this.rootNodes.push(e):t.children.push(e)}_getElementFullName(e,t){let s=this._getPrefix(e,t);return Wi(s,e.parts[1])}_getComponentFullName(e,t){let s=e.parts[0],r=this._getComponentTagName(e,t);return r===null?s:r.startsWith(":")?s+r:`${s}:${r}`}_getComponentTagName(e,t){let s=this._getPrefix(e,t),r=e.parts[2];return!s&&!r?null:!s&&r?r:Wi(s,r||"ng-component")}_getPrefix(e,t){let s,r;if(e.type===33||e.type===37||e.type===36?(s=e.parts[1],r=e.parts[2]):(s=e.parts[0],r=e.parts[1]),s=s||this._getTagDefinition(r)?.implicitNamespacePrefix||"",!s&&t){let i=t instanceof nt?t.name:t.tagName;if(i!==null){let o=St(i)[1],a=this._getTagDefinition(o);a!==null&&!a.preventNamespaceInheritance&&(s=cl(i))}}return s}};function mh(n,e){return n.length>0&&n[n.length-1]===e}function gh(n,e){return ei[e]!==void 0?ei[e]||n:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):n}var cf="ngPreserveWhitespaces",vh=new Set(["pre","template","textarea","script","style"]),uf=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,vS=new RegExp(`[^${uf}]`),ES=new RegExp(`[${uf}]{2,}`,"g");function Eh(n){return n.some(e=>e.name===cf)}function pf(n){return n.replace(new RegExp(lf,"g")," ")}var Jo=class{preserveSignificantWhitespace;originalNodeMap;requireContext;icuExpansionDepth=0;constructor(e,t,s=!0){this.preserveSignificantWhitespace=e,this.originalNodeMap=t,this.requireContext=s}visitElement(e,t){if(vh.has(e.name)||Eh(e.attrs)){let r=new nt(e.name,_t(this,e.attrs),_t(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(r,e),r}let s=new nt(e.name,e.attrs,e.directives,_t(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(s,e),s}visitAttribute(e,t){return e.name!==cf?e:null}visitText(e,t){let s=e.value.match(vS),r=t&&(t.prev instanceof Mn||t.next instanceof Mn);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(s||r){let o=e.tokens.map(p=>p.type===5?xS(p):p);if(!this.preserveSignificantWhitespace&&o.length>0){let p=o[0];o.splice(0,1,wS(p,t));let h=o[o.length-1];o.splice(o.length-1,1,SS(h,t))}let a=df(e.value),l=this.preserveSignificantWhitespace?a:yS(a,t),c=new Qn(l,e.sourceSpan,o,e.i18n);return this.originalNodeMap?.set(c,e),c}return null}visitComment(e,t){return e}visitExpansion(e,t){this.icuExpansionDepth++;let s;try{s=new Mn(e.switchValue,e.type,_t(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return this.originalNodeMap?.set(s,e),s}visitExpansionCase(e,t){let s=new zo(e.value,_t(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return this.originalNodeMap?.set(s,e),s}visitBlock(e,t){let s=new st(e.name,e.parameters,_t(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return this.originalNodeMap?.set(s,e),s}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}visitComponent(e,t){if(e.tagName&&vh.has(e.tagName)||Eh(e.attrs)){let r=new Be(e.componentName,e.tagName,e.fullName,_t(this,e.attrs),_t(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(r,e),r}let s=new Be(e.componentName,e.tagName,e.fullName,e.attrs,e.directives,_t(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(s,e),s}visitDirective(e,t){return e}visit(e,t){if(this.requireContext&&!t)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function wS(n,e){return n.type!==5||!!e?.prev?n:hf(n,s=>s.trimStart())}function SS(n,e){return n.type!==5||!!e?.next?n:hf(n,s=>s.trimEnd())}function yS(n,e){let t=!e?.prev,s=!e?.next,r=t?n.trimStart():n;return s?r.trimEnd():r}function xS({type:n,parts:e,sourceSpan:t}){return{type:n,parts:[df(e[0])],sourceSpan:t}}function hf({type:n,parts:e,sourceSpan:t},s){return{type:n,parts:[s(e[0])],sourceSpan:t}}function df(n){return pf(n).replace(ES," ")}function _t(n,e){let t=[];return e.forEach((s,r)=>{let i={prev:e[r-1],next:e[r+1]},o=s.visit(n,i);o&&t.push(o)}),t}var M=function(n){return n[n.Character=0]="Character",n[n.Identifier=1]="Identifier",n[n.PrivateIdentifier=2]="PrivateIdentifier",n[n.Keyword=3]="Keyword",n[n.String=4]="String",n[n.Operator=5]="Operator",n[n.Number=6]="Number",n[n.Error=7]="Error",n}(M||{}),Bn=function(n){return n[n.Plain=0]="Plain",n[n.TemplateLiteralPart=1]="TemplateLiteralPart",n[n.TemplateLiteralEnd=2]="TemplateLiteralEnd",n}(Bn||{}),CS=["var","let","as","null","undefined","true","false","if","else","this","typeof","void","in"],ni=class{tokenize(e){return new Vl(e).scan()}},xt=class{index;end;type;numValue;strValue;constructor(e,t,s,r,i){this.index=e,this.end=t,this.type=s,this.numValue=r,this.strValue=i}isCharacter(e){return this.type===M.Character&&this.numValue===e}isNumber(){return this.type===M.Number}isString(){return this.type===M.String}isOperator(e){return this.type===M.Operator&&this.strValue===e}isIdentifier(){return this.type===M.Identifier}isPrivateIdentifier(){return this.type===M.PrivateIdentifier}isKeyword(){return this.type===M.Keyword}isKeywordLet(){return this.type===M.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===M.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===M.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===M.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===M.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===M.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===M.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===M.Keyword&&this.strValue==="typeof"}isKeywordVoid(){return this.type===M.Keyword&&this.strValue==="void"}isKeywordIn(){return this.type===M.Keyword&&this.strValue==="in"}isError(){return this.type===M.Error}toNumber(){return this.type===M.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===Bn.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===Bn.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}isTemplateLiteralInterpolationEnd(){return this.isOperator("}")}toString(){switch(this.type){case M.Character:case M.Identifier:case M.Keyword:case M.Operator:case M.PrivateIdentifier:case M.String:case M.Error:return this.strValue;case M.Number:return this.numValue.toString();default:return null}}},dr=class extends xt{kind;constructor(e,t,s,r){super(e,t,M.String,0,s),this.kind=r}};function Ri(n,e,t){return new xt(n,e,M.Character,t,String.fromCharCode(t))}function AS(n,e,t){return new xt(n,e,M.Identifier,0,t)}function bS(n,e,t){return new xt(n,e,M.PrivateIdentifier,0,t)}function _S(n,e,t){return new xt(n,e,M.Keyword,0,t)}function ls(n,e,t){return new xt(n,e,M.Operator,0,t)}function TS(n,e,t){return new xt(n,e,M.Number,t,"")}function kS(n,e,t){return new xt(n,e,M.Error,0,t)}var $i=new xt(-1,-1,M.Character,0,""),Vl=class{input;tokens=[];length;peek=0;index=-1;braceStack=[];constructor(e){this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?Ee:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,t=this.length,s=this.peek,r=this.index;for(;s<=Id;)if(++r>=t){s=Ee;break}else s=e.charCodeAt(r);if(this.peek=s,this.index=r,r>=t)return null;if(wh(s))return this.scanIdentifier();if(mt(s))return this.scanNumber(r);let i=r;switch(s){case rr:return this.advance(),mt(this.peek)?this.scanNumber(i):Ri(i,this.index,rr);case vt:case Ie:case Ss:case ds:case at:case Ut:case We:return this.scanCharacter(i,s);case gt:return this.scanOpenBrace(i,s);case Re:return this.scanCloseBrace(i,s);case qr:case Ur:return this.scanString();case wl:return this.advance(),this.scanTemplateLiteralPart(i);case Nd:return this.scanPrivateIdentifier();case Dd:return this.scanComplexOperator(i,"+",Ce,"=");case Lo:return this.scanComplexOperator(i,"-",Ce,"=");case ft:return this.scanComplexOperator(i,"/",Ce,"=");case Nv:return this.scanComplexOperator(i,"%",Ce,"=");case Bv:return this.scanOperator(i,"^");case Hp:return this.scanStar(i);case jp:return this.scanQuestion(i);case ws:case tt:return this.scanComplexOperator(i,String.fromCharCode(s),Ce,"=");case El:case Ce:return this.scanComplexOperator(i,String.fromCharCode(s),Ce,"=",Ce,"=");case Po:return this.scanComplexOperator(i,"&",Po,"&",Ce,"=");case Wp:return this.scanComplexOperator(i,"|",Wp,"|",Ce,"=");case Fd:for(;Vr(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(s)}]`,0)}scanCharacter(e,t){return this.advance(),Ri(e,this.index,t)}scanOperator(e,t){return this.advance(),ls(e,this.index,t)}scanOpenBrace(e,t){return this.braceStack.push("expression"),this.advance(),Ri(e,this.index,t)}scanCloseBrace(e,t){return this.advance(),this.braceStack.pop()==="interpolation"?(this.tokens.push(ls(e,this.index,"}")),this.scanTemplateLiteralPart(this.index)):Ri(e,this.index,t)}scanComplexOperator(e,t,s,r,i,o){this.advance();let a=t;return this.peek==s&&(this.advance(),a+=r),i!=null&&this.peek==i&&(this.advance(),a+=o),ls(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();Sh(this.peek);)this.advance();let t=this.input.substring(e,this.index);return CS.indexOf(t)>-1?_S(e,this.index,t):AS(e,this.index,t)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!wh(this.peek))return this.error("Invalid character [#]",-1);for(;Sh(this.peek);)this.advance();let t=this.input.substring(e,this.index);return bS(e,this.index,t)}scanNumber(e){let t=this.index===e,s=!1;for(this.advance();;){if(!mt(this.peek))if(this.peek===Sn){if(!mt(this.input.charCodeAt(this.index-1))||!mt(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);s=!0}else if(this.peek===rr)t=!1;else if(IS(this.peek)){if(this.advance(),NS(this.peek)&&this.advance(),!mt(this.peek))return this.error("Invalid exponent",-1);t=!1}else break;this.advance()}let r=this.input.substring(e,this.index);s&&(r=r.replace(/_/g,""));let i=t?PS(r):parseFloat(r);return TS(e,this.index,i)}scanString(){let e=this.index,t=this.peek;this.advance();let s="",r=this.index,i=this.input;for(;this.peek!=t;)if(this.peek==ys){let a=this.scanStringBackslash(s,r);if(typeof a!="string")return a;s=a,r=this.index}else{if(this.peek==Ee)return this.error("Unterminated quote",0);this.advance()}let o=i.substring(r,this.index);return this.advance(),new dr(e,this.index,s+o,Bn.Plain)}scanQuestion(e){this.advance();let t="?";return this.peek===jp?(t+="?",this.advance(),this.peek===Ce&&(t+="=",this.advance())):this.peek===rr&&(t+=".",this.advance()),ls(e,this.index,t)}scanTemplateLiteralPart(e){let t="",s=this.index;for(;this.peek!==wl;)if(this.peek===ys){let i=this.scanStringBackslash(t,s);if(typeof i!="string")return i;t=i,s=this.index}else if(this.peek===ma){let i=this.index;if(this.advance(),this.peek===gt)return this.braceStack.push("interpolation"),this.tokens.push(new dr(e,i,t+this.input.substring(s,i),Bn.TemplateLiteralPart)),this.advance(),ls(i,this.index,this.input.substring(i,this.index))}else{if(this.peek===Ee)return this.error("Unterminated template literal",0);this.advance()}let r=this.input.substring(s,this.index);return this.advance(),new dr(e,this.index,t+r,Bn.TemplateLiteralEnd)}error(e,t){let s=this.index+t;return kS(s,this.index,`Lexer Error: ${e} at column ${s} in expression [${this.input}]`)}scanStringBackslash(e,t){e+=this.input.substring(t,this.index);let s;if(this.advance(),this.peek===Rd){let r=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(r))s=parseInt(r,16);else return this.error(`Invalid unicode escape [\\u${r}]`,0);for(let i=0;i<5;i++)this.advance()}else s=DS(this.peek),this.advance();return e+=String.fromCharCode(s),e}scanStar(e){this.advance();let t="*";return this.peek===Hp?(t+="*",this.advance(),this.peek===Ce&&(t+="=",this.advance())):this.peek===Ce&&(t+="=",this.advance()),ls(e,this.index,t)}};function wh(n){return Wn<=n&&n<=ui||wn<=n&&n<=Vs||n==Sn||n==ma}function Sh(n){return Ls(n)||mt(n)||n==Sn||n==ma}function IS(n){return n==$v||n==Pv}function NS(n){return n==Lo||n==Dd}function DS(n){switch(n){case Ld:return Ln;case Nc:return kd;case Md:return kc;case Bd:return Tc;case $d:return Td;default:return n}}function PS(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var Hl=class{strings;expressions;offsets;constructor(e,t,s){this.strings=e,this.expressions=t,this.offsets=s}},jl=class{templateBindings;warnings;errors;constructor(e,t,s){this.templateBindings=e,this.warnings=t,this.errors=s}};function sn(n){return n.start.toString()||"(unknown)"}var Ko=class{_lexer;_supportsDirectPipeReferences;constructor(e,t=!1){this._lexer=e,this._supportsDirectPipeReferences=t}parseAction(e,t,s,r=kt){let i=[];this._checkNoInterpolation(i,e,t,r);let o=this._stripComments(e),a=this._lexer.tokenize(o),l=new _n(e,t,s,a,1,i,0,this._supportsDirectPipeReferences).parseChain();return new je(l,e,sn(t),s,i)}parseBinding(e,t,s,r=kt){let i=[],o=this._parseBindingAst(e,t,s,r,i);return new je(o,e,sn(t),s,i)}checkSimpleExpression(e){let t=new Wl;return e.visit(t),t.errors}parseSimpleBinding(e,t,s,r=kt){let i=[],o=this._parseBindingAst(e,t,s,r,i),a=this.checkSimpleExpression(o);return a.length>0&&i.push(fr(`Host binding expression cannot contain ${a.join(" ")}`,e,"",t)),new je(o,e,sn(t),s,i)}_parseBindingAst(e,t,s,r,i){this._checkNoInterpolation(i,e,t,r);let o=this._stripComments(e),a=this._lexer.tokenize(o);return new _n(e,t,s,a,0,i,0,this._supportsDirectPipeReferences).parseChain()}parseTemplateBindings(e,t,s,r,i){let o=this._lexer.tokenize(t),a=[];return new _n(t,s,i,o,0,a,0,this._supportsDirectPipeReferences).parseTemplateBindings({source:e,span:new Xe(r,r+e.length)})}parseInterpolation(e,t,s,r,i=kt){let o=[],{strings:a,expressions:l,offsets:c}=this.splitInterpolation(e,t,o,r,i);if(l.length===0)return null;let p=[];for(let h=0;h<l.length;++h){let m=r?.[h*2+1]?.sourceSpan,E=l[h].text,w=this._stripComments(E),x=this._lexer.tokenize(w),T=new _n(m?E:e,m||t,s,x,0,o,c[h],this._supportsDirectPipeReferences).parseChain();p.push(T)}return this.createInterpolationAst(a.map(h=>h.text),p,e,sn(t),s,o)}parseInterpolationExpression(e,t,s){let r=this._stripComments(e),i=this._lexer.tokenize(r),o=[],a=new _n(e,t,s,i,0,o,0,this._supportsDirectPipeReferences).parseChain(),l=["",""];return this.createInterpolationAst(l,[a],e,sn(t),s,o)}createInterpolationAst(e,t,s,r,i,o){let a=new Vn(0,s.length),l=new li(a,a.toAbsolute(i),e,t);return new je(l,s,r,i,o)}splitInterpolation(e,t,s,r,i=kt){let o=[],a=[],l=[],c=r?LS(r):null,p=0,h=!1,m=!1,{start:E,end:w}=i;for(;p<e.length;)if(h){let x=p,T=x+E.length,A=this._getInterpolationEndIndex(e,w,T);if(A===-1){h=!1,m=!0;break}let N=A+w.length,Y=e.substring(T,A);Y.trim().length===0&&s.push(fr("Blank expressions are not allowed in interpolated strings",e,`at column ${p} in`,t)),a.push({text:Y,start:x,end:N});let ae=(c?.get(x)??x)+E.length;l.push(ae),p=N,h=!1}else{let x=p;p=e.indexOf(E,p),p===-1&&(p=e.length);let T=e.substring(x,p);o.push({text:T,start:x,end:p}),h=!0}if(!h)if(m){let x=o[o.length-1];x.text+=e.substring(p),x.end=e.length}else o.push({text:e.substring(p),start:p,end:e.length});return new Hl(o,a,l)}wrapLiteralPrimitive(e,t,s){let r=new Vn(0,e==null?0:e.length);return new je(new He(r,r.toAbsolute(s),e),e,typeof t=="string"?t:sn(t),s,[])}_stripComments(e){let t=this._commentStart(e);return t!=null?e.substring(0,t):e}_commentStart(e){let t=null;for(let s=0;s<e.length-1;s++){let r=e.charCodeAt(s),i=e.charCodeAt(s+1);if(r===ft&&i==ft&&t==null)return s;t===r?t=null:t==null&&pr(r)&&(t=r)}return null}_checkNoInterpolation(e,t,s,{start:r,end:i}){let o=-1,a=-1;for(let l of this._forEachUnquotedChar(t,0))if(o===-1)t.startsWith(r)&&(o=l);else if(a=this._getInterpolationEndIndex(t,i,l),a>-1)break;o>-1&&a>-1&&e.push(fr(`Got interpolation (${r}${i}) where expression was expected`,t,`at column ${o} in`,s))}_getInterpolationEndIndex(e,t,s){for(let r of this._forEachUnquotedChar(e,s)){if(e.startsWith(t,r))return r;if(e.startsWith("//",r))return e.indexOf(t,r)}return-1}*_forEachUnquotedChar(e,t){let s=null,r=0;for(let i=t;i<e.length;i++){let o=e[i];pr(e.charCodeAt(i))&&(s===null||s===o)&&r%2===0?s=s===null?o:null:s===null&&(yield i),r=o==="\\"?r+1:0}}},or=function(n){return n[n.None=0]="None",n[n.Writable=1]="Writable",n}(or||{}),_n=class{input;parseSourceSpan;absoluteOffset;tokens;parseFlags;errors;offset;supportsDirectPipeReferences;rparensExpected=0;rbracketsExpected=0;rbracesExpected=0;context=or.None;sourceSpanCache=new Map;index=0;constructor(e,t,s,r,i,o,a,l){this.input=e,this.parseSourceSpan=t,this.absoluteOffset=s,this.tokens=r,this.parseFlags=i,this.errors=o,this.offset=a,this.supportsDirectPipeReferences=l}peek(e){let t=this.index+e;return t<this.tokens.length?this.tokens[t]:$i}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,t){let s=this.currentEndIndex;if(t!==void 0&&t>this.currentEndIndex&&(s=t),e>s){let r=s;s=e,e=r}return new Vn(e,s)}sourceSpan(e,t){let s=`${e}@${this.inputIndex}:${t}`;return this.sourceSpanCache.has(s)||this.sourceSpanCache.set(s,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(s)}advance(){this.index++}withContext(e,t){this.context|=e;let s=t();return this.context^=e,s}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}isAssignmentOperator(e){return e.type===M.Operator&&ke.isAssignmentOperation(e.strValue)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===$i?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){let s=this.parsePipe();if(e.push(s),this.consumeOptionalCharacter(We))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(We););else if(this.index<this.tokens.length){let r=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===r)break}}if(e.length===0){let s=this.offset,r=this.offset+this.input.length;return new Me(this.span(s,r),this.sourceSpan(s,r))}return e.length==1?e[0]:new _s(this.span(t),this.sourceSpan(t),e)}parsePipe(){let e=this.inputIndex,t=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let s=this.inputIndex,r=this.expectIdentifierOrKeyword(),i,o;r!==null?i=this.sourceSpan(s):(r="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,i=new Vn(o,o).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(Ut);)a.push(this.parseExpression());let l;if(this.supportsDirectPipeReferences){let c=r.charCodeAt(0);l=c===Sn||c>=wn&&c<=Vs?ji.ReferencedDirectly:ji.ReferencedByName}else l=ji.ReferencedByName;t=new ho(this.span(e),this.sourceSpan(e,o),t,r,a,l,i)}while(this.consumeOptionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let s=this.parsePipe(),r;if(this.consumeOptionalCharacter(Ut))r=this.parsePipe();else{let i=this.inputIndex,o=this.input.substring(e,i);this.error(`Conditional expression ${o} requires all 3 expressions`),r=new Me(this.span(e),this.sourceSpan(e))}return new co(this.span(e),this.sourceSpan(e),t,s,r)}else return t}parseLogicalOr(){let e=this.inputIndex,t=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let s=this.parseLogicalAnd();t=new ke(this.span(e),this.sourceSpan(e),"||",t,s)}return t}parseLogicalAnd(){let e=this.inputIndex,t=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let s=this.parseNullishCoalescing();t=new ke(this.span(e),this.sourceSpan(e),"&&",t,s)}return t}parseNullishCoalescing(){let e=this.inputIndex,t=this.parseEquality();for(;this.consumeOptionalOperator("??");){let s=this.parseEquality();t=new ke(this.span(e),this.sourceSpan(e),"??",t,s)}return t}parseEquality(){let e=this.inputIndex,t=this.parseRelational();for(;this.next.type==M.Operator;){let s=this.next.strValue;switch(s){case"==":case"===":case"!=":case"!==":this.advance();let r=this.parseRelational();t=new ke(this.span(e),this.sourceSpan(e),s,t,r);continue}break}return t}parseRelational(){let e=this.inputIndex,t=this.parseAdditive();for(;this.next.type==M.Operator||this.next.isKeywordIn;){let s=this.next.strValue;switch(s){case"<":case">":case"<=":case">=":case"in":this.advance();let r=this.parseAdditive();t=new ke(this.span(e),this.sourceSpan(e),s,t,r);continue}break}return t}parseAdditive(){let e=this.inputIndex,t=this.parseMultiplicative();for(;this.next.type==M.Operator;){let s=this.next.strValue;switch(s){case"+":case"-":this.advance();let r=this.parseMultiplicative();t=new ke(this.span(e),this.sourceSpan(e),s,t,r);continue}break}return t}parseMultiplicative(){let e=this.inputIndex,t=this.parseExponentiation();for(;this.next.type==M.Operator;){let s=this.next.strValue;switch(s){case"*":case"%":case"/":this.advance();let r=this.parseExponentiation();t=new ke(this.span(e),this.sourceSpan(e),s,t,r);continue}break}return t}parseExponentiation(){let e=this.inputIndex,t=this.parsePrefix();for(;this.next.type==M.Operator&&this.next.strValue==="**";){(t instanceof Es||t instanceof Ar||t instanceof br||t instanceof _r)&&this.error("Unary operator used immediately before exponentiation expression. Parenthesis must be used to disambiguate operator precedence"),this.advance();let s=this.parseExponentiation();t=new ke(this.span(e),this.sourceSpan(e),"**",t,s)}return t}parsePrefix(){if(this.next.type==M.Operator){let e=this.inputIndex,t=this.next.strValue,s;switch(t){case"+":return this.advance(),s=this.parsePrefix(),Es.createPlus(this.span(e),this.sourceSpan(e),s);case"-":return this.advance(),s=this.parsePrefix(),Es.createMinus(this.span(e),this.sourceSpan(e),s);case"!":return this.advance(),s=this.parsePrefix(),new Ar(this.span(e),this.sourceSpan(e),s)}}else if(this.next.isKeywordTypeof()){this.advance();let e=this.inputIndex,t=this.parsePrefix();return new br(this.span(e),this.sourceSpan(e),t)}else if(this.next.isKeywordVoid()){this.advance();let e=this.inputIndex,t=this.parsePrefix();return new _r(this.span(e),this.sourceSpan(e),t)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,t=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(rr))t=this.parseAccessMember(t,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(vt)?t=this.parseCall(t,e,!0):t=this.consumeOptionalCharacter(Ss)?this.parseKeyedReadOrWrite(t,e,!0):this.parseAccessMember(t,e,!0);else if(this.consumeOptionalCharacter(Ss))t=this.parseKeyedReadOrWrite(t,e,!1);else if(this.consumeOptionalCharacter(vt))t=this.parseCall(t,e,!1);else if(this.consumeOptionalOperator("!"))t=new Tr(this.span(e),this.sourceSpan(e),t);else if(this.next.isTemplateLiteralEnd())t=this.parseNoInterpolationTaggedTemplateLiteral(t,e);else if(this.next.isTemplateLiteralPart())t=this.parseTaggedTemplateLiteral(t,e);else return t}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(vt)){this.rparensExpected++;let t=this.parsePipe();return this.consumeOptionalCharacter(Ie)||(this.error("Missing closing parentheses"),this.consumeOptionalCharacter(Ie)),this.rparensExpected--,new Eo(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isKeywordNull())return this.advance(),new He(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new He(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new He(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new He(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordIn())return this.advance(),new He(this.span(e),this.sourceSpan(e),"in");if(this.next.isKeywordThis())return this.advance(),new Hn(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(Ss)){this.rbracketsExpected++;let t=this.parseExpressionList(ds);return this.rbracketsExpected--,this.expectCharacter(ds),new fo(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isCharacter(gt))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new Mt(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let t=this.next.toNumber();return this.advance(),new He(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===Bn.Plain){let t=this.next.toString();return this.advance(),new He(this.span(e),this.sourceSpan(e),t)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new Me(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Me(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new Me(this.span(e),this.sourceSpan(e)))}}}}parseExpressionList(e){let t=[];do if(!this.next.isCharacter(e))t.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(at));return t}parseLiteralMap(){let e=[],t=[],s=this.inputIndex;if(this.expectCharacter(gt),!this.consumeOptionalCharacter(Re)){this.rbracesExpected++;do{let r=this.inputIndex,i=this.next.isString(),o=this.expectIdentifierOrKeywordOrString(),a={key:o,quoted:i};if(e.push(a),i)this.expectCharacter(Ut),t.push(this.parsePipe());else if(this.consumeOptionalCharacter(Ut))t.push(this.parsePipe());else{a.isShorthandInitialized=!0;let l=this.span(r),c=this.sourceSpan(r);t.push(new un(l,c,c,new Mt(l,c),o))}}while(this.consumeOptionalCharacter(at)&&!this.next.isCharacter(Re));this.rbracesExpected--,this.expectCharacter(Re)}return new mo(this.span(s),this.sourceSpan(s),e,t)}parseAccessMember(e,t,s){let r=this.inputIndex,i=this.withContext(or.Writable,()=>{let a=this.expectIdentifierOrKeyword()??"";return a.length===0&&this.error("Expected identifier for property access",e.span.end),a}),o=this.sourceSpan(r);if(s)return this.isAssignmentOperator(this.next)?(this.advance(),this.error("The '?.' operator cannot be used in the assignment"),new Me(this.span(t),this.sourceSpan(t))):new uo(this.span(t),this.sourceSpan(t),o,e,i);if(this.isAssignmentOperator(this.next)){let a=this.next.strValue;if(this.advance(),!(this.parseFlags&1))return this.error("Bindings cannot contain assignments"),new Me(this.span(t),this.sourceSpan(t));let l=new un(this.span(t),this.sourceSpan(t),o,e,i),c=this.parseConditional();return new ke(this.span(t),this.sourceSpan(t),a,l,c)}else return new un(this.span(t),this.sourceSpan(t),o,e,i)}parseCall(e,t,s){let r=this.inputIndex;this.rparensExpected++;let i=this.parseCallArguments(),o=this.span(r,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(Ie),this.rparensExpected--;let a=this.span(t),l=this.sourceSpan(t);return s?new go(a,l,e,i,o):new kr(a,l,e,i,o)}parseCallArguments(){if(this.next.isCharacter(Ie))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(at));return e}expectTemplateBindingKey(){let e="",t=!1,s=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),t=this.consumeOptionalOperator("-"),t&&(e+="-");while(t);return{source:e,span:new Xe(s,s+e.length)}}parseTemplateBindings(e){let t=[];for(t.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let s=this.parseLetBinding();if(s)t.push(s);else{let r=this.expectTemplateBindingKey(),i=this.parseAsBinding(r);i?t.push(i):(r.source=e.source+r.source.charAt(0).toUpperCase()+r.source.substring(1),t.push(...this.parseDirectiveKeywordBindings(r)))}this.consumeStatementTerminator()}return new jl(t,[],this.errors)}parseKeyedReadOrWrite(e,t,s){return this.withContext(or.Writable,()=>{this.rbracketsExpected++;let r=this.parsePipe();if(r instanceof Me&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(ds),this.isAssignmentOperator(this.next)){let i=this.next.strValue;if(this.advance(),s)this.error("The '?.' operator cannot be used in the assignment");else{let o=new Ts(this.span(t),this.sourceSpan(t),e,r),a=this.parseConditional();return new ke(this.span(t),this.sourceSpan(t),i,o,a)}}else return s?new po(this.span(t),this.sourceSpan(t),e,r):new Ts(this.span(t),this.sourceSpan(t),e,r);return new Me(this.span(t),this.sourceSpan(t))})}parseDirectiveKeywordBindings(e){let t=[];this.consumeOptionalCharacter(Ut);let s=this.getDirectiveBoundTarget(),r=this.currentAbsoluteOffset,i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);let o=new Xe(e.span.start,r);return t.push(new ol(o,e,s)),i&&t.push(i),t}getDirectiveBoundTarget(){if(this.next===$i||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:t,end:s}=e.span,r=this.input.substring(t,s);return new je(e,r,sn(this.parseSourceSpan),this.absoluteOffset+t,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let t=this.expectTemplateBindingKey();this.consumeStatementTerminator();let s=new Xe(e.span.start,this.currentAbsoluteOffset);return new Dr(s,t,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let t=this.expectTemplateBindingKey(),s=null;this.consumeOptionalOperator("=")&&(s=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let r=new Xe(e,this.currentAbsoluteOffset);return new Dr(r,t,s)}parseNoInterpolationTaggedTemplateLiteral(e,t){let s=this.parseNoInterpolationTemplateLiteral();return new Ir(this.span(t),this.sourceSpan(t),e,s)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,t=this.inputIndex;this.advance();let s=this.span(t),r=this.sourceSpan(t);return new Nr(s,r,[new vo(s,r,e)],[])}parseTaggedTemplateLiteral(e,t){let s=this.parseTemplateLiteral();return new Ir(this.span(t),this.sourceSpan(t),e,s)}parseTemplateLiteral(){let e=[],t=[],s=this.inputIndex;for(;this.next!==$i;){let r=this.next;if(r.isTemplateLiteralPart()||r.isTemplateLiteralEnd()){let i=this.inputIndex;if(this.advance(),e.push(new vo(this.span(i),this.sourceSpan(i),r.strValue)),r.isTemplateLiteralEnd())break}else if(r.isTemplateLiteralInterpolationStart()){this.advance();let i=this.parsePipe();i instanceof Me?this.error("Template literal interpolation cannot be empty"):t.push(i)}else this.advance()}return new Nr(this.span(s),this.sourceSpan(s),e,t)}consumeStatementTerminator(){this.consumeOptionalCharacter(We)||this.consumeOptionalCharacter(at)}error(e,t=this.index){this.errors.push(fr(e,this.input,this.getErrorLocationText(t),this.parseSourceSpan)),this.skip()}getErrorLocationText(e){return e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,t){let s=`Private identifiers are not supported. Unexpected private identifier: ${e}`;t!==null&&(s+=`, ${t}`),this.error(s)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(We)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(Ie))&&(this.rbracesExpected<=0||!e.isCharacter(Re))&&(this.rbracketsExpected<=0||!e.isCharacter(ds))&&(!(this.context&or.Writable)||!this.isAssignmentOperator(e));)this.next.isError()&&this.errors.push(fr(this.next.toString(),this.input,this.getErrorLocationText(this.next.index),this.parseSourceSpan)),this.advance(),e=this.next}};function fr(n,e,t,s){t.length>0&&(t=` ${t} `);let r=sn(s),i=`Parser Error: ${n}${t}[${e}] in ${r}`;return new D(s,i)}var Wl=class extends wo{errors=[];visitPipe(){this.errors.push("pipes")}};function LS(n){let e=new Map,t=0,s=0,r=0;for(;r<n.length;){let i=n[r];if(i.type===9){let[o,a]=i.parts;t+=a.length,s+=o.length}else{let o=i.parts.reduce((a,l)=>a+l.length,0);s+=o,t+=o}e.set(s,t),r++}return e}function MS(n){return n.visit(new Gl)}var Gl=class{visitUnary(e,t){return`${e.operator}${e.expr.visit(this,t)}`}visitBinary(e,t){return`${e.left.visit(this,t)} ${e.operation} ${e.right.visit(this,t)}`}visitChain(e,t){return e.expressions.map(s=>s.visit(this,t)).join("; ")}visitConditional(e,t){return`${e.condition.visit(this,t)} ? ${e.trueExp.visit(this,t)} : ${e.falseExp.visit(this,t)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,t){return RS(e.strings,e.expressions.map(s=>s.visit(this,t))).join("")}visitKeyedRead(e,t){return`${e.receiver.visit(this,t)}[${e.key.visit(this,t)}]`}visitLiteralArray(e,t){return`[${e.expressions.map(s=>s.visit(this,t)).join(", ")}]`}visitLiteralMap(e,t){return`{${BS(e.keys.map(s=>s.quoted?`'${s.key}'`:s.key),e.values.map(s=>s.visit(this,t))).map(([s,r])=>`${s}: ${r}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,t){return`${e.exp.visit(this,t)} | ${e.name}`}visitPrefixNot(e,t){return`!${e.expression.visit(this,t)}`}visitNonNullAssert(e,t){return`${e.expression.visit(this,t)}!`}visitPropertyRead(e,t){return e.receiver instanceof Mt?e.name:`${e.receiver.visit(this,t)}.${e.name}`}visitSafePropertyRead(e,t){return`${e.receiver.visit(this,t)}?.${e.name}`}visitSafeKeyedRead(e,t){return`${e.receiver.visit(this,t)}?.[${e.key.visit(this,t)}]`}visitCall(e,t){return`${e.receiver.visit(this,t)}(${e.args.map(s=>s.visit(this,t)).join(", ")})`}visitSafeCall(e,t){return`${e.receiver.visit(this,t)}?.(${e.args.map(s=>s.visit(this,t)).join(", ")})`}visitTypeofExpression(e,t){return`typeof ${e.expression.visit(this,t)}`}visitVoidExpression(e,t){return`void ${e.expression.visit(this,t)}`}visitASTWithSource(e,t){return e.ast.visit(this,t)}visitTemplateLiteral(e,t){let s="";for(let r=0;r<e.elements.length;r++){s+=e.elements[r].visit(this,t);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&(s+="${"+i.visit(this,t)+"}")}return"`"+s+"`"}visitTemplateLiteralElement(e,t){return e.text}visitTaggedTemplateLiteral(e,t){return e.tag.visit(this,t)+e.template.visit(this,t)}visitParenthesizedExpression(e,t){return"("+e.expression.visit(this,t)+")"}};function BS(n,e){if(n.length!==e.length)throw new Error("Array lengths must match");return n.map((t,s)=>[t,e[s]])}function RS(n,e){let t=[];for(let s=0;s<Math.max(n.length,e.length);s++)s<n.length&&t.push(n[s]),s<e.length&&t.push(e[s]);return t}var zi;function yh(){return zi||(zi={},Oi(Z.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Oi(Z.STYLE,["*|style"]),Oi(Z.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),Oi(Z.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),zi}function Oi(n,e){for(let t of e)zi[t.toLowerCase()]=n}var $S=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function OS(n){return $S.has(n.toLowerCase())}var zl=class{},FS="boolean",US="number",qS="string",VS="object",HS=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","selectedcontent^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],ff=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),jS=Array.from(ff).reduce((n,[e,t])=>(n.set(e,t),n),new Map),Us=class extends zl{_schema=new Map;_eventSchema=new Map;constructor(){super(),HS.forEach(e=>{let t=new Map,s=new Set,[r,i]=e.split("|"),o=i.split(","),[a,l]=r.split("^");a.split(",").forEach(p=>{this._schema.set(p.toLowerCase(),t),this._eventSchema.set(p.toLowerCase(),s)});let c=l&&this._schema.get(l.toLowerCase());if(c){for(let[p,h]of c)t.set(p,h);for(let p of this._eventSchema.get(l.toLowerCase()))s.add(p)}o.forEach(p=>{if(p.length>0)switch(p[0]){case"*":s.add(p.substring(1));break;case"!":t.set(p.substring(1),FS);break;case"#":t.set(p.substring(1),US);break;case"%":t.set(p.substring(1),VS);break;default:t.set(p,qS)}})})}hasProperty(e,t,s){if(s.some(i=>i.name===bp.name))return!0;if(e.indexOf("-")>-1){if(Op(e)||ll(e))return!1;if(s.some(i=>i.name===Ap.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(t)}hasElement(e,t){return t.some(s=>s.name===bp.name)||e.indexOf("-")>-1&&(Op(e)||ll(e)||t.some(s=>s.name===Ap.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,t,s){s&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let r=yh()[e+"|"+t];return r||(r=yh()["*|"+t],r||Z.NONE)}getMappedPropName(e){return ff.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let t=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(t.keys()).map(s=>jS.get(s)??s)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return zg(e)}normalizeAnimationStyleValue(e,t,s){let r="",i=s.toString().trim(),o=null;if(WS(e)&&s!==0&&s!=="0")if(typeof s=="number")r="px";else{let a=s.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(o=`Please provide a CSS unit value for ${t}:${s}`)}return{error:o,value:i+r}}};function WS(n){switch(n){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var R=class{closedByChildren={};contentType;closedByParent=!1;implicitNamespacePrefix;isVoid;ignoreFirstLf;canSelfClose;preventNamespaceInheritance;constructor({closedByChildren:e,implicitNamespacePrefix:t,contentType:s=Tt.PARSABLE_DATA,closedByParent:r=!1,isVoid:i=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){e&&e.length>0&&e.forEach(c=>this.closedByChildren[c]=!0),this.isVoid=i,this.closedByParent=r||i,this.implicitNamespacePrefix=t||null,this.contentType=s,this.ignoreFirstLf=o,this.preventNamespaceInheritance=a,this.canSelfClose=l??i}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},xh,cs;function Xl(n){return cs||(xh=new R({canSelfClose:!0}),cs=Object.assign(Object.create(null),{base:new R({isVoid:!0}),meta:new R({isVoid:!0}),area:new R({isVoid:!0}),embed:new R({isVoid:!0}),link:new R({isVoid:!0}),img:new R({isVoid:!0}),input:new R({isVoid:!0}),param:new R({isVoid:!0}),hr:new R({isVoid:!0}),br:new R({isVoid:!0}),source:new R({isVoid:!0}),track:new R({isVoid:!0}),wbr:new R({isVoid:!0}),p:new R({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new R({closedByChildren:["tbody","tfoot"]}),tbody:new R({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new R({closedByChildren:["tbody"],closedByParent:!0}),tr:new R({closedByChildren:["tr"],closedByParent:!0}),td:new R({closedByChildren:["td","th"],closedByParent:!0}),th:new R({closedByChildren:["td","th"],closedByParent:!0}),col:new R({isVoid:!0}),svg:new R({implicitNamespacePrefix:"svg"}),foreignObject:new R({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new R({implicitNamespacePrefix:"math"}),li:new R({closedByChildren:["li"],closedByParent:!0}),dt:new R({closedByChildren:["dt","dd"]}),dd:new R({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new R({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new R({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new R({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new R({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new R({closedByChildren:["optgroup"],closedByParent:!0}),option:new R({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new R({ignoreFirstLf:!0}),listing:new R({ignoreFirstLf:!0}),style:new R({contentType:Tt.RAW_TEXT}),script:new R({contentType:Tt.RAW_TEXT}),title:new R({contentType:{default:Tt.ESCAPABLE_RAW_TEXT,svg:Tt.PARSABLE_DATA}}),textarea:new R({contentType:Tt.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new Us().allKnownElementNames().forEach(e=>{!cs[e]&&cl(e)===null&&(cs[e]=new R({canSelfClose:!1}))})),cs[n]??cs[n.toLowerCase()]??xh}var Ch={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},Yl=class{_placeHolderNameCounts={};_signatureToName={};getStartTagPlaceholderName(e,t,s){let r=this._hashTag(e,t,s);if(this._signatureToName[r])return this._signatureToName[r];let i=e.toUpperCase(),o=Ch[i]||`TAG_${i}`,a=this._generateUniqueName(s?o:`START_${o}`);return this._signatureToName[r]=a,a}getCloseTagPlaceholderName(e){let t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];let s=e.toUpperCase(),r=Ch[s]||`TAG_${s}`,i=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[t]=i,i}getPlaceholderName(e,t){let s=e.toUpperCase(),r=`PH: ${s}=${t}`;if(this._signatureToName[r])return this._signatureToName[r];let i=this._generateUniqueName(s);return this._signatureToName[r]=i,i}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,t){let s=this._hashBlock(e,t);if(this._signatureToName[s])return this._signatureToName[s];let r=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[s]=r,r}getCloseBlockPlaceholderName(e){let t=this._hashClosingBlock(e);if(this._signatureToName[t])return this._signatureToName[t];let s=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[t]=s,s}_hashTag(e,t,s){let r=`<${e}`,i=Object.keys(t).sort().map(a=>` ${a}=${t[a]}`).join(""),o=s?"/>":`></${e}>`;return r+i+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,t){let s=t.length===0?"":` (${t.sort().join("; ")})`;return`@${e}${s} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let s=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=s+1,`${e}_${s}`}},GS=new Ko(new ni);function zS(n,e,t,s){let r=new Ql(GS,n,e,t,s);return(i,o,a,l,c)=>r.toI18nMessage(i,o,a,l,c)}function XS(n,e){return e}var Ql=class{_expressionParser;_interpolationConfig;_containerBlocks;_retainEmptyTokens;_preserveExpressionWhitespace;constructor(e,t,s,r,i){this._expressionParser=e,this._interpolationConfig=t,this._containerBlocks=s,this._retainEmptyTokens=r,this._preserveExpressionWhitespace=i}toI18nMessage(e,t="",s="",r="",i){let o={isIcu:e.length==1&&e[0]instanceof Mn,icuDepth:0,placeholderRegistry:new Yl,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:i||XS},a=J(this,e,o);return new Ne(a,o.placeholderToContent,o.placeholderToMessage,t,s,r)}visitElement(e,t){return this._visitElementLike(e,t)}visitComponent(e,t){return this._visitElementLike(e,t)}visitDirective(e,t){throw new Error("Unreachable code")}visitAttribute(e,t){let s=e.valueTokens===void 0||e.valueTokens.length===1?new Js(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,s)}visitText(e,t){let s=e.tokens.length===1?new Js(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,s)}visitComment(e,t){return null}visitExpansion(e,t){t.icuDepth++;let s={},r=new No(e.switchValue,e.type,s,e.sourceSpan);if(e.cases.forEach(a=>{s[a.value]=new Ht(a.expression.map(l=>l.visit(this,t)),a.expSourceSpan)}),t.icuDepth--,t.isIcu||t.icuDepth>0){let a=t.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=a,t.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},t.visitNodeFn(e,r)}let i=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[i]=this.toI18nMessage([e],"","","",void 0);let o=new Ps(r,i,e.sourceSpan);return t.visitNodeFn(e,o)}visitExpansionCase(e,t){throw new Error("Unreachable code")}visitBlock(e,t){let s=J(this,e.children,t);if(this._containerBlocks.has(e.name))return new Ht(s,e.sourceSpan);let r=e.parameters.map(l=>l.expression),i=t.placeholderRegistry.getStartBlockPlaceholderName(e.name,r),o=t.placeholderRegistry.getCloseBlockPlaceholderName(e.name);t.placeholderToContent[i]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},t.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new fn(e.name,r,i,o,s,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,a)}visitBlockParameter(e,t){throw new Error("Unreachable code")}visitLetDeclaration(e,t){return null}_visitElementLike(e,t){let s=J(this,e.children,t),r={},i=h=>{r[h.name]=h.value},o,a;e instanceof nt?(o=e.name,a=Xl(e.name).isVoid):(o=e.fullName,a=e.tagName?Xl(e.tagName).isVoid:!1),e.attrs.forEach(i),e.directives.forEach(h=>h.attrs.forEach(i));let l=t.placeholderRegistry.getStartTagPlaceholderName(o,r,a);t.placeholderToContent[l]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let c="";a||(c=t.placeholderRegistry.getCloseTagPlaceholderName(o),t.placeholderToContent[c]={text:`</${o}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let p=new dn(o,r,l,c,s,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,p)}_visitTextWithInterpolation(e,t,s,r){let i=[],o=!1;for(let a of e)switch(a.type){case 8:case 17:o=!0;let[l,c,p]=a.parts,h=KS(c)||"INTERPOLATION",m=s.placeholderRegistry.getPlaceholderName(h,c);if(this._preserveExpressionWhitespace)s.placeholderToContent[m]={text:a.parts.join(""),sourceSpan:a.sourceSpan},i.push(new Or(c,m,a.sourceSpan));else{let E=this.normalizeExpression(a);s.placeholderToContent[m]={text:`${l}${E}${p}`,sourceSpan:a.sourceSpan},i.push(new Or(E,m,a.sourceSpan))}break;default:if(a.parts[0].length>0||this._retainEmptyTokens){let E=i[i.length-1];E instanceof Js?(E.value+=a.parts[0],E.sourceSpan=new P(E.sourceSpan.start,a.sourceSpan.end,E.sourceSpan.fullStart,E.sourceSpan.details)):i.push(new Js(a.parts[0],a.sourceSpan))}else this._retainEmptyTokens&&i.push(new Js(a.parts[0],a.sourceSpan));break}return o?(YS(i,r),new Ht(i,t)):i[0]}normalizeExpression(e){let t=e.parts[1],s=this._expressionParser.parseBinding(t,e.sourceSpan,e.sourceSpan.start.offset,this._interpolationConfig);return MS(s)}};function YS(n,e){if(e instanceof Ne&&(QS(e),e=e.nodes[0]),e instanceof Ht){ZS(e.children,n);for(let t=0;t<n.length;t++)n[t].sourceSpan=e.children[t].sourceSpan}}function QS(n){let e=n.nodes;if(e.length!==1||!(e[0]instanceof Ht))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function ZS(n,e){if(n.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${n.length} tokens):
${n.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(n.some((t,s)=>e[s].constructor!==t.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var JS=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function KS(n){return n.split(JS)[2]}var Ah=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function bh(n,e){return n=n.toLowerCase(),e=e.toLowerCase(),Ah.has(n+"|"+e)||Ah.has("*|"+e)}var ey=n=>(e,t)=>{let s=n.get(e)??e;return s instanceof Gt&&(t instanceof Ps&&s.i18n instanceof Ne&&(t.previousMessage=s.i18n),s.i18n=t),t},ea=class{interpolationConfig;keepI18nAttrs;enableI18nLegacyMessageIdFormat;containerBlocks;preserveSignificantWhitespace;retainEmptyTokens;hasI18nMeta=!1;_errors=[];constructor(e=kt,t=!1,s=!1,r=kv,i=!0,o=!i){this.interpolationConfig=e,this.keepI18nAttrs=t,this.enableI18nLegacyMessageIdFormat=s,this.containerBlocks=r,this.preserveSignificantWhitespace=i,this.retainEmptyTokens=o}_generateI18nMessage(e,t="",s){let{meaning:r,description:i,customId:o}=this._parseMetadata(t),l=zS(this.interpolationConfig,this.containerBlocks,this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,r,i,o,s);return this._setMessageId(l,t),this._setLegacyIds(l,t),l}visitAllWithErrors(e){let t=e.map(s=>s.visit(this,null));return new Zo(t,this._errors)}visitElement(e){return this._visitElementLike(e),e}visitComponent(e,t){return this._visitElementLike(e),e}visitExpansion(e,t){let s,r=e.i18n;if(this.hasI18nMeta=!0,r instanceof Ps){let i=r.name;s=this._generateI18nMessage([e],r);let o=bd(s);o.name=i,t!==null&&(t.placeholderToMessage[i]=s)}else s=this._generateI18nMessage([e],t||r);return e.i18n=s,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,t){return J(this,e.children,t),e}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}visitDirective(e,t){return e}_visitElementLike(e){let t;if(yv(e)){this.hasI18nMeta=!0;let s=[],r={};for(let i of e.attrs)if(i.name===Cd){let o=e.i18n||i.value,a=new Map,l=this.preserveSignificantWhitespace?e.children:_t(new Jo(!1,a),e.children);t=this._generateI18nMessage(l,o,ey(a)),t.nodes.length===0&&(t=void 0),e.i18n=t}else if(i.name.startsWith(vl)){let o=i.name.slice(vl.length),a;e instanceof Be?a=e.tagName===null?!1:bh(e.tagName,o):a=bh(e.name,o),a?this._reportError(i,`Translating attribute '${o}' is disallowed for security reasons.`):r[o]=i.value}else s.push(i);if(Object.keys(r).length)for(let i of s){let o=r[i.name];o!==void 0&&i.value&&(i.i18n=this._generateI18nMessage([i],i.i18n||o))}this.keepI18nAttrs||(e.attrs=s)}J(this,e.children,t)}_parseMetadata(e){return typeof e=="string"?sy(e):e instanceof Ne?e:{}}_setMessageId(e,t){e.id||(e.id=t instanceof Ne&&t.id||xg(e))}_setLegacyIds(e,t){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[yg(e),fd(e)];else if(typeof t!="string"){let s=t instanceof Ne?t:t instanceof Ps?t.previousMessage:void 0;e.legacyIds=s?s.legacyIds:[]}}_reportError(e,t){this._errors.push(new D(e.sourceSpan,t))}},ty="|",ny="@@";function sy(n=""){let e,t,s;if(n=n.trim(),n){let r=n.indexOf(ny),i=n.indexOf(ty),o;[o,e]=r>-1?[n.slice(0,r),n.slice(r+2)]:[n,""],[t,s]=i>-1?[o.slice(0,i),o.slice(i+1)]:["",o]}return{customId:e,meaning:t,description:s}}function ry(n){let e=[];return n.description?e.push({tagName:"desc",text:n.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),n.meaning&&e.push({tagName:"meaning",text:n.meaning}),$g(e)}var iy="goog.getMsg";function oy(n,e,t,s){let r=ly(e),i=[g(r)];Object.keys(s).length&&(i.push(Ll(Ac(s,!0),!0)),i.push(Ll({original_code:De(Object.keys(s).map(l=>({key:ci(l),quoted:!0,value:e.placeholders[l]?g(e.placeholders[l].sourceSpan.toString()):g(e.placeholderToMessage[l].nodes.map(c=>c.sourceSpan.toString()).join(""))})))})));let o=new pe(t.name,O(iy).callFn(i),ze,we.Final);o.addLeadingComment(ry(e));let a=new pt(n.set(t));return[o,a]}var Zl=class{formatPh(e){return`{$${ci(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){return af(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}},ay=new Zl;function ly(n){return n.nodes.map(e=>e.visit(ay,null)).join("")}function cy(n,e,t){let{messageParts:s,placeHolders:r}=uy(e),i=py(e),o=r.map(c=>t[c.text]),a=Ug(e,s,r,o,i),l=n.set(a);return[new pt(l)]}var Jl=class{placeholderToMessage;pieces;constructor(e,t){this.placeholderToMessage=e,this.pieces=t}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Dn)this.pieces[this.pieces.length-1].text+=e.value;else{let t=new P(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Dn(e.value,t))}}visitContainer(e){e.children.forEach(t=>t.visit(this))}visitIcu(e){this.pieces.push(new Dn(af(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,t,s){return new gs(ci(e,!1),t,s)}};function uy(n){let e=[],t=new Jl(n.placeholderToMessage,e);return n.nodes.forEach(s=>s.visit(t)),hy(e)}function py(n){let e=n.nodes[0],t=n.nodes[n.nodes.length-1];return new P(e.sourceSpan.fullStart,t.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function hy(n){let e=[],t=[];n[0]instanceof gs&&e.push(Ra(n[0].sourceSpan.start));for(let s=0;s<n.length;s++){let r=n[s];r instanceof Dn?e.push(r):(t.push(r),n[s-1]instanceof gs&&e.push(Ra(n[s-1].sourceSpan.end)))}return n[n.length-1]instanceof gs&&e.push(Ra(n[n.length-1].sourceSpan.end)),{messageParts:e,placeHolders:t}}function Ra(n){return new Dn("",new P(n,n))}var _h="ngI18nClosureMode",dy="i18n_",fy="I18N_EXP_",Th="\uFFFD",my="MSG_";function kh(n){return`${my}${n}`.toUpperCase()}function gy(n){return new pe(n.name,void 0,ze,void 0,n.sourceSpan)}function vy(n){let e=n.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",t=new Map,s=new Map,r=new Map,i=new Map;for(let l of n.units)for(let c of l.ops())if(c.kind===u.ExtractedAttribute&&c.i18nContext!==null){let p=t.get(c.i18nContext)??[];p.push(c),t.set(c.i18nContext,p)}else if(c.kind===u.I18nAttributes)s.set(c.target,c);else if(c.kind===u.I18nExpression&&c.usage===Hs.I18nAttribute){let p=r.get(c.target)??[];p.push(c),r.set(c.target,p)}else c.kind===u.I18nMessage&&i.set(c.xref,c);let o=new Map,a=new Map;for(let l of n.units)for(let c of l.create)if(c.kind===u.I18nMessage){if(c.messagePlaceholder===null){let{mainVar:p,statements:h}=mf(n,e,i,c);if(c.i18nBlock!==null){let m=n.addConst(p,h);a.set(c.i18nBlock,m)}else{n.constsInitializers.push(...h),o.set(c.i18nContext,p);let m=t.get(c.i18nContext);if(m!==void 0)for(let E of m)E.expression=p.clone()}}S.remove(c)}for(let l of n.units)for(let c of l.create)if(En(c)){let p=s.get(c.xref);if(p===void 0)continue;let h=r.get(c.xref);if(h===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let m=new Set;h=h.filter(w=>{let x=m.has(w.name);return m.add(w.name),!x});let E=h.flatMap(w=>{let x=o.get(w.context);if(x===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[g(w.name),x]});p.i18nAttributesConfig=n.addConst(new Et(E))}for(let l of n.units)for(let c of l.create)if(c.kind===u.I18nStart){let p=a.get(c.root);if(p===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");c.messageIndex=p}}function mf(n,e,t,s){let r=[],i=new Map;for(let c of s.subMessages){let p=t.get(c),{mainVar:h,statements:m}=mf(n,e,t,p);r.push(...m);let E=i.get(p.messagePlaceholder)??[];E.push(h),i.set(p.messagePlaceholder,E)}Ey(s,i),s.params=new Map([...s.params.entries()].sort());let o=O(n.pool.uniqueName(dy)),a=yy(n.pool,s.message.id,e,n.i18nUseExternalIds),l;if(s.needsPostprocessing||s.postprocessingParams.size>0){let c=Object.fromEntries([...s.postprocessingParams.entries()].sort()),p=Ac(c,!1),h=[];s.postprocessingParams.size>0&&h.push(Ll(p,!0)),l=m=>_(d.i18nPostprocess).callFn([m,...h])}return r.push(...wy(s.message,o,a,s.params,l)),{mainVar:o,statements:r}}function Ey(n,e){for(let[t,s]of e)s.length===1?n.params.set(t,s[0]):(n.params.set(t,g(`${Th}${fy}${t}${Th}`)),n.postprocessingParams.set(t,H(s)))}function wy(n,e,t,s,r){let i=Object.fromEntries(s),o=[gy(e),ha(Sy(),oy(e,n,t,i),cy(e,n,Ac(i,!1)))];return r&&o.push(new pt(e.set(r(e)))),o}function Sy(){return ai(O(_h)).notIdentical(g("undefined",yc)).and(O(_h))}function yy(n,e,t,s){let r,i=t;if(s){let o=kh("EXTERNAL_"),a=n.uniqueName(i);r=`${o}${hr(e)}$$${a}`}else{let o=kh(i);r=n.uniqueName(o)}return O(r)}function xy(n){for(let e of n.units){let t=null,s=null,r=new Map,i=new Map,o=new Map;for(let a of e.create)switch(a.kind){case u.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");t=a;break;case u.I18nEnd:t=null;break;case u.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");s=a;break;case u.IcuEnd:s=null;break;case u.Text:if(t!==null)if(r.set(a.xref,t),i.set(a.xref,s),a.icuPlaceholder!==null){let l=KE(n.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);S.replace(a,l),o.set(a.xref,l)}else S.remove(a);break}for(let a of e.update)switch(a.kind){case u.InterpolateText:if(!r.has(a.target))continue;let l=r.get(a.target),c=i.get(a.target),p=o.get(a.target),h=c?c.context:l.context,m=c?Wr.Postproccessing:Wr.Creation,E=[];for(let w=0;w<a.interpolation.expressions.length;w++){let x=a.interpolation.expressions[w];E.push(Xd(h,l.xref,l.xref,l.handle,x,p?.xref??null,a.interpolation.i18nPlaceholders[w]??null,m,Hs.I18nText,"",x.sourceSpan??a.sourceSpan))}S.replaceWithMany(a,E),p!==void 0&&(p.strings=a.interpolation.strings);break}}}function Cy(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case u.ElementStart:case u.ConditionalCreate:case u.ConditionalBranchCreate:case u.Template:if(!Array.isArray(t.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(t.numSlotsUsed+=t.localRefs.length,t.localRefs.length>0){let s=Ay(t.localRefs);t.localRefs=n.addConst(s)}else t.localRefs=null;break}}function Ay(n){let e=[];for(let t of n)e.push(g(t.name),g(t.target));return H(e)}function by(n){for(let e of n.units){let t=Ae.HTML;for(let s of e.create)s.kind===u.ElementStart&&s.namespace!==t&&(S.insertBefore(WE(s.namespace),s),t=s.namespace)}}function _y(n){let e=[],t=0,s=0,r=0,i=0,o=0,a=null;for(;t<n.length;)switch(n.charCodeAt(t++)){case 40:s++;break;case 41:s--;break;case 39:r===0?r=39:r===39&&n.charCodeAt(t-1)!==92&&(r=0);break;case 34:r===0?r=34:r===34&&n.charCodeAt(t-1)!==92&&(r=0);break;case 58:!a&&s===0&&r===0&&(a=gf(n.substring(o,t-1).trim()),i=t);break;case 59:if(a&&i>0&&s===0&&r===0){let c=n.substring(i,t-1).trim();e.push(a,c),o=t,i=0,a=null}break}if(a&&i){let l=n.slice(i).trim();e.push(a,l)}return e}function gf(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function Ty(n){let e=new Map;for(let t of n.units)for(let s of t.create)En(s)&&e.set(s.xref,s);for(let t of n.units)for(let s of t.create)if(s.kind===u.ExtractedAttribute&&s.bindingKind===I.Attribute&&Yd(s.expression)){let r=e.get(s.target);if(r!==void 0&&(r.kind===u.Template||r.kind===u.ConditionalCreate||r.kind===u.ConditionalBranchCreate)&&r.templateKind===Oe.Structural)continue;if(s.name==="style"){let i=_y(s.expression.value);for(let o=0;o<i.length-1;o+=2)S.insertBefore(it(s.target,I.StyleProperty,null,i[o],g(i[o+1]),null,null,Z.STYLE),s);S.remove(s)}else if(s.name==="class"){let i=s.expression.value.trim().split(/\s+/g);for(let o of i)S.insertBefore(it(s.target,I.ClassName,null,o,null,null,null,Z.NONE),s);S.remove(s)}}}function ky(n){ar(n.root,n.componentName,{index:0},n.compatibility===Je.TemplateDefinitionBuilder)}function ar(n,e,t,s){n.fnName===null&&(n.fnName=n.job.pool.uniqueName(hr(`${e}_${n.job.fnSuffix}`),!1));let r=new Map;for(let i of n.ops())switch(i.kind){case u.Property:case u.DomProperty:i.isLegacyAnimationTrigger&&(i.name="@"+i.name);break;case u.Listener:if(i.handlerFnName!==null)break;if(!i.hostListener&&i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o="";i.isLegacyAnimationListener&&(i.name=`@${i.name}.${i.legacyAnimationPhase}`,o="animation"),i.hostListener?i.handlerFnName=`${e}_${o}${i.name}_HostBindingHandler`:i.handlerFnName=`${n.fnName}_${i.tag.replace("-","_")}_${o}${i.name}_${i.targetSlot.slot}_listener`,i.handlerFnName=hr(i.handlerFnName);break;case u.TwoWayListener:if(i.handlerFnName!==null)break;if(i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");i.handlerFnName=hr(`${n.fnName}_${i.tag.replace("-","_")}_${i.name}_${i.targetSlot.slot}_listener`);break;case u.Variable:r.set(i.xref,Iy(n,i.variable,t));break;case u.RepeaterCreate:if(!(n instanceof ot))throw new Error("AssertionError: must be compiling a component");if(i.handle.slot===null)throw new Error("Expected slot to be assigned");if(i.emptyView!==null){let c=n.job.views.get(i.emptyView);ar(c,`${e}_${i.functionNameSuffix}Empty_${i.handle.slot+2}`,t,s)}ar(n.job.views.get(i.xref),`${e}_${i.functionNameSuffix}_${i.handle.slot+1}`,t,s);break;case u.Projection:if(!(n instanceof ot))throw new Error("AssertionError: must be compiling a component");if(i.handle.slot===null)throw new Error("Expected slot to be assigned");if(i.fallbackView!==null){let c=n.job.views.get(i.fallbackView);ar(c,`${e}_ProjectionFallback_${i.handle.slot}`,t,s)}break;case u.ConditionalCreate:case u.ConditionalBranchCreate:case u.Template:if(!(n instanceof ot))throw new Error("AssertionError: must be compiling a component");let a=n.job.views.get(i.xref);if(i.handle.slot===null)throw new Error("Expected slot to be assigned");let l=i.functionNameSuffix.length===0?"":`_${i.functionNameSuffix}`;ar(a,`${e}${l}_${i.handle.slot}`,t,s);break;case u.StyleProp:i.name=Ny(i.name),s&&(i.name=Ih(i.name));break;case u.ClassProp:s&&(i.name=Ih(i.name));break}for(let i of n.ops())ge(i,o=>{if(!(!(o instanceof jt)||o.name!==null)){if(!r.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=r.get(o.xref)}})}function Iy(n,e,t){if(e.name===null)switch(e.kind){case fe.Context:e.name=`ctx_r${t.index++}`;break;case fe.Identifier:if(n.job.compatibility===Je.TemplateDefinitionBuilder){let s=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${s}r${++t.index}`}else e.name=`${e.identifier}_i${t.index++}`;break;default:e.name=`_r${++t.index}`;break}return e.name}function Ny(n){return n.startsWith("--")?n:gf(n)}function Ih(n){let e=n.indexOf("!important");return e>-1?n.substring(0,e):n}function Dy(n){for(let e of n.units){for(let t of e.create)(t.kind===u.Listener||t.kind===u.TwoWayListener)&&Nh(t.handlerOps);Nh(e.update)}}function Nh(n){for(let e of n){if(e.kind!==u.Statement||!(e.statement instanceof pt)||!(e.statement.expr instanceof Oo))continue;let t=e.statement.expr.steps,s=!0;for(let r=e.next;r.kind!==u.ListEnd&&s;r=r.next)ge(r,(i,o)=>{if(!$t(i))return i;if(s&&!(o&q.InChildOperation))switch(i.kind){case k.NextContext:i.steps+=t,S.remove(e),s=!1;break;case k.GetCurrentView:case k.Reference:case k.ContextLetReference:s=!1;break}})}}var Py="ng-container";function Ly(n){for(let e of n.units){let t=new Set;for(let s of e.create)s.kind===u.ElementStart&&s.tag===Py&&(s.kind=u.ContainerStart,t.add(s.xref)),s.kind===u.ElementEnd&&t.has(s.xref)&&(s.kind=u.ContainerEnd)}}function My(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function By(n){let e=new Map;for(let t of n.units)for(let s of t.create)En(s)&&e.set(s.xref,s);for(let t of n.units)for(let s of t.create)(s.kind===u.ElementStart||s.kind===u.ContainerStart)&&s.nonBindable&&S.insertAfter(HE(s.xref),s),(s.kind===u.ElementEnd||s.kind===u.ContainerEnd)&&My(e,s.xref).nonBindable&&S.insertBefore(jE(s.xref),s)}function qt(n){return e=>e.kind===n}function mr(n,e){return t=>t.kind===n&&e===t.expression instanceof se}function Ry(n){return n.kind===u.Listener&&!(n.hostListener&&n.isLegacyAnimationListener)||n.kind===u.TwoWayListener}function $y(n){return(n.kind===u.Property||n.kind===u.TwoWayProperty)&&!(n.expression instanceof se)}var Oy=[{test:n=>n.kind===u.Listener&&n.hostListener&&n.isLegacyAnimationListener},{test:Ry}],Fy=[{test:qt(u.StyleMap),transform:ta},{test:qt(u.ClassMap),transform:ta},{test:qt(u.StyleProp)},{test:qt(u.ClassProp)},{test:mr(u.Attribute,!0)},{test:mr(u.Property,!0)},{test:$y},{test:mr(u.Attribute,!1)}],Uy=[{test:mr(u.DomProperty,!0)},{test:mr(u.DomProperty,!1)},{test:qt(u.Attribute)},{test:qt(u.StyleMap),transform:ta},{test:qt(u.ClassMap),transform:ta},{test:qt(u.StyleProp)},{test:qt(u.ClassProp)}],Dh=new Set([u.Listener,u.TwoWayListener,u.StyleMap,u.ClassMap,u.StyleProp,u.ClassProp,u.Property,u.TwoWayProperty,u.DomProperty,u.Attribute]);function qy(n){for(let e of n.units){Ph(e.create,Oy);let t=e.job.kind===C.Host?Uy:Fy;Ph(e.update,t)}}function Ph(n,e){let t=[],s=null;for(let r of n){let i=Gr(r)?r.target:null;(!Dh.has(r.kind)||i!==s&&s!==null&&i!==null)&&(S.insertBefore(Lh(t,e),r),t=[],s=null),Dh.has(r.kind)&&(t.push(r),S.remove(r),s=i??s)}n.push(Lh(t,e))}function Lh(n,e){let t=Array.from(e,()=>new Array);for(let s of n){let r=e.findIndex(i=>i.test(s));t[r].push(s)}return t.flatMap((s,r)=>{let i=e[r].transform;return i?i(s):s})}function ta(n){return n.slice(n.length-1)}function Vy(n){for(let e of n.units){let t=Bc(e);for(let s of e.ops())switch(s.kind){case u.Binding:let r=jy(t,s.target);Hy(s.name)&&r.kind===u.Projection&&S.remove(s);break}}}function Hy(n){return n.toLowerCase()==="select"}function jy(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an slottable target.");return t}function Wy(n){for(let e of n.units)Gy(e)}function Gy(n){for(let e of n.update)ge(e,(t,s)=>{if($t(t)&&t.kind===k.PipeBinding){if(s&q.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(n.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");zy(n,e.target,t)}else n.create.push(tf(t.target,t.targetSlot,t.name))}})}function zy(n,e,t){for(let s=n.create.head.next;s.kind!==u.ListEnd;s=s.next){if(!Ws(s)||s.xref!==e)continue;for(;s.next.kind===u.Pipe;)s=s.next;let r=tf(t.target,t.targetSlot,t.name);S.insertBefore(r,s.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${t.name}`)}function Xy(n){for(let e of n.units)for(let t of e.update)oe(t,s=>!(s instanceof Xn)||s.args.length<=4?s:new Yr(s.target,s.targetSlot,s.name,H(s.args),s.args.length),q.None)}function Yy(n){vf(n.root,0)}function vf(n,e){let t=null;for(let s of n.create)switch(s.kind){case u.I18nStart:s.subTemplateIndex=e===0?null:e,t=s;break;case u.I18nEnd:t.subTemplateIndex===null&&(e=0),t=null;break;case u.ConditionalCreate:case u.ConditionalBranchCreate:case u.Template:e=$a(n.job.views.get(s.xref),t,s.i18nPlaceholder,e);break;case u.RepeaterCreate:let r=n.job.views.get(s.xref);e=$a(r,t,s.i18nPlaceholder,e),s.emptyView!==null&&(e=$a(n.job.views.get(s.emptyView),t,s.emptyI18nPlaceholder,e));break}return e}function $a(n,e,t,s){if(t!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");s++,Qy(n,e)}return vf(n,s)}function Qy(n,e){if(n.create.head.next?.kind!==u.I18nStart){let t=n.job.allocateXrefId();S.insertAfter(va(t,e.message,e.root,null),n.create.head),S.insertBefore(Ea(t,null),n.create.tail)}}function Zy(n){for(let e of n.units)for(let t of e.ops())ge(t,s=>{if(!(s instanceof zn)||s.body===null)return;let r=new Kl(s.args.length);s.fn=n.pool.getSharedConstant(r,s.body),s.body=null})}var Kl=class extends vs{numArgs;constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof Bs?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,t){let s=[];for(let i=0;i<this.numArgs;i++)s.push(new me("a"+i));let r=b(t,i=>i instanceof Bs?O("a"+i.index):i,q.None);return new pe(e,new Fn(s,r),void 0,we.Final)}};function Jy(n){for(let e of n.units)for(let t of e.update)oe(t,(s,r)=>r&q.InChildOperation?s:s instanceof Et?Ky(s):s instanceof Lt?e2(s):s,q.None)}function Ky(n){let e=[],t=[];for(let s of n.entries)if(s.isConstant())e.push(s);else{let r=t.length;t.push(s),e.push(new Bs(r))}return new zn(H(e),t)}function e2(n){let e=[],t=[];for(let s of n.entries)if(s.value.isConstant())e.push(s);else{let r=t.length;t.push(s.value),e.push(new As(s.key,new Bs(r),s.quoted))}return new zn(De(e),t)}function t2(n,e,t,s,r){return yn(d.element,n,e,t,s,r)}function n2(n,e,t,s,r){return yn(d.elementStart,n,e,t,s,r)}function yn(n,e,t,s,r,i){let o=[g(e)];return t!==null&&o.push(g(t)),r!==null?o.push(g(s),g(r)):s!==null&&o.push(g(s)),B(n,o,i)}function Ef(n,e,t,s,r,i,o,a,l){let c=[g(e),t,g(s),g(r),g(i),g(o)];for(a!==null&&(c.push(g(a)),c.push(_(d.templateRefExtractor)));c[c.length-1].isEquivalent(bs);)c.pop();return B(n,c,l)}function wf(n,e,t,s,r){let i=[g(e)];return t instanceof se?i.push(pi(t,r)):i.push(t),s!==null&&i.push(s),B(n,i,r)}function s2(n){return B(d.elementEnd,[],n)}function r2(n,e,t,s){return yn(d.elementContainerStart,n,null,e,t,s)}function i2(n,e,t,s){return yn(d.elementContainer,n,null,e,t,s)}function o2(){return B(d.elementContainerEnd,[],null)}function a2(n,e,t,s,r,i,o,a){return Ef(d.templateCreate,n,e,t,s,r,i,o,a)}function l2(){return B(d.disableBindings,[],null)}function c2(){return B(d.enableBindings,[],null)}function u2(n,e,t,s,r){let i=[g(n),e];return t!==null&&i.push(_(t)),B(s?d.syntheticHostListener:d.listener,i,r)}function Mh(n,e){return _(d.twoWayBindingSet).callFn([n,e])}function p2(n,e,t){return B(d.twoWayListener,[g(n),e],t)}function h2(n,e){return B(d.pipe,[g(n),g(e)],null)}function d2(){return B(d.namespaceHTML,[],null)}function f2(){return B(d.namespaceSVG,[],null)}function m2(){return B(d.namespaceMathML,[],null)}function g2(n,e){return B(d.advance,n>1?[g(n)]:[],e)}function v2(n){return _(d.reference).callFn([g(n)])}function E2(n){return _(d.nextContext).callFn(n===1?[]:[g(n)])}function w2(){return _(d.getCurrentView).callFn([])}function S2(n){return _(d.restoreView).callFn([n])}function y2(n){return _(d.resetView).callFn([n])}function x2(n,e,t){let s=[g(n,null)];return e!==""&&s.push(g(e)),B(d.text,s,t)}function C2(n,e,t,s,r,i,o,a,l,c,p){let h=[g(n),g(e),t??g(null),g(s),g(r),g(i),o??g(null),a??g(null),l?_(d.deferEnableTimerScheduling):g(null),g(p)],m;for(;(m=h[h.length-1])!==null&&m instanceof ye&&m.value===null;)h.pop();return B(d.defer,h,c)}var A2=new Map([[z.Idle,{none:d.deferOnIdle,prefetch:d.deferPrefetchOnIdle,hydrate:d.deferHydrateOnIdle}],[z.Immediate,{none:d.deferOnImmediate,prefetch:d.deferPrefetchOnImmediate,hydrate:d.deferHydrateOnImmediate}],[z.Timer,{none:d.deferOnTimer,prefetch:d.deferPrefetchOnTimer,hydrate:d.deferHydrateOnTimer}],[z.Hover,{none:d.deferOnHover,prefetch:d.deferPrefetchOnHover,hydrate:d.deferHydrateOnHover}],[z.Interaction,{none:d.deferOnInteraction,prefetch:d.deferPrefetchOnInteraction,hydrate:d.deferHydrateOnInteraction}],[z.Viewport,{none:d.deferOnViewport,prefetch:d.deferPrefetchOnViewport,hydrate:d.deferHydrateOnViewport}],[z.Never,{none:d.deferHydrateNever,prefetch:d.deferHydrateNever,hydrate:d.deferHydrateNever}]]);function b2(n,e,t,s){let r=A2.get(n)?.[t];if(r===void 0)throw new Error(`Unable to determine instruction for trigger ${n}`);return B(r,e.map(i=>g(i)),s)}function _2(n){return B(d.projectionDef,n?[n]:[],null)}function T2(n,e,t,s,r,i,o){let a=[g(n)];return(e!==0||t!==null||s!==null)&&(a.push(g(e)),t!==null&&a.push(t),s!==null&&(t===null&&a.push(g(null)),a.push(O(s),g(r),g(i)))),B(d.projection,a,o)}function k2(n,e,t,s){let r=[g(n),g(e)];return t!==null&&r.push(g(t)),B(d.i18nStart,r,s)}function I2(n,e,t,s,r,i,o,a){let l=[g(n),e,g(t),g(s),g(r),g(i)];for(o!==null&&(l.push(g(o)),l.push(_(d.templateRefExtractor)));l[l.length-1].isEquivalent(bs);)l.pop();return B(d.conditionalCreate,l,a)}function N2(n,e,t,s,r,i,o,a){let l=[g(n),e,g(t),g(s),g(r),g(i)];for(o!==null&&(l.push(g(o)),l.push(_(d.templateRefExtractor)));l[l.length-1].isEquivalent(bs);)l.pop();return B(d.conditionalBranchCreate,l,a)}function D2(n,e,t,s,r,i,o,a,l,c,p,h,m,E){let w=[g(n),O(e),g(t),g(s),g(r),g(i),o];return(a||l!==null)&&(w.push(g(a)),l!==null&&(w.push(O(l),g(c),g(p)),(h!==null||m!==null)&&w.push(g(h)),m!==null&&w.push(g(m)))),B(d.repeaterCreate,w,E)}function P2(n,e){return B(d.repeater,[n],e)}function L2(n,e,t){return n==="prefetch"?B(d.deferPrefetchWhen,[e],t):n==="hydrate"?B(d.deferHydrateWhen,[e],t):B(d.deferWhen,[e],t)}function M2(n,e){return B(d.declareLet,[g(n)],e)}function B2(n,e){return _(d.storeLet).callFn([n],e)}function R2(n){return _(d.readContextLet).callFn([g(n)])}function $2(n,e,t,s){let r=[g(n),g(e)];return t&&r.push(g(t)),B(d.i18n,r,s)}function O2(n){return B(d.i18nEnd,[],n)}function F2(n,e){let t=[g(n),g(e)];return B(d.i18nAttributes,t,null)}function U2(n,e,t,s){return wf(d.property,n,e,t,s)}function q2(n,e,t,s){let r=[g(n),e];return t!==null&&r.push(t),B(d.twoWayProperty,r,s)}function V2(n,e,t,s,r){let i=[g(n)];return e instanceof se?i.push(pi(e,r)):i.push(e),(t!==null||s!==null)&&i.push(t??g(null)),s!==null&&i.push(g(s)),B(d.attribute,i,null)}function H2(n,e,t,s){let r=[g(n)];return e instanceof se?r.push(pi(e,s)):r.push(e),t!==null&&r.push(g(t)),B(d.styleProp,r,s)}function j2(n,e,t){return B(d.classProp,[g(n),e],t)}function W2(n,e){let t=n instanceof se?pi(n,e):n;return B(d.styleMap,[t],e)}function G2(n,e){let t=n instanceof se?pi(n,e):n;return B(d.classMap,[t],e)}function z2(n,e,t,s,r){return yn(d.domElement,n,e,t,s,r)}function X2(n,e,t,s,r){return yn(d.domElementStart,n,e,t,s,r)}function Y2(n){return B(d.domElementEnd,[],n)}function Q2(n,e,t,s){return yn(d.domElementContainerStart,n,null,e,t,s)}function Z2(n,e,t,s){return yn(d.domElementContainer,n,null,e,t,s)}function J2(){return B(d.domElementContainerEnd,[],null)}function K2(n,e,t,s){let r=[g(n),e];return t!==null&&r.push(_(t)),B(d.domListener,r,s)}function ex(n,e,t,s,r,i,o,a){return Ef(d.domTemplate,n,e,t,s,r,i,o,a)}var Bh=[d.pipeBind1,d.pipeBind2,d.pipeBind3,d.pipeBind4];function tx(n,e,t){if(t.length<1||t.length>Bh.length)throw new Error("pipeBind() argument count out of bounds");let s=Bh[t.length-1];return _(s).callFn([g(n),g(e),...t])}function nx(n,e,t){return _(d.pipeBindV).callFn([g(n),g(e),t])}function sx(n,e,t){let s=Sf(n,e);return dx(ux,[],s,[],t)}function rx(n,e){return B(d.i18nExp,[n],e)}function ix(n,e){return B(d.i18nApply,[g(n)],e)}function Rh(n,e,t,s){return wf(d.domProperty,n,e,t,s)}function ox(n,e,t){return B(d.syntheticHostProperty,[g(n),e],t)}function ax(n,e,t){return Rc(hx,[g(n),e],t,[],null)}function lx(n,e){return B(d.attachSourceLocations,[g(n),e],null)}function Sf(n,e){if(n.length<1||e.length!==n.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let t=[];if(e.length===1&&n[0]===""&&n[1]==="")t.push(e[0]);else{let s;for(s=0;s<e.length;s++)t.push(g(n[s]),e[s]);t.push(g(n[s]))}return t}function pi(n,e){let t=Sf(n.strings,n.expressions);return Rc(px,[],t,[],e)}function B(n,e,t){let s=_(n).callFn(e,t);return yt(new pt(s,t))}function cx(n,e,t){let s=[n];return e!==null&&s.push(e),B(d.conditional,s,t)}var ux={constant:[d.textInterpolate,d.textInterpolate1,d.textInterpolate2,d.textInterpolate3,d.textInterpolate4,d.textInterpolate5,d.textInterpolate6,d.textInterpolate7,d.textInterpolate8],variable:d.textInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},px={constant:[d.interpolate,d.interpolate1,d.interpolate2,d.interpolate3,d.interpolate4,d.interpolate5,d.interpolate6,d.interpolate7,d.interpolate8],variable:d.interpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},hx={constant:[d.pureFunction0,d.pureFunction1,d.pureFunction2,d.pureFunction3,d.pureFunction4,d.pureFunction5,d.pureFunction6,d.pureFunction7,d.pureFunction8],variable:d.pureFunctionV,mapping:n=>n};function Rc(n,e,t,s,r){let i=n.mapping(t.length),o=t.at(-1);if(s.length===0&&t.length>1&&o instanceof ye&&o.value===""&&t.pop(),i<n.constant.length)return _(n.constant[i]).callFn([...e,...t,...s],r);if(n.variable!==null)return _(n.variable).callFn([...e,H(t),...s],r);throw new Error("AssertionError: unable to call variadic function")}function dx(n,e,t,s,r){return yt(Rc(n,e,t,s,r).toStmt())}var fx=new Map([["window",d.resolveWindow],["document",d.resolveDocument],["body",d.resolveBody]]),$h=new Map([["class","className"],["for","htmlFor"],["formaction","formAction"],["innerHtml","innerHTML"],["readonly","readOnly"],["tabindex","tabIndex"]]);function mx(n){for(let e of n.units)gx(e,e.create),$c(e,e.update)}function gx(n,e){for(let t of e)switch(oe(t,yf,q.None),t.kind){case u.Text:S.replace(t,x2(t.handle.slot,t.initialValue,t.sourceSpan));break;case u.ElementStart:S.replace(t,n.job.mode===Ve.DomOnly?X2(t.handle.slot,t.tag,t.attributes,t.localRefs,t.startSourceSpan):n2(t.handle.slot,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case u.Element:S.replace(t,n.job.mode===Ve.DomOnly?z2(t.handle.slot,t.tag,t.attributes,t.localRefs,t.wholeSourceSpan):t2(t.handle.slot,t.tag,t.attributes,t.localRefs,t.wholeSourceSpan));break;case u.ElementEnd:S.replace(t,n.job.mode===Ve.DomOnly?Y2(t.sourceSpan):s2(t.sourceSpan));break;case u.ContainerStart:S.replace(t,n.job.mode===Ve.DomOnly?Q2(t.handle.slot,t.attributes,t.localRefs,t.startSourceSpan):r2(t.handle.slot,t.attributes,t.localRefs,t.startSourceSpan));break;case u.Container:S.replace(t,n.job.mode===Ve.DomOnly?Z2(t.handle.slot,t.attributes,t.localRefs,t.wholeSourceSpan):i2(t.handle.slot,t.attributes,t.localRefs,t.wholeSourceSpan));break;case u.ContainerEnd:S.replace(t,n.job.mode===Ve.DomOnly?J2():o2());break;case u.I18nStart:S.replace(t,k2(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case u.I18nEnd:S.replace(t,O2(t.sourceSpan));break;case u.I18n:S.replace(t,$2(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case u.I18nAttributes:if(t.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");S.replace(t,F2(t.handle.slot,t.i18nAttributesConfig));break;case u.Template:if(!(n instanceof ot))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let s=n.job.views.get(t.xref);S.replace(t,t.templateKind===Oe.Block||n.job.mode===Ve.DomOnly?ex(t.handle.slot,O(s.fnName),s.decls,s.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan):a2(t.handle.slot,O(s.fnName),s.decls,s.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case u.DisableBindings:S.replace(t,l2());break;case u.EnableBindings:S.replace(t,c2());break;case u.Pipe:S.replace(t,h2(t.handle.slot,t.name));break;case u.DeclareLet:S.replace(t,M2(t.handle.slot,t.sourceSpan));break;case u.Listener:let r=Oh(n,t.handlerFnName,t.handlerOps,t.consumesDollarEvent),i=t.eventTarget?fx.get(t.eventTarget):null;if(i===void 0)throw new Error(`Unexpected global target '${t.eventTarget}' defined for '${t.name}' event. Supported list of global targets: window,document,body.`);S.replace(t,n.job.mode===Ve.DomOnly&&!t.hostListener&&!t.isLegacyAnimationListener?K2(t.name,r,i,t.sourceSpan):u2(t.name,r,i,t.hostListener&&t.isLegacyAnimationListener,t.sourceSpan));break;case u.TwoWayListener:S.replace(t,p2(t.name,Oh(n,t.handlerFnName,t.handlerOps,!0),t.sourceSpan));break;case u.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);S.replace(t,yt(new pe(t.variable.name,t.initializer,void 0,we.Final)));break;case u.Namespace:switch(t.active){case Ae.HTML:S.replace(t,d2());break;case Ae.SVG:S.replace(t,f2());break;case Ae.Math:S.replace(t,m2());break}break;case u.Defer:let o=!!t.loadingMinimumTime||!!t.loadingAfterTime||!!t.placeholderMinimumTime;S.replace(t,C2(t.handle.slot,t.mainSlot.slot,t.resolverFn,t.loadingSlot?.slot??null,t.placeholderSlot?.slot??null,t.errorSlot?.slot??null,t.loadingConfig,t.placeholderConfig,o,t.sourceSpan,t.flags));break;case u.DeferOn:let a=[];switch(t.trigger.kind){case z.Never:case z.Idle:case z.Immediate:break;case z.Timer:a=[t.trigger.delay];break;case z.Interaction:case z.Hover:case z.Viewport:t.modifier==="hydrate"?a=[]:(a=[t.trigger.targetSlot?.slot??null],t.trigger.targetSlotViewSteps!==0&&a.push(t.trigger.targetSlotViewSteps));break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${t.trigger.kind}`)}S.replace(t,b2(t.trigger.kind,a,t.modifier,t.sourceSpan));break;case u.ProjectionDef:S.replace(t,_2(t.def));break;case u.Projection:if(t.handle.slot===null)throw new Error("No slot was assigned for project instruction");let l=null,c=null,p=null;if(t.fallbackView!==null){if(!(n instanceof ot))throw new Error("AssertionError: must be compiling a component");let N=n.job.views.get(t.fallbackView);if(N===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(N.fnName===null||N.decls===null||N.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");l=N.fnName,c=N.decls,p=N.vars}S.replace(t,T2(t.handle.slot,t.projectionSlotIndex,t.attributes,l,c,p,t.sourceSpan));break;case u.ConditionalCreate:if(!(n instanceof ot))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let h=n.job.views.get(t.xref);S.replace(t,I2(t.handle.slot,O(h.fnName),h.decls,h.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case u.ConditionalBranchCreate:if(!(n instanceof ot))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let m=n.job.views.get(t.xref);S.replace(t,N2(t.handle.slot,O(m.fnName),m.decls,m.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case u.RepeaterCreate:if(t.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(n instanceof ot))throw new Error("AssertionError: must be compiling a component");let E=n.job.views.get(t.xref);if(E.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let w=null,x=null,T=null;if(t.emptyView!==null){let N=n.job.views.get(t.emptyView);if(N===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(N.fnName===null||N.decls===null||N.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");w=N.fnName,x=N.decls,T=N.vars}S.replace(t,D2(t.handle.slot,E.fnName,t.decls,t.vars,t.tag,t.attributes,vx(n,t),t.usesComponentInstance,w,x,T,t.emptyTag,t.emptyAttributes,t.wholeSourceSpan));break;case u.SourceLocation:let A=H(t.locations.map(({targetSlot:N,offset:Y,line:K,column:ae})=>{if(N.slot===null)throw new Error("No slot was assigned for source location");return H([g(N.slot),g(Y),g(K),g(ae)])}));S.replace(t,lx(t.templatePath,A));break;case u.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${u[t.kind]}`)}}function $c(n,e){for(let t of e)switch(oe(t,yf,q.None),t.kind){case u.Advance:S.replace(t,g2(t.delta,t.sourceSpan));break;case u.Property:S.replace(t,n.job.mode===Ve.DomOnly&&!t.isLegacyAnimationTrigger?Rh($h.get(t.name)??t.name,t.expression,t.sanitizer,t.sourceSpan):U2(t.name,t.expression,t.sanitizer,t.sourceSpan));break;case u.TwoWayProperty:S.replace(t,q2(t.name,t.expression,t.sanitizer,t.sourceSpan));break;case u.StyleProp:S.replace(t,H2(t.name,t.expression,t.unit,t.sourceSpan));break;case u.ClassProp:S.replace(t,j2(t.name,t.expression,t.sourceSpan));break;case u.StyleMap:S.replace(t,W2(t.expression,t.sourceSpan));break;case u.ClassMap:S.replace(t,G2(t.expression,t.sourceSpan));break;case u.I18nExpression:S.replace(t,rx(t.expression,t.sourceSpan));break;case u.I18nApply:S.replace(t,ix(t.handle.slot,t.sourceSpan));break;case u.InterpolateText:S.replace(t,sx(t.interpolation.strings,t.interpolation.expressions,t.sourceSpan));break;case u.Attribute:S.replace(t,V2(t.name,t.expression,t.sanitizer,t.namespace,t.sourceSpan));break;case u.DomProperty:if(t.expression instanceof se)throw new Error("not yet handled");t.isLegacyAnimationTrigger?S.replace(t,ox(t.name,t.expression,t.sourceSpan)):S.replace(t,Rh($h.get(t.name)??t.name,t.expression,t.sanitizer,t.sourceSpan));break;case u.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);S.replace(t,yt(new pe(t.variable.name,t.initializer,void 0,we.Final)));break;case u.Conditional:if(t.processed===null)throw new Error("Conditional test was not set.");S.replace(t,cx(t.processed,t.contextValue,t.sourceSpan));break;case u.Repeater:S.replace(t,P2(t.collection,t.sourceSpan));break;case u.DeferWhen:S.replace(t,L2(t.modifier,t.expr,t.sourceSpan));break;case u.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${t.declaredName}`);case u.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${u[t.kind]}`)}}function yf(n){if(!$t(n))return n;switch(n.kind){case k.NextContext:return E2(n.steps);case k.Reference:return v2(n.targetSlot.slot+1+n.offset);case k.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${n.name}`);case k.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case k.RestoreView:if(typeof n.view=="number")throw new Error("AssertionError: unresolved RestoreView");return S2(n.view);case k.ResetView:return y2(n.expr);case k.GetCurrentView:return w2();case k.ReadVariable:if(n.name===null)throw new Error(`Read of unnamed variable ${n.xref}`);return O(n.name);case k.ReadTemporaryExpr:if(n.name===null)throw new Error(`Read of unnamed temporary ${n.xref}`);return O(n.name);case k.AssignTemporaryExpr:if(n.name===null)throw new Error(`Assign of unnamed temporary ${n.xref}`);return O(n.name).set(n.expr);case k.PureFunctionExpr:if(n.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return ax(n.varOffset,n.fn,n.args);case k.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case k.PipeBinding:return tx(n.targetSlot.slot,n.varOffset,n.args);case k.PipeBindingVariadic:return nx(n.targetSlot.slot,n.varOffset,n.args);case k.SlotLiteralExpr:return g(n.slot.slot);case k.ContextLetReference:return R2(n.targetSlot.slot);case k.StoreLet:return B2(n.value,n.sourceSpan);case k.TrackContext:return O("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${k[n.kind]}`)}}function Oh(n,e,t,s){$c(n,t);let r=[];for(let o of t){if(o.kind!==u.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${u[o.kind]}`);r.push(o.statement)}let i=[];return s&&i.push(new me("$event")),pn(i,r,void 0,void 0,e)}function vx(n,e){if(e.trackByFn!==null)return e.trackByFn;let t=[new me("$index"),new me("$item")],s;if(e.trackByOps===null)s=e.usesComponentInstance?pn(t,[new be(e.track)]):wt(t,e.track);else{$c(n,e.trackByOps);let r=[];for(let i of e.trackByOps){if(i.kind!==u.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${u[i.kind]}`);r.push(i.statement)}s=e.usesComponentInstance||r.length!==1||!(r[0]instanceof be)?pn(t,r):wt(t,r[0].value)}return e.trackByFn=n.job.pool.getSharedFunctionReference(s,"_forTrack"),e.trackByFn}function Ex(n){for(let e of n.units)for(let t of e.update)switch(t.kind){case u.Attribute:case u.Binding:case u.ClassProp:case u.ClassMap:case u.Property:case u.StyleProp:case u.StyleMap:t.expression instanceof Qr&&S.remove(t);break}}function wx(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case u.I18nContext:S.remove(t);break;case u.I18nStart:t.context=null;break}}function Sx(n){for(let e of n.units)for(let t of e.update){if(t.kind!==u.Variable||t.variable.kind!==fe.Identifier||!(t.initializer instanceof zr))continue;let s=t.variable.identifier,r=t;for(;r&&r.kind!==u.ListEnd;)oe(r,i=>i instanceof ve&&i.name===s?g(void 0):i,q.None),r=r.prev}}function yx(n){for(let e of n.units){let t=new Set;for(let s of e.update)switch(s.kind){case u.I18nExpression:t.add(s.i18nOwner)}for(let s of e.create)switch(s.kind){case u.I18nAttributes:if(t.has(s.xref))continue;S.remove(s)}}}function xx(n){for(let e of n.units)na(e,e.create),na(e,e.update)}function na(n,e){let t=new Map;t.set(n.xref,O("ctx"));for(let s of e)switch(s.kind){case u.Variable:switch(s.variable.kind){case fe.Context:t.set(s.variable.view,new jt(s.xref));break}break;case u.Listener:case u.TwoWayListener:na(n,s.handlerOps);break;case u.RepeaterCreate:s.trackByOps!==null&&na(n,s.trackByOps);break}n===n.job.root&&t.set(n.xref,O("ctx"));for(let s of e)oe(s,r=>{if(r instanceof gn){if(!t.has(r.view))throw new Error(`No context found for reference to view ${r.view} from view ${n.xref}`);return t.get(r.view)}else return r},q.None)}function Cx(n){for(let e of n.units)for(let t of e.create)if(t.kind===u.Defer){if(t.resolverFn!==null)continue;if(t.ownResolverFn!==null){if(t.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let s=e.fnName?.replace("_Template","");t.resolverFn=n.pool.getSharedFunctionReference(t.ownResolverFn,`${s}_Defer_${t.handle.slot}_DepsFn`,!1)}}}function Ax(n){for(let e of n.units)Fh(e.create),Fh(e.update)}function Fh(n){for(let e of n)(e.kind===u.Listener||e.kind===u.TwoWayListener)&&oe(e,t=>t instanceof ve&&t.name==="$event"?(e.kind===u.Listener&&(e.consumesDollarEvent=!0),new ut(t.name)):t,q.InChildOperation)}function bx(n){let e=new Map,t=new Map;for(let s of n.units)for(let r of s.create)switch(r.kind){case u.I18nContext:e.set(r.xref,r);break;case u.ElementStart:t.set(r.xref,r);break}tn(n,n.root,e,t)}function tn(n,e,t,s,r){let i=null,o=new Map;for(let a of e.create)switch(a.kind){case u.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");i={i18nBlock:a,i18nContext:t.get(a.context)};break;case u.I18nEnd:i=null;break;case u.ElementStart:if(a.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Uh(a,i.i18nContext,i.i18nBlock,r),r&&a.i18nPlaceholder.closeName&&o.set(a.xref,r),r=void 0}break;case u.ElementEnd:let l=s.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(i===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");qh(l,i.i18nContext,i.i18nBlock,o.get(a.xref)),o.delete(a.xref)}break;case u.Projection:if(a.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Uh(a,i.i18nContext,i.i18nBlock,r),qh(a,i.i18nContext,i.i18nBlock,r),r=void 0}break;case u.ConditionalCreate:case u.ConditionalBranchCreate:case u.Template:let c=n.views.get(a.xref);if(a.i18nPlaceholder===void 0)tn(n,c,t,s);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===Oe.Structural?tn(n,c,t,s,a):(Oa(n,c,a.handle.slot,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),tn(n,c,t,s),Fa(n,c,a.handle.slot,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),r=void 0)}break;case u.RepeaterCreate:if(r!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let p=a.handle.slot+1,h=n.views.get(a.xref);if(a.i18nPlaceholder===void 0)tn(n,h,t,s);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Oa(n,h,p,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),tn(n,h,t,s),Fa(n,h,p,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),r=void 0}if(a.emptyView!==null){let m=a.handle.slot+2,E=n.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)tn(n,E,t,s);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Oa(n,E,m,a.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,r),tn(n,E,t,s),Fa(n,E,m,a.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,r),r=void 0}}break}}function Uh(n,e,t,s){let{startName:r,closeName:i}=n.i18nPlaceholder,o=Q.ElementTag|Q.OpenTag,a=n.handle.slot;s!==void 0&&(o|=Q.TemplateTag,a={element:a,template:s.handle.slot}),i||(o|=Q.CloseTag),qs(e.params,r,a,t.subTemplateIndex,o)}function qh(n,e,t,s){let{closeName:r}=n.i18nPlaceholder;if(r){let i=Q.ElementTag|Q.CloseTag,o=n.handle.slot;s!==void 0&&(i|=Q.TemplateTag,o={element:o,template:s.handle.slot}),qs(e.params,r,o,t.subTemplateIndex,i)}}function Oa(n,e,t,s,r,i,o){let{startName:a,closeName:l}=s,c=Q.TemplateTag|Q.OpenTag;l||(c|=Q.CloseTag),o!==void 0&&qs(r.params,a,o.handle.slot,i.subTemplateIndex,c),qs(r.params,a,t,xf(n,i,e),c)}function Fa(n,e,t,s,r,i,o){let{closeName:a}=s,l=Q.TemplateTag|Q.CloseTag;a&&(qs(r.params,a,t,xf(n,i,e),l),o!==void 0&&qs(r.params,a,o.handle.slot,i.subTemplateIndex,l))}function xf(n,e,t){for(let s of t.create)if(s.kind===u.I18nStart)return s.subTemplateIndex;return e.subTemplateIndex}function qs(n,e,t,s,r){let i=n.get(e)??[];i.push({value:t,subTemplateIndex:s,flags:r}),n.set(e,i)}function _x(n){let e=new Map,t=new Map,s=new Map;for(let o of n.units)for(let a of o.create)switch(a.kind){case u.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case u.I18nContext:t.set(a.xref,a);break;case u.IcuPlaceholder:s.set(a.xref,a);break}let r=new Map,i=o=>o.usage===Hs.I18nText?o.i18nOwner:o.context;for(let o of n.units)for(let a of o.update)if(a.kind===u.I18nExpression){let l=r.get(i(a))||0,c=e.get(a.i18nOwner)??null,p={value:l,subTemplateIndex:c,flags:Q.ExpressionIndex};Tx(a,p,t,s),r.set(i(a),l+1)}}function Tx(n,e,t,s){if(n.i18nPlaceholder!==null){let r=t.get(n.context),i=n.resolutionTime===Wr.Creation?r.params:r.postprocessingParams,o=i.get(n.i18nPlaceholder)||[];o.push(e),i.set(n.i18nPlaceholder,o)}n.icuPlaceholder!==null&&s.get(n.icuPlaceholder)?.expressionPlaceholders.push(e)}function kx(n){for(let e of n.units)sa(e,e.create,null),sa(e,e.update,null)}function sa(n,e,t){let s=new Map,r=new Map;for(let i of e)switch(i.kind){case u.Variable:switch(i.variable.kind){case fe.Identifier:if(i.variable.local){if(r.has(i.variable.identifier))continue;r.set(i.variable.identifier,i.xref)}else if(s.has(i.variable.identifier))continue;s.set(i.variable.identifier,i.xref);break;case fe.Alias:if(s.has(i.variable.identifier))continue;s.set(i.variable.identifier,i.xref);break;case fe.SavedView:t={view:i.variable.view,variable:i.xref};break}break;case u.Listener:case u.TwoWayListener:sa(n,i.handlerOps,t);break;case u.RepeaterCreate:i.trackByOps!==null&&sa(n,i.trackByOps,t);break}for(let i of e)i.kind==u.Listener||i.kind===u.TwoWayListener||oe(i,o=>{if(o instanceof ve)return r.has(o.name)?new jt(r.get(o.name)):s.has(o.name)?new jt(s.get(o.name)):new Ze(new gn(n.job.root.xref),o.name);if(o instanceof Fo&&typeof o.view=="number"){if(t===null||t.view!==o.view)throw new Error(`AssertionError: no saved view ${o.view} from view ${n.xref}`);return o.view=new jt(t.variable),o}else return o},q.None);for(let i of e)ge(i,o=>{if(o instanceof ve)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${o.name}`)})}var Ix=new Map([[Z.HTML,d.sanitizeHtml],[Z.RESOURCE_URL,d.sanitizeResourceUrl],[Z.SCRIPT,d.sanitizeScript],[Z.STYLE,d.sanitizeStyle],[Z.URL,d.sanitizeUrl]]),Nx=new Map([[Z.HTML,d.trustConstantHtml],[Z.RESOURCE_URL,d.trustConstantResourceUrl]]);function Dx(n){for(let e of n.units){let t=Bc(e);if(n.kind!==C.Host){for(let s of e.create)if(s.kind===u.ExtractedAttribute){let r=Nx.get(Vh(s.securityContext))??null;s.trustedValueFn=r!==null?_(r):null}}for(let s of e.update)switch(s.kind){case u.Property:case u.Attribute:case u.DomProperty:let r=null;if(Array.isArray(s.securityContext)&&s.securityContext.length===2&&s.securityContext.indexOf(Z.URL)>-1&&s.securityContext.indexOf(Z.RESOURCE_URL)>-1?r=d.sanitizeUrlOrResourceUrl:r=Ix.get(Vh(s.securityContext))??null,s.sanitizer=r!==null?_(r):null,s.sanitizer===null){let i=!1;if(n.kind===C.Host||s.kind===u.DomProperty)i=!0;else{let o=t.get(s.target);if(o===void 0||!En(o))throw Error("Property should have an element-like owner");i=Px(o)}i&&OS(s.name)&&(s.sanitizer=_(d.validateIframeAttribute))}break}}}function Px(n){return n.kind===u.ElementStart&&n.tag?.toLowerCase()==="iframe"}function Vh(n){if(Array.isArray(n)){if(n.length>1)throw Error("AssertionError: Ambiguous security context");return n[0]||Z.NONE}return n}function Lx(n){for(let e of n.units){e.create.prepend([on(e.job.allocateXrefId(),{kind:fe.SavedView,name:null,view:e.xref},new kl,rt.None)]);for(let t of e.create){if(t.kind!==u.Listener&&t.kind!==u.TwoWayListener)continue;let s=e!==n.root;if(!s)for(let r of t.handlerOps)ge(r,i=>{(i instanceof $o||i instanceof Xr)&&(s=!0)});s&&Mx(e,t)}}}function Mx(n,e){e.handlerOps.prepend([on(n.job.allocateXrefId(),{kind:fe.Context,name:null,view:n.xref},new Fo(n.xref),rt.None)]);for(let t of e.handlerOps)t.kind===u.Statement&&t.statement instanceof be&&(t.statement.value=new Il(t.statement.value))}function Bx(n){let e=new Map;for(let t of n.units){let s=0;for(let r of t.create)Ws(r)&&(r.handle.slot=s,e.set(r.xref,r.handle.slot),s+=r.numSlotsUsed);t.decls=s}for(let t of n.units)for(let s of t.ops())if(s.kind===u.Template||s.kind===u.ConditionalCreate||s.kind===u.ConditionalBranchCreate||s.kind===u.RepeaterCreate){let r=n.views.get(s.xref);s.decls=r.decls}}function Rx(n){let e=new Set,t=new Map;for(let s of n.units)for(let r of s.ops())r.kind===u.DeclareLet&&t.set(r.xref,r),ge(r,i=>{i instanceof Xr&&e.add(i.target)});for(let s of n.units)for(let r of s.update)oe(r,i=>i instanceof zr&&!e.has(i.target)?($x(i)||S.remove(t.get(i.target)),i.value):i,q.None)}function $x(n){let e=!1;return b(n,t=>((t instanceof Xn||t instanceof Yr)&&(e=!0),t),q.None),e}function Ox(n){let e=new Set;for(let t of n.units)for(let s of t.ops())ge(s,r=>{if(r instanceof U)switch(r.operator){case y.Exponentiation:Fx(r,e);break;case y.NullishCoalesce:Ux(r,e);break}});for(let t of n.units)for(let s of t.ops())oe(s,r=>r instanceof Pt?e.has(r)?r:r.expr:r,q.None)}function Fx(n,e){n.lhs instanceof Pt&&n.lhs.expr instanceof Un&&e.add(n.lhs)}function Ux(n,e){n.lhs instanceof Pt&&(Hh(n.lhs.expr)||n.lhs.expr instanceof Dt)&&e.add(n.lhs),n.rhs instanceof Pt&&(Hh(n.rhs.expr)||n.rhs.expr instanceof Dt)&&e.add(n.rhs)}function Hh(n){return n instanceof U&&(n.operator===y.And||n.operator===y.Or)}function qx(n){for(let e of n.units)for(let t of e.update)if(t.kind===u.Binding)switch(t.bindingKind){case I.ClassName:if(t.expression instanceof se)throw new Error("Unexpected interpolation in ClassName binding");S.replace(t,NE(t.target,t.name,t.expression,t.sourceSpan));break;case I.StyleProperty:S.replace(t,IE(t.target,t.name,t.expression,t.unit,t.sourceSpan));break;case I.Property:case I.Template:t.name==="style"?S.replace(t,DE(t.target,t.expression,t.sourceSpan)):t.name==="class"&&S.replace(t,PE(t.target,t.expression,t.sourceSpan));break}}function Vx(n){for(let e of n.units)e.create.prepend(ra(e.create)),e.update.prepend(ra(e.update))}function ra(n){let e=0,t=[];for(let s of n){let r=new Map;ge(s,(c,p)=>{p&q.InChildOperation||c instanceof vn&&r.set(c.xref,c)});let i=0,o=new Set,a=new Set,l=new Map;ge(s,(c,p)=>{p&q.InChildOperation||(c instanceof Ot?(o.has(c.xref)||(o.add(c.xref),l.set(c.xref,`tmp_${e}_${i++}`)),jh(l,c)):c instanceof vn&&(r.get(c.xref)===c&&(a.add(c.xref),i--),jh(l,c)))}),t.push(...Array.from(new Set(l.values())).map(c=>yt(new pe(c)))),e++,s.kind===u.Listener||s.kind===u.TwoWayListener?s.handlerOps.prepend(ra(s.handlerOps)):s.kind===u.RepeaterCreate&&s.trackByOps!==null&&s.trackByOps.prepend(ra(s.trackByOps))}return t}function jh(n,e){let t=n.get(e.xref);if(t===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=t}function Hx(n){for(let e of n.units)for(let t of e.create)if(t.kind===u.RepeaterCreate)if(t.track instanceof ut&&t.track.name==="$index")t.trackByFn=_(d.repeaterTrackByIndex);else if(t.track instanceof ut&&t.track.name==="$item")t.trackByFn=_(d.repeaterTrackByIdentity);else if(jx(n.root.xref,t.track))t.usesComponentInstance=!0,t.track.receiver.receiver.view===e.xref?t.trackByFn=t.track.receiver:(t.trackByFn=_(d.componentInstance).callFn([]).prop(t.track.receiver.name),t.track=t.trackByFn);else{t.track=b(t.track,r=>{if(r instanceof Xn||r instanceof Yr)throw new Error("Illegal State: Pipes are not allowed in this context");return r instanceof gn?(t.usesComponentInstance=!0,new Tl(r.view)):r},q.None);let s=new S;s.push(yt(new be(t.track,t.track.sourceSpan))),t.trackByOps=s}}function jx(n,e){if(!(e instanceof Fe)||e.args.length===0||e.args.length>2||!(e.receiver instanceof Ze&&e.receiver.receiver instanceof gn)||e.receiver.receiver.view!==n)return!1;let[t,s]=e.args;return!(t instanceof ut)||t.name!=="$index"?!1:e.args.length===1?!0:!(!(s instanceof ut)||s.name!=="$item")}function Wx(n){for(let e of n.units)for(let t of e.create)t.kind===u.RepeaterCreate&&(t.track=b(t.track,s=>{if(s instanceof ve){if(t.varNames.$index.has(s.name))return O("$index");if(s.name===t.varNames.$implicit)return O("$item")}return s},q.None))}function Gx(n){for(let e of n.units)for(let t of e.create)t.kind===u.TwoWayListener&&oe(t,s=>{if(!(s instanceof Uo))return s;let{target:r,value:i}=s;if(r instanceof Ze||r instanceof Wt)return Mh(r,i).or(r.set(i));if(r instanceof jt)return Mh(r,i);throw new Error("Unsupported expression in two-way action binding.")},q.InChildOperation)}function zx(n){for(let e of n.units){let t=0;for(let s of e.ops())Pa(s)&&(t+=Xx(s));for(let s of e.ops())ge(s,r=>{$t(r)&&(n.compatibility===Je.TemplateDefinitionBuilder&&r instanceof zn||(eh(r)&&(r.varOffset=t),Pa(r)&&(t+=Wh(r))))});if(n.compatibility===Je.TemplateDefinitionBuilder)for(let s of e.ops())ge(s,r=>{!$t(r)||!(r instanceof zn)||(eh(r)&&(r.varOffset=t),Pa(r)&&(t+=Wh(r)))});e.vars=t}if(n instanceof Jr)for(let e of n.units)for(let t of e.create){if(t.kind!==u.Template&&t.kind!==u.RepeaterCreate&&t.kind!==u.ConditionalCreate&&t.kind!==u.ConditionalBranchCreate)continue;let s=n.views.get(t.xref);t.vars=s.vars}}function Xx(n){let e;switch(n.kind){case u.Attribute:return e=1,n.expression instanceof se&&!Yx(n.expression)&&(e+=n.expression.expressions.length),e;case u.Property:case u.DomProperty:return e=1,n.expression instanceof se&&(e+=n.expression.expressions.length),e;case u.TwoWayProperty:return 1;case u.StyleProp:case u.ClassProp:case u.StyleMap:case u.ClassMap:return e=2,n.expression instanceof se&&(e+=n.expression.expressions.length),e;case u.InterpolateText:return n.interpolation.expressions.length;case u.I18nExpression:case u.Conditional:case u.DeferWhen:case u.StoreLet:return 1;case u.RepeaterCreate:return n.emptyView?1:0;default:throw new Error(`Unhandled op: ${u[n.kind]}`)}}function Wh(n){switch(n.kind){case k.PureFunctionExpr:return 1+n.args.length;case k.PipeBinding:return 1+n.args.length;case k.PipeBindingVariadic:return 1+n.numArgs;case k.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${n.constructor.name}`)}}function Yx(n){return!(n.expressions.length!==1||n.strings.length!==2||n.strings[0]!==""||n.strings[1]!=="")}function Qx(n){for(let e of n.units){Fi(e.create),Fi(e.update);for(let t of e.create)t.kind===u.Listener||t.kind===u.TwoWayListener?Fi(t.handlerOps):t.kind===u.RepeaterCreate&&t.trackByOps!==null&&Fi(t.trackByOps);Ui(e.create,n.compatibility),Ui(e.update,n.compatibility);for(let t of e.create)t.kind===u.Listener||t.kind===u.TwoWayListener?Ui(t.handlerOps,n.compatibility):t.kind===u.RepeaterCreate&&t.trackByOps!==null&&Ui(t.trackByOps,n.compatibility)}}var ue=function(n){return n[n.None=0]="None",n[n.ViewContextRead=1]="ViewContextRead",n[n.ViewContextWrite=2]="ViewContextWrite",n[n.SideEffectful=4]="SideEffectful",n}(ue||{});function Fi(n){let e=new Map;for(let t of n)t.kind===u.Variable&&t.flags&rt.AlwaysInline&&(ge(t,s=>{if($t(s)&&Oc(s)!==ue.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(t.xref,t)),oe(t,s=>s instanceof jt&&e.has(s.xref)?e.get(s.xref).initializer.clone():s,q.None);for(let t of e.values())S.remove(t)}function Ui(n,e){let t=new Map,s=new Map,r=new Set,i=new Map;for(let c of n){if(c.kind===u.Variable){if(t.has(c.xref)||s.has(c.xref))throw new Error(`Should not see two declarations of the same variable: ${c.xref}`);t.set(c.xref,c),s.set(c.xref,0)}i.set(c,Zx(c)),Jx(c,s,r)}let o=!1;for(let c of n.reversed()){let p=i.get(c);if(c.kind===u.Variable&&s.get(c.xref)===0){if(o&&p.fences&ue.ViewContextWrite||p.fences&ue.SideEffectful){let h=yt(c.initializer.toStmt());i.set(h,p),S.replace(c,h)}else Kx(c,s),S.remove(c);i.delete(c),t.delete(c.xref),s.delete(c.xref);continue}p.fences&ue.ViewContextRead&&(o=!0)}let a=[];for(let[c,p]of s){let m=!!(t.get(c).flags&rt.AlwaysInline);p!==1||m||r.has(c)||a.push(c)}let l;for(;l=a.pop();){let c=t.get(l),p=i.get(c);if(!!(c.flags&rt.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let m=c.next;m.kind!==u.ListEnd;m=m.next){let E=i.get(m);if(E.variablesUsed.has(l)){if(e===Je.TemplateDefinitionBuilder&&!tC(c,m))break;if(eC(l,c.initializer,m,p.fences)){E.variablesUsed.delete(l);for(let w of p.variablesUsed)E.variablesUsed.add(w);E.fences|=p.fences,t.delete(l),s.delete(l),i.delete(c),S.remove(c)}break}if(!Cf(E.fences,p.fences))break}}}function Oc(n){switch(n.kind){case k.NextContext:return ue.ViewContextRead|ue.ViewContextWrite;case k.RestoreView:return ue.ViewContextRead|ue.ViewContextWrite|ue.SideEffectful;case k.StoreLet:return ue.SideEffectful;case k.Reference:case k.ContextLetReference:return ue.ViewContextRead;default:return ue.None}}function Zx(n){let e=ue.None,t=new Set;return ge(n,s=>{if($t(s))switch(s.kind){case k.ReadVariable:t.add(s.xref);break;default:e|=Oc(s)}}),{fences:e,variablesUsed:t}}function Jx(n,e,t){ge(n,(s,r)=>{if(!$t(s)||s.kind!==k.ReadVariable)return;let i=e.get(s.xref);i!==void 0&&(e.set(s.xref,i+1),r&q.InChildOperation&&t.add(s.xref))})}function Kx(n,e){ge(n,t=>{if(!$t(t)||t.kind!==k.ReadVariable)return;let s=e.get(t.xref);if(s!==void 0){if(s===0)throw new Error(`Inaccurate variable count: ${t.xref} - found another read but count is already 0`);e.set(t.xref,s-1)}})}function Cf(n,e){if(n&ue.ViewContextWrite){if(e&ue.ViewContextRead)return!1}else if(n&ue.ViewContextRead&&e&ue.ViewContextWrite)return!1;return!0}function eC(n,e,t,s){let r=!1,i=!0;return oe(t,(o,a)=>{if(!$t(o)||r||!i)return o;if(a&q.InChildOperation&&s&ue.ViewContextRead)return o;switch(o.kind){case k.ReadVariable:if(o.xref===n)return r=!0,e;break;default:let l=Oc(o);i=i&&Cf(l,s);break}return o},q.None),r}function tC(n,e){switch(n.variable.kind){case fe.Identifier:return n.initializer instanceof ut&&n.initializer.name==="ctx";case fe.Context:return e.kind===u.Variable;default:return!0}}function nC(n){for(let e of n.units){let t=null,s=null;for(let r of e.create)switch(r.kind){case u.I18nStart:t=r;break;case u.I18nEnd:t=null;break;case u.IcuStart:t===null&&(s=n.allocateXrefId(),S.insertBefore(va(s,r.message,void 0,null),r));break;case u.IcuEnd:s!==null&&(S.insertAfter(Ea(s,null),r),s=null);break}}}var sC=[{kind:C.Tmpl,fn:Vy},{kind:C.Host,fn:nS},{kind:C.Tmpl,fn:by},{kind:C.Tmpl,fn:Yy},{kind:C.Tmpl,fn:nC},{kind:C.Both,fn:Cw},{kind:C.Both,fn:qx},{kind:C.Both,fn:pw},{kind:C.Both,fn:lw},{kind:C.Tmpl,fn:xw},{kind:C.Both,fn:Ty},{kind:C.Tmpl,fn:Ex},{kind:C.Both,fn:fw},{kind:C.Both,fn:qy},{kind:C.Tmpl,fn:mw},{kind:C.Tmpl,fn:Wy},{kind:C.Tmpl,fn:Aw},{kind:C.Tmpl,fn:Xy},{kind:C.Both,fn:Jy},{kind:C.Tmpl,fn:Zw},{kind:C.Tmpl,fn:Qw},{kind:C.Tmpl,fn:Jw},{kind:C.Tmpl,fn:Lx},{kind:C.Both,fn:nw},{kind:C.Both,fn:Ax},{kind:C.Tmpl,fn:Wx},{kind:C.Tmpl,fn:Sx},{kind:C.Both,fn:kx},{kind:C.Tmpl,fn:bw},{kind:C.Tmpl,fn:Gx},{kind:C.Tmpl,fn:Hx},{kind:C.Both,fn:xx},{kind:C.Both,fn:Dx},{kind:C.Tmpl,fn:Cy},{kind:C.Both,fn:Nw},{kind:C.Both,fn:Ox},{kind:C.Both,fn:Vx},{kind:C.Both,fn:Qx},{kind:C.Both,fn:Rx},{kind:C.Tmpl,fn:xy},{kind:C.Tmpl,fn:yw},{kind:C.Tmpl,fn:yx},{kind:C.Tmpl,fn:ow},{kind:C.Tmpl,fn:rw},{kind:C.Tmpl,fn:Bx},{kind:C.Tmpl,fn:bx},{kind:C.Tmpl,fn:_x},{kind:C.Tmpl,fn:Ww},{kind:C.Tmpl,fn:vy},{kind:C.Tmpl,fn:eS},{kind:C.Both,fn:ww},{kind:C.Tmpl,fn:wx},{kind:C.Both,fn:zx},{kind:C.Tmpl,fn:Yw},{kind:C.Both,fn:ky},{kind:C.Tmpl,fn:Cx},{kind:C.Tmpl,fn:Dy},{kind:C.Tmpl,fn:Ly},{kind:C.Tmpl,fn:Iw},{kind:C.Tmpl,fn:aw},{kind:C.Tmpl,fn:By},{kind:C.Both,fn:Zy},{kind:C.Both,fn:mx},{kind:C.Both,fn:dw}];function Af(n,e){for(let t of sC)(t.kind===e||t.kind===C.Both)&&t.fn(n)}function rC(n,e){let t=_f(n.root);return bf(n.root,e),t}function bf(n,e){for(let t of n.job.units){if(t.parent!==n.xref)continue;bf(t,e);let s=_f(t);e.statements.push(s.toDeclStmt(s.name))}}function _f(n){if(n.fnName===null)throw new Error(`AssertionError: view ${n.xref} is unnamed`);let e=[];for(let i of n.create){if(i.kind!==u.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${u[i.kind]}`);e.push(i.statement)}let t=[];for(let i of n.update){if(i.kind!==u.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${u[i.kind]}`);t.push(i.statement)}let s=ia(1,e),r=ia(2,t);return pn([new me("rf"),new me("ctx")],[...s,...r],void 0,void 0,n.fnName)}function ia(n,e){return e.length===0?[]:[ha(new U(y.BitwiseAnd,O("rf"),g(n)),e)]}function iC(n){if(n.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let i of n.root.create){if(i.kind!==u.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${u[i.kind]}`);e.push(i.statement)}let t=[];for(let i of n.root.update){if(i.kind!==u.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${u[i.kind]}`);t.push(i.statement)}if(e.length===0&&t.length===0)return null;let s=ia(1,e),r=ia(2,t);return pn([new me("rf"),new me("ctx")],[...s,...r],void 0,void 0,n.root.fnName)}var Tf=Je.TemplateDefinitionBuilder,Rn=new Us,$n="ng-template";function Xi(n){return n instanceof Ne}function oC(n){return Xi(n)&&n.nodes.length===1&&n.nodes[0]instanceof No}function aC(n,e,t,s,r,i,o,a,l,c){let p=new Jr(n,t,Tf,s,r,i,o,a,l,c);return zt(p.root,e),p}function lC(n,e,t){let s=new Go(n.componentName,t,Tf,Ve.DomOnly);for(let r of n.properties??[]){let i=I.Property;r.name.startsWith("attr.")&&(r.name=r.name.substring(5),i=I.Attribute),r.isLegacyAnimation&&(i=I.LegacyAnimation);let o=e.calcPossibleSecurityContexts(n.componentSelector,r.name,i===I.Attribute).filter(a=>a!==Z.NONE);cC(s,r,i,o)}for(let[r,i]of Object.entries(n.attributes)??[]){let o=e.calcPossibleSecurityContexts(n.componentSelector,r,!0).filter(a=>a!==Z.NONE);uC(s,r,i,o)}for(let r of n.events??[])pC(s,r);return s}function cC(n,e,t,s){let r,i=e.expression.ast;i instanceof li?r=new se(i.strings,i.expressions.map(o=>$(o,n,e.sourceSpan)),[]):r=$(i,n,e.sourceSpan),n.root.update.push(Gn(n.root.xref,t,e.name,r,null,s,!1,!1,null,null,e.sourceSpan))}function uC(n,e,t,s){let r=Gn(n.root.xref,I.Attribute,e,t,null,s,!0,!1,null,null,t.sourceSpan);n.root.update.push(r)}function pC(n,e){let[t,s]=e.type!==ct.LegacyAnimation?[null,e.targetOrPhase]:[e.targetOrPhase,null],r=Mc(n.root.xref,new _e,e.name,null,Fc(n.root,e.handler,e.handlerSpan),t,s,!0,e.sourceSpan);n.root.create.push(r)}function zt(n,e){for(let t of e)if(t instanceof Bt)hC(n,t);else if(t instanceof Ye)dC(n,t);else if(t instanceof Ds)fC(n,t);else if(t instanceof In)kf(n,t,null);else if(t instanceof ks)If(n,t,null);else if(t instanceof To)mC(n,t);else if(t instanceof _o)gC(n,t);else if(t instanceof jn)vC(n,t);else if(t instanceof xd)wC(n,t);else if(t instanceof Ns)SC(n,t);else if(t instanceof Cc)xC(n,t);else if(!(t instanceof ur))throw new Error(`Unsupported template node: ${t.constructor.name}`)}function hC(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof Ne||e.i18n instanceof dn))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=n.job.allocateXrefId(),[s,r]=St(e.name),i=UE(r,t,rf(s),e.i18n instanceof dn?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);n.create.push(i),AC(n,i,e),Pf(i,e);let o=null;e.i18n instanceof Ne&&(o=n.job.allocateXrefId(),n.create.push(va(o,e.i18n,void 0,e.startSourceSpan))),zt(n,e.children);let a=VE(t,e.endSourceSpan??e.startSourceSpan);n.create.push(a),o!==null&&S.insertBefore(Ea(o,e.endSourceSpan??e.startSourceSpan),a)}function dC(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof Ne||e.i18n instanceof dn))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let t=n.job.allocateView(n.xref),s=e.tagName,r="";e.tagName&&([r,s]=St(e.tagName));let i=e.i18n instanceof dn?e.i18n:void 0,o=rf(r),a=s===null?"":Ew(s,o),l=CC(e)?Oe.NgTemplate:Oe.Structural,c=Qd(t.xref,l,s,a,o,i,e.startSourceSpan,e.sourceSpan);n.create.push(c),bC(n,c,e,l),Pf(c,e),zt(t,e.children);for(let{name:p,value:h}of e.variables)t.contextVariables.set(p,h!==""?h:"$implicit");if(l===Oe.NgTemplate&&e.i18n instanceof Ne){let p=n.job.allocateXrefId();S.insertAfter(va(p,e.i18n,void 0,e.startSourceSpan),t.create.head),S.insertBefore(Ea(p,e.endSourceSpan??e.startSourceSpan),t.create.tail)}}function fC(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof dn))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=null;e.children.some(i=>!(i instanceof fa)&&(!(i instanceof In)||i.value.trim().length>0))&&(t=n.job.allocateView(n.xref),zt(t,e.children));let s=n.job.allocateXrefId(),r=zE(s,e.selector,e.i18n,t?.xref??null,e.sourceSpan);for(let i of e.attributes){let o=Rn.securityContext(e.name,i.name,!0);n.update.push(Gn(r.xref,I.Attribute,i.name,g(i.value),null,o,!0,!1,null,Vt(i.i18n),i.sourceSpan))}n.create.push(r)}function kf(n,e,t){n.create.push(Kd(n.job.allocateXrefId(),e.value,t,e.sourceSpan))}function If(n,e,t){let s=e.value;if(s instanceof je&&(s=s.ast),!(s instanceof li))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${s.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof Ht))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let r=e.i18n instanceof Ht?e.i18n.children.filter(a=>a instanceof Or).map(a=>a.name):[];if(r.length>0&&r.length!==s.expressions.length)throw Error(`Unexpected number of i18n placeholders (${s.expressions.length}) for BoundText with ${s.expressions.length} expressions`);let i=n.job.allocateXrefId();n.create.push(Kd(i,"",t,e.sourceSpan));let o=n.job.compatibility?null:e.sourceSpan;n.update.push(_E(i,new se(s.strings,s.expressions.map(a=>$(a,n.job,o)),r),e.sourceSpan))}function mC(n,e){let t=null,s=[];for(let r=0;r<e.branches.length;r++){let i=e.branches[r],o=n.job.allocateView(n.xref),a=oa(n,o.xref,i);i.expressionAlias!==null&&o.contextVariables.set(i.expressionAlias.name,sf);let l;if(i.i18n!==void 0){if(!(i.i18n instanceof fn))throw Error(`Unhandled i18n metadata type for if block: ${i.i18n?.constructor.name}`);l=i.i18n}let p=(r===0?Zd:Jd)(o.xref,Oe.Block,a,"Conditional",Ae.HTML,l,i.startSourceSpan,i.sourceSpan);n.create.push(p),t===null&&(t=o.xref);let h=i.expression?$(i.expression,n.job,null):null,m=new Vo(h,p.xref,p.handle,i.expressionAlias);s.push(m),zt(o,i.children)}n.update.push(zd(t,null,s,e.sourceSpan))}function gC(n,e){if(e.cases.length===0)return;let t=null,s=[];for(let r=0;r<e.cases.length;r++){let i=e.cases[r],o=n.job.allocateView(n.xref),a=oa(n,o.xref,i),l;if(i.i18n!==void 0){if(!(i.i18n instanceof fn))throw Error(`Unhandled i18n metadata type for switch block: ${i.i18n?.constructor.name}`);l=i.i18n}let p=(r===0?Zd:Jd)(o.xref,Oe.Block,a,"Case",Ae.HTML,l,i.startSourceSpan,i.sourceSpan);n.create.push(p),t===null&&(t=o.xref);let h=i.expression?$(i.expression,n.job,e.startSourceSpan):null,m=new Vo(h,p.xref,p.handle);s.push(m),zt(o,i.children)}n.update.push(zd(t,$(e.expression,n.job,null),s,e.sourceSpan))}function qi(n,e,t,s,r){if(t!==void 0&&!(t instanceof fn))throw Error("Unhandled i18n metadata type for defer block");if(s===void 0)return null;let i=n.job.allocateView(n.xref);zt(i,s);let o=Qd(i.xref,Oe.Block,null,`Defer${e}`,Ae.HTML,t,r,r);return n.create.push(o),o}function vC(n,e){let t=null;if(n.job.deferMeta.mode===0){if(!n.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");t=n.job.deferMeta.blocks.get(e)??null}let s=qi(n,"",e.i18n,e.children,e.sourceSpan),r=qi(n,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),i=qi(n,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),o=qi(n,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=n.job.allocateXrefId(),l=XE(a,s.xref,s.handle,t,n.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=i?.xref??null,l.placeholderSlot=i?.handle??null,l.loadingSlot=r?.handle??null,l.errorSlot=o?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,l.flags=EC(e),n.create.push(l);let c=[],p=[];Ua("hydrate",e.hydrateTriggers,c,p,n,a),Ua("none",e.triggers,c,p,n,a),Ua("prefetch",e.prefetchTriggers,c,p,n,a),c.some(m=>m.modifier==="none")||p.some(m=>m.modifier==="none")||c.push(en(a,{kind:z.Idle},"none",null)),n.create.push(c),n.update.push(p)}function EC(n){return Object.keys(n.hydrateTriggers).length>0?1:null}function Ua(n,e,t,s,r,i){if(e.idle!==void 0){let o=en(i,{kind:z.Idle},n,e.idle.sourceSpan);t.push(o)}if(e.immediate!==void 0){let o=en(i,{kind:z.Immediate},n,e.immediate.sourceSpan);t.push(o)}if(e.timer!==void 0){let o=en(i,{kind:z.Timer,delay:e.timer.delay},n,e.timer.sourceSpan);t.push(o)}if(e.hover!==void 0){let o=en(i,{kind:z.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.hover.sourceSpan);t.push(o)}if(e.interaction!==void 0){let o=en(i,{kind:z.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.interaction.sourceSpan);t.push(o)}if(e.viewport!==void 0){let o=en(i,{kind:z.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.viewport.sourceSpan);t.push(o)}if(e.never!==void 0){let o=en(i,{kind:z.Never},n,e.never.sourceSpan);t.push(o)}if(e.when!==void 0){if(e.when.value instanceof li)throw new Error("Unexpected interpolation in defer block when trigger");let o=RE(i,$(e.when.value,r.job,e.when.sourceSpan),n,e.when.sourceSpan);s.push(o)}}function wC(n,e){if(e.i18n instanceof Ne&&oC(e.i18n)){let t=n.job.allocateXrefId();n.create.push(ZE(t,e.i18n,bd(e.i18n).name,null));for(let[s,r]of Object.entries(v(v({},e.vars),e.placeholders)))r instanceof ks?If(n,r,s):kf(n,r,s);n.create.push(JE(t))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function SC(n,e){let t=n.job.allocateView(n.xref),s=`\u0275$index_${t.xref}`,r=`\u0275$count_${t.xref}`,i=new Set;t.contextVariables.set(e.item.name,e.item.value);for(let A of e.contextVariables)A.value==="$index"&&i.add(A.name),A.name==="$index"?t.contextVariables.set("$index",A.value).set(s,A.value):A.name==="$count"?t.contextVariables.set("$count",A.value).set(r,A.value):t.aliases.add({kind:fe.Alias,name:null,identifier:A.name,expression:yC(A,s,r)});let o=le(e.trackBy.span,e.sourceSpan),a=$(e.trackBy,n.job,o);zt(t,e.children);let l=null,c=null;e.empty!==null&&(l=n.job.allocateView(n.xref),zt(l,e.empty.children),c=oa(n,l.xref,e.empty));let p={$index:i,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof fn))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof fn))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let h=e.i18n,m=e.empty?.i18n,E=oa(n,t.xref,e),w=qE(t.xref,l?.xref??null,E,a,p,c,h,m,e.startSourceSpan,e.sourceSpan);n.create.push(w);let x=$(e.expression,n.job,le(e.expression.span,e.sourceSpan)),T=BE(w.xref,w.handle,x,e.sourceSpan);n.update.push(T)}function yC(n,e,t){switch(n.value){case"$index":return new ve(e);case"$count":return new ve(t);case"$first":return new ve(e).identical(g(0));case"$last":return new ve(e).identical(new ve(t).minus(g(1)));case"$even":return new ve(e).modulo(g(2)).identical(g(0));case"$odd":return new ve(e).modulo(g(2)).notIdentical(g(0));default:throw new Error(`AssertionError: unknown @for loop variable ${n.value}`)}}function xC(n,e){let t=n.job.allocateXrefId();n.create.push(YE(t,e.name,e.sourceSpan)),n.update.push(OE(t,e.name,$(e.value,n.job,e.valueSpan),e.sourceSpan))}function $(n,e,t){if(n instanceof je)return $(n.ast,e,t);if(n instanceof un)return n.receiver instanceof Mt&&!(n.receiver instanceof Hn)?new ve(n.name):new Ze($(n.receiver,e,t),n.name,null,le(n.span,t));if(n instanceof kr){if(n.receiver instanceof Mt)throw new Error("Unexpected ImplicitReceiver");return new Fe($(n.receiver,e,t),n.args.map(s=>$(s,e,t)),void 0,le(n.span,t))}else{if(n instanceof He)return g(n.value,void 0,le(n.span,t));if(n instanceof Es)switch(n.operator){case"+":return new Un(vr.Plus,$(n.expr,e,t),void 0,le(n.span,t));case"-":return new Un(vr.Minus,$(n.expr,e,t),void 0,le(n.span,t));default:throw new Error(`AssertionError: unknown unary operator ${n.operator}`)}else if(n instanceof ke){let s=gw.get(n.operation);if(s===void 0)throw new Error(`AssertionError: unknown binary operator ${n.operation}`);return new U(s,$(n.left,e,t),$(n.right,e,t),void 0,le(n.span,t))}else{if(n instanceof Hn)return new gn(e.root.xref);if(n instanceof Ts)return new Wt($(n.receiver,e,t),$(n.key,e,t),void 0,le(n.span,t));if(n instanceof _s)throw new Error("AssertionError: Chain in unknown context");if(n instanceof mo){let s=n.keys.map((r,i)=>{let o=n.values[i];return new As(r.key,$(o,e,t),r.quoted)});return new Lt(s,void 0,le(n.span,t))}else{if(n instanceof fo)return new Et(n.expressions.map(s=>$(s,e,t)));if(n instanceof co)return new Dt($(n.condition,e,t),$(n.trueExp,e,t),$(n.falseExp,e,t),void 0,le(n.span,t));if(n instanceof Tr)return $(n.expression,e,t);if(n instanceof ho)return new Xn(e.allocateXrefId(),new _e,n.name,[$(n.exp,e,t),...n.args.map(s=>$(s,e,t))]);if(n instanceof po)return new $s($(n.receiver,e,t),$(n.key,e,t),le(n.span,t));if(n instanceof uo)return new Rs($(n.receiver,e,t),n.name);if(n instanceof go)return new Yn($(n.receiver,e,t),n.args.map(s=>$(s,e,t)));if(n instanceof Me)return new Qr(le(n.span,t));if(n instanceof Ar)return Og($(n.expression,e,t),le(n.span,t));if(n instanceof br)return ai($(n.expression,e,t));if(n instanceof _r)return new eo($(n.expression,e,t),void 0,le(n.span,t));if(n instanceof Nr)return Gh(n,e,t);if(n instanceof Ir)return new Er($(n.tag,e,t),Gh(n.template,e,t),void 0,le(n.span,t));if(n instanceof Eo)return new Pt($(n.expression,e,t),void 0,le(n.span,t));throw new Error(`Unhandled expression type "${n.constructor.name}" in file "${t?.start.file.url}"`)}}}}function Gh(n,e,t){return new Sr(n.elements.map(s=>new to(s.text,le(s.span,t))),n.expressions.map(s=>$(s,e,t)),le(n.span,t))}function ec(n,e,t,s){let r;return e instanceof li?r=new se(e.strings,e.expressions.map(i=>$(i,n,null)),Object.keys(Vt(t)?.placeholders??{})):e instanceof ee?r=$(e,n,null):r=g(e),r}var Nf=new Map([[G.Property,I.Property],[G.TwoWay,I.TwoWayProperty],[G.Attribute,I.Attribute],[G.Class,I.ClassName],[G.Style,I.StyleProperty],[G.LegacyAnimation,I.LegacyAnimation]]);function CC(n){return St(n.tagName??"")[1]===$n}function Vt(n){if(n==null)return null;if(!(n instanceof Ne))throw Error(`Expected i18n meta to be a Message, but got: ${n.constructor.name}`);return n}function AC(n,e,t){let s=new Array,r=new Set;for(let i of t.attributes){let o=Rn.securityContext(t.name,i.name,!0);s.push(Gn(e.xref,I.Attribute,i.name,ec(n.job,i.value,i.i18n),null,o,!0,!1,null,Vt(i.i18n),i.sourceSpan)),i.i18n&&r.add(i.name)}for(let i of t.inputs)r.has(i.name)&&console.error(`On component ${n.job.componentName}, the binding ${i.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),s.push(Gn(e.xref,Nf.get(i.type),i.name,ec(n.job,si(i.value),i.i18n),i.unit,i.securityContext,!1,!1,null,Vt(i.i18n)??null,i.sourceSpan));n.create.push(s.filter(i=>i?.kind===u.ExtractedAttribute)),n.update.push(s.filter(i=>i?.kind===u.Binding));for(let i of t.outputs){if(i.type===ct.LegacyAnimation&&i.phase===null)throw Error("Animation listener should have a phase");i.type===ct.TwoWay?n.create.push(ef(e.xref,e.handle,i.name,e.tag,Df(n,i.handler,i.handlerSpan),i.sourceSpan)):n.create.push(Mc(e.xref,e.handle,i.name,e.tag,Fc(n,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))}s.some(i=>i?.i18nMessage)!==null&&n.create.push(nf(n.job.allocateXrefId(),new _e,e.xref))}function bC(n,e,t,s){let r=new Array;for(let i of t.templateAttrs)if(i instanceof Is){let o=Rn.securityContext($n,i.name,!0);r.push(Vi(n,e.xref,G.Attribute,i.name,i.value,null,o,!0,s,Vt(i.i18n),i.sourceSpan))}else r.push(Vi(n,e.xref,i.type,i.name,si(i.value),i.unit,i.securityContext,!0,s,Vt(i.i18n),i.sourceSpan));for(let i of t.attributes){let o=Rn.securityContext($n,i.name,!0);r.push(Vi(n,e.xref,G.Attribute,i.name,i.value,null,o,!1,s,Vt(i.i18n),i.sourceSpan))}for(let i of t.inputs)r.push(Vi(n,e.xref,i.type,i.name,si(i.value),i.unit,i.securityContext,!1,s,Vt(i.i18n),i.sourceSpan));n.create.push(r.filter(i=>i?.kind===u.ExtractedAttribute)),n.update.push(r.filter(i=>i?.kind===u.Binding));for(let i of t.outputs){if(i.type===ct.LegacyAnimation&&i.phase===null)throw Error("Animation listener should have a phase");if(s===Oe.NgTemplate&&(i.type===ct.TwoWay?n.create.push(ef(e.xref,e.handle,i.name,e.tag,Df(n,i.handler,i.handlerSpan),i.sourceSpan)):n.create.push(Mc(e.xref,e.handle,i.name,e.tag,Fc(n,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))),s===Oe.Structural&&i.type!==ct.LegacyAnimation){let o=Rn.securityContext($n,i.name,!1);n.create.push(it(e.xref,I.Property,null,i.name,null,null,null,o))}}r.some(i=>i?.i18nMessage)!==null&&n.create.push(nf(n.job.allocateXrefId(),new _e,e.xref))}function Vi(n,e,t,s,r,i,o,a,l,c,p){let h=typeof r=="string";if(l===Oe.Structural){if(!a)switch(t){case G.Property:case G.Class:case G.Style:return it(e,I.Property,null,s,null,null,c,o);case G.TwoWay:return it(e,I.TwoWayProperty,null,s,null,null,c,o)}if(!h&&(t===G.Attribute||t===G.LegacyAnimation))return null}let m=Nf.get(t);return l===Oe.NgTemplate&&(t===G.Class||t===G.Style||t===G.Attribute&&!h)&&(m=I.Property),Gn(e,m,s,ec(n.job,r,c),i,o,h,a,l,c,p)}function Fc(n,e,t){e=si(e);let s=new Array,r=e instanceof _s?e.expressions:[e];if(r.length===0)throw new Error("Expected listener to have non-empty expression list.");let i=r.map(a=>$(a,n.job,t)),o=i.pop();return s.push(...i.map(a=>yt(new pt(a,a.sourceSpan)))),s.push(yt(new be(o,o.sourceSpan))),s}function Df(n,e,t){e=si(e);let s=new Array;if(e instanceof _s)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let r=$(e,n.job,t),i=new ve("$event"),o=new Uo(r,i);return s.push(yt(new pt(o))),s.push(yt(new be(i))),s}function si(n){return n instanceof je?n.ast:n}function Pf(n,e){_C(n.localRefs);for(let{name:t,value:s}of e.references)n.localRefs.push({name:t,target:s})}function _C(n){if(!Array.isArray(n))throw new Error("AssertionError: expected an array")}function le(n,e){if(e===null)return null;let t=e.start.moveBy(n.start),s=e.start.moveBy(n.end),r=e.fullStart.moveBy(n.start);return new P(t,s,r)}function oa(n,e,t){let s=null;for(let r of t.children)if(!(r instanceof fa||r instanceof Cc)){if(s!==null)return null;if(r instanceof Bt||r instanceof Ye&&r.tagName!==null)s=r;else return null}if(s!==null){for(let i of s.attributes){let o=Rn.securityContext($n,i.name,!0);n.update.push(Gn(e,I.Attribute,i.name,g(i.value),null,o,!0,!1,null,Vt(i.i18n),i.sourceSpan))}for(let i of s.inputs)if(i.type!==G.LegacyAnimation&&i.type!==G.Attribute){let o=Rn.securityContext($n,i.name,!0);n.create.push(it(e,I.Property,null,i.name,null,null,null,o))}let r=s instanceof Bt?s.name:s.tagName;return r===$n?null:r}return null}var TC=!1;function kC(){return TC}function aa(n,e){return ha(O(_c).bitwiseAnd(g(n),null),e)}function IC(n){return(n.descendants?1:0)|(n.static?2:0)|(n.emitDistinctChangesOnly?4:0)}function NC(n,e){if(Array.isArray(n.predicate)){let t=[];return n.predicate.forEach(s=>{let r=s.split(",").map(i=>g(i.trim()));t.push(...r)}),e.getConstLiteral(H(t),!0)}else switch(n.predicate.forwardRef){case 0:case 2:return n.predicate.expression;case 1:return _(d.resolveForwardRef).callFn([n.predicate.expression])}}function Lf(n,e,t,s){let r=[];s!==void 0&&r.push(...s),n.isSignal&&r.push(new Ze(O(Fr),n.propertyName)),r.push(NC(n,e),g(IC(n))),n.read&&r.push(n.read);let i=n.isSignal?t.signalBased:t.nonSignal;return _(i).callFn(r)}var Uc=Symbol("queryAdvancePlaceholder");function Mf(n){let e=[],t=0,s=()=>{t>0&&(e.unshift(_(d.queryAdvance).callFn(t===1?[]:[g(t)]).toStmt()),t=0)};for(let r=n.length-1;r>=0;r--){let i=n[r];i===Uc?t++:(s(),e.unshift(i))}return s(),e}function DC(n,e,t){let s=[],r=[],i=_d(a=>r.push(a),bc);n.forEach(a=>{let l=Lf(a,e,{signalBased:d.viewQuerySignal,nonSignal:d.viewQuery});if(s.push(l.toStmt()),a.isSignal){r.push(Uc);return}let c=i(),p=_(d.loadQuery).callFn([]),h=_(d.queryRefresh).callFn([c.set(p)]),m=O(Fr).prop(a.propertyName).set(a.first?c.prop("first"):c);r.push(h.and(m).toStmt())});let o=t?`${t}_Query`:null;return pn([new me(_c,Sc),new me(Fr,null)],[aa(1,s),aa(2,Mf(r))],ze,null,o)}function PC(n,e,t){let s=[],r=[],i=_d(a=>r.push(a),bc);for(let a of n){if(s.push(Lf(a,e,{nonSignal:d.contentQuery,signalBased:d.contentQuerySignal},[O("dirIndex")]).toStmt()),a.isSignal){r.push(Uc);continue}let l=i(),c=_(d.loadQuery).callFn([]),p=_(d.queryRefresh).callFn([l.set(c)]),h=O(Fr).prop(a.propertyName).set(a.first?l.prop("first"):l);r.push(p.and(h).toStmt())}let o=t?`${t}_ContentQueries`:null;return pn([new me(_c,Sc),new me(Fr,null),new me("dirIndex",null)],[aa(1,s),aa(2,Mf(r))],ze,null,o)}var tc=class extends gS{constructor(){super(Xl)}parse(e,t,s){return super.parse(e,t,s)}},zh=".",LC="attr",MC="class",BC="style",RC="*",qa="animate-",nc=class{_exprParser;_interpolationConfig;_schemaRegistry;errors;constructor(e,t,s,r){this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=s,this.errors=r}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,t){let s=[];for(let r of Object.keys(e)){let i=e[r];typeof i=="string"?this.parsePropertyBinding(r,i,!0,!1,t,t.start.offset,void 0,[],s,t):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,t)}return s}createDirectiveHostEventAsts(e,t){let s=[];for(let r of Object.keys(e)){let i=e[r];typeof i=="string"?this.parseEvent(r,i,!1,t,t,[],s,t):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,t)}return s}parseInterpolation(e,t,s){let r=t.fullStart.offset;try{let i=this._exprParser.parseInterpolation(e,t,r,s,this._interpolationConfig);return i&&this.errors.push(...i.errors),i}catch(i){return this._reportError(`${i}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,r)}}parseInterpolationExpression(e,t){let s=t.start.offset;try{let r=this._exprParser.parseInterpolationExpression(e,t,s);return r&&this.errors.push(...r.errors),r}catch(r){return this._reportError(`${r}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,s)}}parseInlineTemplateBinding(e,t,s,r,i,o,a,l){let c=s.start.offset+RC.length,p=this._parseTemplateBindings(e,t,s,c,r);for(let h of p){let m=Jt(s,h.sourceSpan),E=h.key.source,w=Jt(s,h.key.span);if(h instanceof Dr){let x=h.value?h.value.source:"$implicit",T=h.value?Jt(s,h.value.span):void 0;a.push(new al(E,x,m,w,T))}else if(h.value){let x=l?m:s,T=Jt(s,h.value.ast.sourceSpan);this._parsePropertyAst(E,h.value,!1,x,w,T,i,o)}else i.push([E,""]),this.parseLiteralAttr(E,null,w,r,void 0,i,o,w)}}_parseTemplateBindings(e,t,s,r,i){try{let o=this._exprParser.parseTemplateBindings(e,t,s,r,i);return o.errors.forEach(a=>this.errors.push(a)),o.warnings.forEach(a=>{this._reportError(a,s,an.WARNING)}),o.templateBindings}catch(o){return this._reportError(`${o}`,s),[]}}parseLiteralAttr(e,t,s,r,i,o,a,l){Va(e)?(e=e.substring(1),l!==void 0&&(l=Jt(l,new Xe(l.start.offset+1,l.end.offset))),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',s,an.ERROR),this._parseLegacyAnimation(e,t,s,r,l,i,o,a)):a.push(new cr(e,this._exprParser.wrapLiteralPrimitive(t,"",r),rn.LITERAL_ATTR,s,l,i))}parsePropertyBinding(e,t,s,r,i,o,a,l,c,p){e.length===0&&this._reportError("Property name is missing in binding",i);let h=!1;e.startsWith(qa)?(h=!0,e=e.substring(qa.length),p!==void 0&&(p=Jt(p,new Xe(p.start.offset+qa.length,p.end.offset)))):Va(e)&&(h=!0,e=e.substring(1),p!==void 0&&(p=Jt(p,new Xe(p.start.offset+1,p.end.offset)))),h?this._parseLegacyAnimation(e,t,i,o,p,a,l,c):this._parsePropertyAst(e,this.parseBinding(t,s,a||i,o),r,i,p,a,l,c)}parsePropertyInterpolation(e,t,s,r,i,o,a,l){let c=this.parseInterpolation(t,r||s,l);return c?(this._parsePropertyAst(e,c,!1,s,a,r,i,o),!0):!1}_parsePropertyAst(e,t,s,r,i,o,a,l){a.push([e,t.source]),l.push(new cr(e,t,s?rn.TWO_WAY:rn.DEFAULT,r,i,o))}_parseLegacyAnimation(e,t,s,r,i,o,a,l){e.length===0&&this._reportError("Animation trigger is missing",s);let c=this.parseBinding(t||"undefined",!1,o||s,r);a.push([e,c.source]),l.push(new cr(e,c,rn.LEGACY_ANIMATION,s,i,o))}parseBinding(e,t,s,r){try{let i=t?this._exprParser.parseSimpleBinding(e,s,r,this._interpolationConfig):this._exprParser.parseBinding(e,s,r,this._interpolationConfig);return i&&this.errors.push(...i.errors),i}catch(i){return this._reportError(`${i}`,s),this._exprParser.wrapLiteralPrimitive("ERROR",s,r)}}createBoundElementProperty(e,t,s=!1,r=!0){if(t.isLegacyAnimation)return new yo(t.name,G.LegacyAnimation,Z.NONE,t.expression,null,t.sourceSpan,t.keySpan,t.valueSpan);let i=null,o,a=null,l=t.name.split(zh),c;if(l.length>1)if(l[0]==LC){a=l.slice(1).join(zh),s||this._validatePropertyOrAttributeName(a,t.sourceSpan,!0),c=Ha(this._schemaRegistry,e,a,!0);let p=a.indexOf(":");if(p>-1){let h=a.substring(0,p),m=a.substring(p+1);a=Wi(h,m)}o=G.Attribute}else l[0]==MC?(a=l[1],o=G.Class,c=[Z.NONE]):l[0]==BC&&(i=l.length>2?l[2]:null,a=l[1],o=G.Style,c=[Z.STYLE]);if(a===null){let p=this._schemaRegistry.getMappedPropName(t.name);a=r?p:t.name,c=Ha(this._schemaRegistry,e,p,!1),o=t.type===rn.TWO_WAY?G.TwoWay:G.Property,s||this._validatePropertyOrAttributeName(p,t.sourceSpan,!1)}return new yo(a,o,c[0],t.expression,i,t.sourceSpan,t.keySpan,t.valueSpan)}parseEvent(e,t,s,r,i,o,a,l){e.length===0&&this._reportError("Event name is missing in binding",r),Va(e)?(e=e.slice(1),l!==void 0&&(l=Jt(l,new Xe(l.start.offset+1,l.end.offset))),this._parseLegacyAnimationEvent(e,t,r,i,a,l)):this._parseRegularEvent(e,t,s,r,i,o,a,l)}calcPossibleSecurityContexts(e,t,s){let r=this._schemaRegistry.getMappedPropName(t);return Ha(this._schemaRegistry,e,r,s)}parseEventListenerName(e){let[t,s]=Xg(e,[null,e]);return{eventName:s,target:t}}parseLegacyAnimationEventName(e){let t=Yg(e,[e,null]);return{eventName:t[0],phase:t[1]===null?null:t[1].toLowerCase()}}_parseLegacyAnimationEvent(e,t,s,r,i,o){let{eventName:a,phase:l}=this.parseLegacyAnimationEventName(e),c=this._parseAction(t,r);i.push(new So(a,l,ct.LegacyAnimation,c,s,r,o)),a.length===0&&this._reportError("Animation event name is missing in binding",s),l?l!=="start"&&l!=="done"&&this._reportError(`The provided animation output phase value "${l}" for "@${a}" is not supported (use start or done)`,s):this._reportError(`The animation trigger output event (@${a}) is missing its phase value name (start or done are currently supported)`,s)}_parseRegularEvent(e,t,s,r,i,o,a,l){let{eventName:c,target:p}=this.parseEventListenerName(e),h=this.errors.length,m=this._parseAction(t,i),E=this.errors.length===h;o.push([e,m.source]),s&&E&&!this._isAllowedAssignmentEvent(m)&&this._reportError("Unsupported expression in a two-way binding",r),a.push(new So(c,p,s?ct.TwoWay:ct.Regular,m,r,i,l))}_parseAction(e,t){let s=t&&t.start?t.start.offset:0;try{let r=this._exprParser.parseAction(e,t,s,this._interpolationConfig);return r&&this.errors.push(...r.errors),!r||r.ast instanceof Me?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",t,s)):r}catch(r){return this._reportError(`${r}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,s)}}_reportError(e,t,s=an.ERROR){this.errors.push(new D(t,e,s))}_validatePropertyOrAttributeName(e,t,s){let r=s?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,an.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof je?this._isAllowedAssignmentEvent(e.ast):e instanceof Tr?this._isAllowedAssignmentEvent(e.expression):e instanceof kr&&e.args.length===1&&e.receiver instanceof un&&e.receiver.name==="$any"&&e.receiver.receiver instanceof Mt&&!(e.receiver.receiver instanceof Hn)?this._isAllowedAssignmentEvent(e.args[0]):e instanceof un||e instanceof Ts}};function Va(n){return n[0]=="@"}function Ha(n,e,t,s){let r,i=o=>n.securityContext(o,t,s);return e===null?r=n.allKnownElementNames().map(i):(r=[],xs.parse(e).forEach(o=>{let a=o.element?[o.element]:n.allKnownElementNames(),l=new Set(o.notSelectors.filter(p=>p.isElementSelector()).map(p=>p.element)),c=a.filter(p=>!l.has(p));r.push(...c.map(i))})),r.length===0?[Z.NONE]:Array.from(new Set(r)).sort()}function Jt(n,e){let t=e.start-n.start.offset,s=e.end-n.end.offset;return new P(n.start.moveBy(t),n.end.moveBy(s),n.fullStart.moveBy(t),n.details)}function $C(n){if(n==null||n.length===0||n[0]=="/")return!1;let e=n.match(OC);return e===null||e[1]=="package"||e[1]=="asset"}var OC=/^([^:/?#]+):/,FC="select",UC="link",qC="rel",VC="href",HC="stylesheet",jC="style",WC="script",GC="ngNonBindable",zC="ngProjectAs";function Bf(n){let e=null,t=null,s=null,r=!1,i="";n.attrs.forEach(l=>{let c=l.name.toLowerCase();c==FC?e=l.value:c==VC?t=l.value:c==qC?s=l.value:l.name==GC?r=!0:l.name==zC&&l.value.length>0&&(i=l.value)}),e=XC(e);let o=n.name.toLowerCase(),a=Ge.OTHER;return ll(o)?a=Ge.NG_CONTENT:o==jC?a=Ge.STYLE:o==WC?a=Ge.SCRIPT:o==UC&&s==HC&&(a=Ge.STYLESHEET),new sc(a,e,t,r,i)}var Ge=function(n){return n[n.NG_CONTENT=0]="NG_CONTENT",n[n.STYLE=1]="STYLE",n[n.STYLESHEET=2]="STYLESHEET",n[n.SCRIPT=3]="SCRIPT",n[n.OTHER=4]="OTHER",n}(Ge||{}),sc=class{type;selectAttr;hrefAttr;nonBindable;projectAs;constructor(e,t,s,r,i){this.type=e,this.selectAttr=t,this.hrefAttr=s,this.nonBindable=r,this.projectAs=i}};function XC(n){return n===null||n.length===0?"*":n}var YC=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,QC=/^track\s+([\S\s]*)/,ZC=/^(as\s+)(.*)/,qc=/^else[^\S\r\n]+if/,JC=/^let\s+([\S\s]*)/,KC=/^[$A-Z_][0-9A-Z_$]*$/i,Xh=/(\s*)(\S+)(\s*)/,gr=new Set(["$index","$first","$last","$even","$odd","$count"]);function Yh(n){return n==="empty"}function Qh(n){return n==="else"||qc.test(n)}function eA(n,e,t,s){let r=iA(e),i=[],o=Zh(n,r,s);o!==null&&i.push(new Pn(o.expression,J(t,n.children,n.children),o.expressionAlias,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan,n.i18n));for(let h of e)if(qc.test(h.name)){let m=Zh(h,r,s);if(m!==null){let E=J(t,h.children,h.children);i.push(new Pn(m.expression,E,m.expressionAlias,h.sourceSpan,h.startSourceSpan,h.endSourceSpan,h.nameSpan,h.i18n))}}else if(h.name==="else"){let m=J(t,h.children,h.children);i.push(new Pn(null,m,null,h.sourceSpan,h.startSourceSpan,h.endSourceSpan,h.nameSpan,h.i18n))}let a=i.length>0?i[0].startSourceSpan:n.startSourceSpan,l=i.length>0?i[i.length-1].endSourceSpan:n.endSourceSpan,c=n.sourceSpan,p=i[i.length-1];return p!==void 0&&(c=new P(a.start,p.sourceSpan.end)),{node:new To(i,c,n.startSourceSpan,l,n.nameSpan),errors:r}}function tA(n,e,t,s){let r=[],i=sA(n,r,s),o=null,a=null;for(let l of e)l.name==="empty"?a!==null?r.push(new D(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?r.push(new D(l.sourceSpan,"@empty block cannot have parameters")):a=new Rr(J(t,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):r.push(new D(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(i!==null)if(i.trackBy===null)r.push(new D(n.startSourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??n.endSourceSpan,c=new P(n.sourceSpan.start,l?.end??n.sourceSpan.end);o=new Ns(i.itemName,i.expression,i.trackBy.expression,i.trackBy.keywordSpan,i.context,J(t,n.children,n.children),a,c,n.sourceSpan,n.startSourceSpan,l,n.nameSpan,n.i18n)}return{node:o,errors:r}}function nA(n,e,t){let s=oA(n),r=n.parameters.length>0?ri(n.parameters[0],t):t.parseBinding("",!1,n.sourceSpan,0),i=[],o=[],a=null;for(let l of n.children){if(!(l instanceof st))continue;if((l.name!=="case"||l.parameters.length===0)&&l.name!=="default"){o.push(new ko(l.name,l.sourceSpan,l.nameSpan));continue}let c=l.name==="case"?ri(l.parameters[0],t):null,p=new Br(c,J(e,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n);c===null?a=p:i.push(p)}return a!==null&&i.push(a),{node:new _o(r,i,o,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan),errors:s}}function sA(n,e,t){if(n.parameters.length===0)return e.push(new D(n.startSourceSpan,"@for loop does not have an expression")),null;let[s,...r]=n.parameters,i=aA(s,e)?.match(YC);if(!i||i[2].trim().length===0)return e.push(new D(s.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,a]=i;gr.has(o)&&e.push(new D(s.sourceSpan,`@for loop item name cannot be one of ${Array.from(gr).join(", ")}.`));let l=s.expression.split(" ")[0],c=new P(s.sourceSpan.start,s.sourceSpan.start.moveBy(l.length)),p={itemName:new hn(o,"$implicit",c,c),trackBy:null,expression:ri(s,t,a),context:Array.from(gr,h=>{let m=new P(n.startSourceSpan.end,n.startSourceSpan.end);return new hn(h,h,m,m)})};for(let h of r){let m=h.expression.match(JC);if(m!==null){let w=new P(h.sourceSpan.start.moveBy(m[0].length-m[1].length),h.sourceSpan.end);rA(h.sourceSpan,m[1],w,o,p.context,e);continue}let E=h.expression.match(QC);if(E!==null){if(p.trackBy!==null)e.push(new D(h.sourceSpan,'@for loop can only have one "track" expression'));else{let w=ri(h,t,E[1]);w.ast instanceof Me&&e.push(new D(n.startSourceSpan,'@for loop must have a "track" expression'));let x=new P(h.sourceSpan.start,h.sourceSpan.start.moveBy(5));p.trackBy={expression:w,keywordSpan:x}}continue}e.push(new D(h.sourceSpan,`Unrecognized @for loop parameter "${h.expression}"`))}return p}function rA(n,e,t,s,r,i){let o=e.split(","),a=t.start;for(let l of o){let c=l.split("="),p=c.length===2?c[0].trim():"",h=c.length===2?c[1].trim():"";if(p.length===0||h.length===0)i.push(new D(n,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!gr.has(h))i.push(new D(n,`Unknown "let" parameter variable "${h}". The allowed variables are: ${Array.from(gr).join(", ")}`));else if(p===s)i.push(new D(n,`Invalid @for loop "let" parameter. Variable cannot be called "${s}"`));else if(r.some(m=>m.name===p))i.push(new D(n,`Duplicate "let" parameter variable "${h}"`));else{let[,m,E]=c[0].match(Xh)??[],w=m!==void 0&&c.length===2?new P(a.moveBy(m.length),a.moveBy(m.length+E.length)):t,x;if(c.length===2){let[,A,N]=c[1].match(Xh)??[];x=A!==void 0?new P(a.moveBy(c[0].length+1+A.length),a.moveBy(c[0].length+1+A.length+N.length)):void 0}let T=new P(w.start,x?.end??w.end);r.push(new hn(p,h,T,w,x))}a=a.moveBy(l.length+1)}}function iA(n){let e=[],t=!1;for(let s=0;s<n.length;s++){let r=n[s];r.name==="else"?(t?e.push(new D(r.startSourceSpan,"Conditional can only have one @else block")):n.length>1&&s<n.length-1?e.push(new D(r.startSourceSpan,"@else block must be last inside the conditional")):r.parameters.length>0&&e.push(new D(r.startSourceSpan,"@else block cannot have parameters")),t=!0):qc.test(r.name)||e.push(new D(r.startSourceSpan,`Unrecognized conditional block @${r.name}`))}return e}function oA(n){let e=[],t=!1;if(n.parameters.length!==1)return e.push(new D(n.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let s of n.children)if(!(s instanceof Kr||s instanceof Qn&&s.value.trim().length===0)){if(!(s instanceof st)||s.name!=="case"&&s.name!=="default"){e.push(new D(s.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}s.name==="default"?(t?e.push(new D(s.startSourceSpan,"@switch block can only have one @default block")):s.parameters.length>0&&e.push(new D(s.startSourceSpan,"@default block cannot have parameters")),t=!0):s.name==="case"&&s.parameters.length!==1&&e.push(new D(s.startSourceSpan,"@case block must have exactly one parameter"))}return e}function ri(n,e,t){let s,r;return typeof t=="string"?(s=Math.max(0,n.expression.lastIndexOf(t)),r=s+t.length):(s=0,r=n.expression.length),e.parseBinding(n.expression.slice(s,r),!1,n.sourceSpan,n.sourceSpan.start.offset+s)}function Zh(n,e,t){if(n.parameters.length===0)return e.push(new D(n.startSourceSpan,"Conditional block does not have an expression")),null;let s=ri(n.parameters[0],t),r=null;for(let i=1;i<n.parameters.length;i++){let o=n.parameters[i],a=o.expression.match(ZC);if(a===null)e.push(new D(o.sourceSpan,`Unrecognized conditional parameter "${o.expression}"`));else if(n.name!=="if")e.push(new D(o.sourceSpan,'"as" expression is only allowed on the primary @if block'));else if(r!==null)e.push(new D(o.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim();if(KC.test(l)){let c=o.sourceSpan.start.moveBy(a[1].length),p=new P(c,c.moveBy(l.length));r=new hn(l,l,p,p)}else e.push(new D(o.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}}return{expression:s,expressionAlias:r}}function aA(n,e){let t=n.expression,s=/^\s$/,r=0,i=0,o=t.length-1;for(let a=0;a<t.length;a++){let l=t[a];if(l==="(")i=a+1,r++;else{if(s.test(l))continue;break}}if(r===0)return t;for(let a=t.length-1;a>-1;a--){let l=t[a];if(l===")"){if(o=a,r--,r===0)break}else{if(s.test(l))continue;break}}return r!==0?(e.push(new D(n.sourceSpan,"Unclosed parentheses in expression")),null):t.slice(i,o)}var lA=/^\d+\.?\d*(ms|s)?$/,cA=/^\s$/,Jh=new Map([[gt,Re],[Ss,ds],[vt,Ie]]),$e=function(n){return n.IDLE="idle",n.TIMER="timer",n.INTERACTION="interaction",n.IMMEDIATE="immediate",n.HOVER="hover",n.VIEWPORT="viewport",n.NEVER="never",n}($e||{});function uA({expression:n,sourceSpan:e},t,s){let r=n.indexOf("never"),i=new P(e.start.moveBy(r),e.start.moveBy(r+5)),o=Vc(n,e),a=Hc(n,e);r===-1?s.push(new D(e,'Could not find "never" keyword in expression')):jc("never",t,s,new hl(i,e,o,null,a))}function ja({expression:n,sourceSpan:e},t,s,r){let i=n.indexOf("when"),o=new P(e.start.moveBy(i),e.start.moveBy(i+4)),a=Vc(n,e),l=Hc(n,e);if(i===-1)r.push(new D(e,'Could not find "when" keyword in expression'));else{let c=ii(n,i+1),p=t.parseBinding(n.slice(c),!1,e,e.start.offset+c);jc("when",s,r,new xo(p,e,a,o,l))}}function Wa({expression:n,sourceSpan:e},t,s,r){let i=n.indexOf("on"),o=new P(e.start.moveBy(i),e.start.moveBy(i+2)),a=Vc(n,e),l=Hc(n,e);if(i===-1)s.push(new D(e,'Could not find "on" keyword in expression'));else{let c=ii(n,i+1);new rc(n,c,e,t,s,n.startsWith("hydrate")?EA:vA,r,a,o,l).parse()}}function Vc(n,e){return n.startsWith("prefetch")?new P(e.start,e.start.moveBy(8)):null}function Hc(n,e){return n.startsWith("hydrate")?new P(e.start,e.start.moveBy(7)):null}var rc=class{expression;start;span;triggers;errors;validator;placeholder;prefetchSpan;onSourceSpan;hydrateSpan;index=0;tokens;constructor(e,t,s,r,i,o,a,l,c,p){this.expression=e,this.start=t,this.span=s,this.triggers=r,this.errors=i,this.validator=o,this.placeholder=a,this.prefetchSpan=l,this.onSourceSpan=c,this.hydrateSpan=p,this.tokens=new ni().tokenize(e.slice(t))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(at))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(vt)){this.advance();let t=this.errors.length,s=this.consumeParameters();if(this.errors.length!==t)break;this.consumeTrigger(e,s),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,t){let s=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),r=new P(s,s.moveBy(e.strValue.length)),i=s.moveBy(this.token().end-e.index),o=e.index===0,a=o?this.onSourceSpan:null,l=o?this.prefetchSpan:null,c=o?this.hydrateSpan:null,p=new P(o?this.span.start:s,i);try{switch(e.toString()){case $e.IDLE:this.trackTrigger("idle",pA(t,r,p,l,a,c));break;case $e.TIMER:this.trackTrigger("timer",hA(t,r,p,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case $e.INTERACTION:this.trackTrigger("interaction",mA(t,r,p,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case $e.IMMEDIATE:this.trackTrigger("immediate",dA(t,r,p,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case $e.HOVER:this.trackTrigger("hover",fA(t,r,p,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case $e.VIEWPORT:this.trackTrigger("viewport",gA(t,r,p,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(h){this.error(e,h.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(vt))return this.unexpectedToken(this.token()),e;this.advance();let t=[],s="";for(;this.index<this.tokens.length;){let r=this.token();if(r.isCharacter(Ie)&&t.length===0){s.length&&e.push(s);break}if(r.type===M.Character&&Jh.has(r.numValue)&&t.push(Jh.get(r.numValue)),t.length>0&&r.isCharacter(t[t.length-1])&&t.pop(),t.length===0&&r.isCharacter(at)&&s.length>0){e.push(s),s="",this.advance();continue}s+=this.tokenText(),this.advance()}return(!this.token().isCharacter(Ie)||t.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(at)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,t){jc(e,this.triggers,this.errors,t)}error(e,t){let s=this.span.start.moveBy(this.start+e.index),r=s.moveBy(e.end-e.index);this.errors.push(new D(new P(s,r),t))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function jc(n,e,t,s){e[n]?t.push(new D(s.sourceSpan,`Duplicate "${n}" trigger is not allowed`)):e[n]=s}function pA(n,e,t,s,r,i){if(n.length>0)throw new Error(`"${$e.IDLE}" trigger cannot have parameters`);return new dl(e,t,s,r,i)}function hA(n,e,t,s,r,i){if(n.length!==1)throw new Error(`"${$e.TIMER}" trigger must have exactly one parameter`);let o=la(n[0]);if(o===null)throw new Error(`Could not parse time value of trigger "${$e.TIMER}"`);return new ml(o,e,t,s,r,i)}function dA(n,e,t,s,r,i){if(n.length>0)throw new Error(`"${$e.IMMEDIATE}" trigger cannot have parameters`);return new fl(e,t,s,r,i)}function fA(n,e,t,s,r,i,o,a){return a($e.HOVER,n),new Co(n[0]??null,e,t,s,r,i)}function mA(n,e,t,s,r,i,o){return o($e.INTERACTION,n),new Ao(n[0]??null,e,t,s,r,i)}function gA(n,e,t,s,r,i,o){return o($e.VIEWPORT,n),new bo(n[0]??null,e,t,s,r,i)}function vA(n,e){if(e.length>1)throw new Error(`"${n}" trigger can only have zero or one parameters`)}function EA(n,e){if(e.length>0)throw new Error(`Hydration trigger "${n}" cannot have parameters`)}function ii(n,e=0){let t=!1;for(let s=e;s<n.length;s++)if(cA.test(n[s]))t=!0;else if(t)return s;return-1}function la(n){let e=n.match(lA);if(!e)return null;let[t,s]=e;return parseFloat(t)*(s==="s"?1e3:1)}var wA=/^prefetch\s+when\s/,SA=/^prefetch\s+on\s/,yA=/^hydrate\s+when\s/,xA=/^hydrate\s+on\s/,CA=/^hydrate\s+never(\s*)$/,Rf=/^minimum\s/,AA=/^after\s/,bA=/^when\s/,_A=/^on\s/;function ic(n){return n==="placeholder"||n==="loading"||n==="error"}function TA(n,e,t,s){let r=[],{placeholder:i,loading:o,error:a}=kA(e,r,t),{triggers:l,prefetchTriggers:c,hydrateTriggers:p}=PA(n,s,r,i),h=n.endSourceSpan,m=n.sourceSpan.end;if(e.length>0){let x=e[e.length-1];h=x.endSourceSpan,m=x.sourceSpan.end}let E=new P(n.sourceSpan.start,m);return{node:new jn(J(t,n.children,n.children),l,c,p,i,o,a,n.nameSpan,E,n.sourceSpan,n.startSourceSpan,h,n.i18n),errors:r}}function kA(n,e,t){let s=null,r=null,i=null;for(let o of n)try{if(!ic(o.name)){e.push(new D(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":s!==null?e.push(new D(o.startSourceSpan,"@defer block can only have one @placeholder block")):s=IA(o,t);break;case"loading":r!==null?e.push(new D(o.startSourceSpan,"@defer block can only have one @loading block")):r=NA(o,t);break;case"error":i!==null?e.push(new D(o.startSourceSpan,"@defer block can only have one @error block")):i=DA(o,t);break}}catch(a){e.push(new D(o.startSourceSpan,a.message))}return{placeholder:s,loading:r,error:i}}function IA(n,e){let t=null;for(let s of n.parameters)if(Rf.test(s.expression)){if(t!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let r=la(s.expression.slice(ii(s.expression)));if(r===null)throw new Error('Could not parse time value of parameter "minimum"');t=r}else throw new Error(`Unrecognized parameter in @placeholder block: "${s.expression}"`);return new Pr(J(e,n.children,n.children),t,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function NA(n,e){let t=null,s=null;for(let r of n.parameters)if(AA.test(r.expression)){if(t!=null)throw new Error('@loading block can only have one "after" parameter');let i=la(r.expression.slice(ii(r.expression)));if(i===null)throw new Error('Could not parse time value of parameter "after"');t=i}else if(Rf.test(r.expression)){if(s!=null)throw new Error('@loading block can only have one "minimum" parameter');let i=la(r.expression.slice(ii(r.expression)));if(i===null)throw new Error('Could not parse time value of parameter "minimum"');s=i}else throw new Error(`Unrecognized parameter in @loading block: "${r.expression}"`);return new Lr(J(e,n.children,n.children),t,s,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function DA(n,e){if(n.parameters.length>0)throw new Error("@error block cannot have parameters");return new Mr(J(e,n.children,n.children),n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function PA(n,e,t,s){let r={},i={},o={};for(let a of n.parameters)bA.test(a.expression)?ja(a,e,r,t):_A.test(a.expression)?Wa(a,r,t,s):wA.test(a.expression)?ja(a,e,i,t):SA.test(a.expression)?Wa(a,i,t,s):yA.test(a.expression)?ja(a,e,o,t):xA.test(a.expression)?Wa(a,o,t,s):CA.test(a.expression)?uA(a,o,t):t.push(new D(a.sourceSpan,"Unrecognized trigger"));return o.never&&Object.keys(o).length>1&&t.push(new D(n.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:r,prefetchTriggers:i,hydrateTriggers:o}}var LA=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,Kh=1,ed=2,td=3,nd=4,sd=5,MA=6,tr=7,Kt={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},Ga="*",BA=new Set(["link","style","script","ng-template","ng-container","ng-content"]),RA=new Set(["ngProjectAs","ngNonBindable"]);function $A(n,e,t){let s=new oc(e,t),r=J(s,n,n),i=e.errors.concat(s.errors),o={nodes:r,errors:i,styleUrls:s.styleUrls,styles:s.styles,ngContentSelectors:s.ngContentSelectors};return t.collectCommentNodes&&(o.commentNodes=s.commentNodes),o}var oc=class{bindingParser;options;errors=[];styles=[];styleUrls=[];ngContentSelectors=[];commentNodes=[];inI18nBlock=!1;processedNodes=new Set;constructor(e,t){this.bindingParser=e,this.options=t}visitElement(e){let t=Xi(e.i18n);t&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let s=Bf(e);if(s.type===Ge.SCRIPT)return null;if(s.type===Ge.STYLE){let A=OA(e);return A!==null&&this.styles.push(A),null}else if(s.type===Ge.STYLESHEET&&$C(s.hrefAttr))return this.styleUrls.push(s.hrefAttr),null;let r=gv(e.name),{attributes:i,boundEvents:o,references:a,variables:l,templateVariables:c,elementHasInlineTemplate:p,parsedProperties:h,templateParsedProperties:m,i18nAttrsMeta:E}=this.prepareAttributes(e.attrs,r),w=this.extractDirectives(e),x;s.nonBindable?x=J(rd,e.children).flat(1/0):x=J(this,e.children,e.children);let T;if(s.type===Ge.NG_CONTENT){let A=s.selectAttr,N=e.attrs.map(Y=>this.visitAttribute(Y));T=new Ds(A,N,x,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n),this.ngContentSelectors.push(A)}else if(r){let A=this.categorizePropertyAttributes(e.name,h,E);T=new Ye(e.name,i,A.bound,o,w,[],x,a,l,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let A=this.categorizePropertyAttributes(e.name,h,E);T=new Bt(e.name,i,A.bound,o,w,x,a,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}return p&&(T=this.wrapInTemplate(T,m,c,E,r,t)),t&&(this.inI18nBlock=!1),T}visitAttribute(e){return new Is(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!Xi(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let t=e.i18n,s={},r={};return Object.keys(t.placeholders).forEach(i=>{let o=t.placeholders[i];if(i.startsWith(Sv)){let a=i.trim(),l=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);s[a]=new ks(l,o.sourceSpan)}else r[i]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new xd(s,r,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new fa(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,t){let s=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return s.errors.length===0&&s.ast instanceof Me&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new Cc(e.name,s,e.sourceSpan,e.nameSpan,e.valueSpan)}visitComponent(e){let t=Xi(e.i18n);if(t&&(this.inI18nBlock&&this.reportError("Cannot mark a component as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0),e.tagName!==null&&BA.has(e.tagName))return this.reportError(`Tag name "${e.tagName}" cannot be used as a component tag`,e.startSourceSpan),null;let{attributes:s,boundEvents:r,references:i,templateVariables:o,elementHasInlineTemplate:a,parsedProperties:l,templateParsedProperties:c,i18nAttrsMeta:p}=this.prepareAttributes(e.attrs,!1);this.validateSelectorlessReferences(i);let h=this.extractDirectives(e),m;e.attrs.find(x=>x.name==="ngNonBindable")?m=J(rd,e.children).flat(1/0):m=J(this,e.children,e.children);let E=this.categorizePropertyAttributes(e.tagName,l,p),w=new ur(e.componentName,e.tagName,e.fullName,s,E.bound,r,h,m,i,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return a&&(w=this.wrapInTemplate(w,c,o,p,!1,t)),t&&(this.inI18nBlock=!1),w}visitDirective(){return null}visitBlockParameter(){return null}visitBlock(e,t){let s=Array.isArray(t)?t.indexOf(e):-1;if(s===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let r=null;switch(e.name){case"defer":r=TA(e,this.findConnectedBlocks(s,t,ic),this,this.bindingParser);break;case"switch":r=nA(e,this,this.bindingParser);break;case"for":r=tA(e,this.findConnectedBlocks(s,t,Yh),this,this.bindingParser);break;case"if":r=eA(e,this.findConnectedBlocks(s,t,Qh),this,this.bindingParser);break;default:let i;ic(e.name)?(i=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):Yh(e.name)?(i=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):Qh(e.name)?(i=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):i=`Unrecognized block @${e.name}.`,r={node:new ko(e.name,e.sourceSpan,e.nameSpan),errors:[new D(e.sourceSpan,i)]};break}return this.errors.push(...r.errors),r.node}findConnectedBlocks(e,t,s){let r=[];for(let i=e+1;i<t.length;i++){let o=t[i];if(!(o instanceof Kr)){if(o instanceof Qn&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof st)||!s(o.name))break;r.push(o),this.processedNodes.add(o)}}return r}categorizePropertyAttributes(e,t,s){let r=[],i=[];return t.forEach(o=>{let a=s[o.name];if(o.isLiteral)i.push(new Is(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,o,!0,!1);r.push(ul.fromBoundElementProperty(l,a))}}),{bound:r,literal:i}}prepareAttributes(e,t){let s=[],r=[],i=[],o=[],a=[],l={},c=[],p=[],h=!1;for(let m of e){let E=!1,w=id(m.name),x=!1;if(m.i18n&&(l[m.name]=m.i18n),w.startsWith(Ga)){h&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",m.sourceSpan),x=!0,h=!0;let T=m.value,A=w.substring(Ga.length),N=[],Y=m.valueSpan?m.valueSpan.start.offset:m.sourceSpan.start.offset+m.name.length;this.bindingParser.parseInlineTemplateBinding(A,T,m.sourceSpan,Y,[],c,N,!0),p.push(...N.map(K=>new hn(K.name,K.value,K.sourceSpan,K.keySpan,K.valueSpan)))}else E=this.parseAttribute(t,m,[],s,r,i,o);!E&&!x&&a.push(this.visitAttribute(m))}return{attributes:a,boundEvents:r,references:o,variables:i,templateVariables:p,elementHasInlineTemplate:h,parsedProperties:s,templateParsedProperties:c,i18nAttrsMeta:l}}parseAttribute(e,t,s,r,i,o,a){let l=id(t.name),c=t.value,p=t.sourceSpan,h=t.valueSpan?t.valueSpan.start.offset:p.start.offset;function m(A,N,Y){let K=t.name.length-l.length,ae=A.start.moveBy(N.length+K),wa=ae.moveBy(Y.length);return new P(ae,wa,ae,Y)}let E=l.match(LA);if(E){if(E[Kh]!=null){let A=E[tr],N=m(p,E[Kh],A);this.bindingParser.parsePropertyBinding(A,c,!1,!1,p,h,t.valueSpan,s,r,N)}else if(E[ed])if(e){let A=E[tr],N=m(p,E[ed],A);this.parseVariable(A,c,p,N,t.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',p);else if(E[td]){let A=E[tr],N=m(p,E[td],A);this.parseReference(A,c,p,N,t.valueSpan,a)}else if(E[nd]){let A=[],N=E[tr],Y=m(p,E[nd],N);this.bindingParser.parseEvent(N,c,!1,p,t.valueSpan||p,s,A,Y),za(A,i)}else if(E[sd]){let A=E[tr],N=m(p,E[sd],A);this.bindingParser.parsePropertyBinding(A,c,!1,!0,p,h,t.valueSpan,s,r,N),this.parseAssignmentEvent(A,c,p,t.valueSpan,s,i,N)}else if(E[MA]){let A=m(p,"",l);this.bindingParser.parseLiteralAttr(l,c,p,h,t.valueSpan,s,r,A)}return!0}let w=null;if(l.startsWith(Kt.BANANA_BOX.start)?w=Kt.BANANA_BOX:l.startsWith(Kt.PROPERTY.start)?w=Kt.PROPERTY:l.startsWith(Kt.EVENT.start)&&(w=Kt.EVENT),w!==null&&l.endsWith(w.end)&&l.length>w.start.length+w.end.length){let A=l.substring(w.start.length,l.length-w.end.length),N=m(p,w.start,A);if(w.start===Kt.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(A,c,!1,!0,p,h,t.valueSpan,s,r,N),this.parseAssignmentEvent(A,c,p,t.valueSpan,s,i,N);else if(w.start===Kt.PROPERTY.start)this.bindingParser.parsePropertyBinding(A,c,!1,!1,p,h,t.valueSpan,s,r,N);else{let Y=[];this.bindingParser.parseEvent(A,c,!1,p,t.valueSpan||p,s,Y,N),za(Y,i)}return!0}let x=m(p,"",l);return this.bindingParser.parsePropertyInterpolation(l,c,p,t.valueSpan,s,r,x,t.valueTokens??null)}extractDirectives(e){let t=e instanceof Be?e.tagName:e.name,s=[],r=new Set;for(let i of e.directives){let o=!1;for(let E of i.attrs)E.name.startsWith(Ga)?(o=!0,this.reportError(`Shorthand template syntax "${E.name}" is not supported inside a directive context`,E.sourceSpan)):RA.has(E.name)&&(o=!0,this.reportError(`Attribute "${E.name}" is not supported in a directive context`,E.sourceSpan));if(!o&&r.has(i.name)&&(o=!0,this.reportError(`Cannot apply directive "${i.name}" multiple times on the same element`,i.sourceSpan)),o)continue;let{attributes:a,parsedProperties:l,boundEvents:c,references:p,i18nAttrsMeta:h}=this.prepareAttributes(i.attrs,!1);this.validateSelectorlessReferences(p);let{bound:m}=this.categorizePropertyAttributes(t,l,h);for(let E of m)E.type!==G.Property&&E.type!==G.TwoWay&&(o=!0,this.reportError("Binding is not supported in a directive context",E.sourceSpan));o||(r.add(i.name),s.push(new yd(i.name,a,m,c,p,i.sourceSpan,i.startSourceSpan,i.endSourceSpan,void 0)))}return s}wrapInTemplate(e,t,s,r,i,o){let a=this.categorizePropertyAttributes("ng-template",t,r),l=[];a.literal.forEach(m=>l.push(m)),a.bound.forEach(m=>l.push(m));let c={attributes:[],inputs:[],outputs:[]};(e instanceof Bt||e instanceof ur)&&(c.attributes.push(...e.attributes),c.inputs.push(...e.inputs),c.outputs.push(...e.outputs));let p=i&&o?void 0:e.i18n,h;return e instanceof ur?h=e.tagName:e instanceof Ye?h=null:h=e.name,new Ye(h,c.attributes,c.inputs,c.outputs,[],l,[e],[],s,!1,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,p)}_visitTextWithInterpolation(e,t,s,r){let i=pf(e),o=this.bindingParser.parseInterpolation(i,t,s);return o?new ks(o,t,r):new In(i,t)}parseVariable(e,t,s,r,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',s):e.length===0&&this.reportError("Variable does not have a name",s),o.push(new hn(e,t,s,r,i))}parseReference(e,t,s,r,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',s):e.length===0?this.reportError("Reference does not have a name",s):o.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,s),o.push(new $r(e,t,s,r,i))}parseAssignmentEvent(e,t,s,r,i,o,a){let l=[];this.bindingParser.parseEvent(`${e}Change`,t,!0,s,r||s,i,l,a),za(l,o)}validateSelectorlessReferences(e){if(e.length===0)return;let t=new Set;for(let s of e)s.value.length>0?this.reportError("Cannot specify a value for a local reference in this context",s.valueSpan||s.sourceSpan):t.has(s.name)?this.reportError("Duplicate reference names are not allowed",s.sourceSpan):t.add(s.name)}reportError(e,t,s=an.ERROR){this.errors.push(new D(t,e,s))}},ac=class{visitElement(e){let t=Bf(e);if(t.type===Ge.SCRIPT||t.type===Ge.STYLE||t.type===Ge.STYLESHEET)return null;let s=J(this,e.children,null);return new Bt(e.name,J(this,e.attrs),[],[],[],s,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new Is(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new In(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,t){let s=[new In(e.startSourceSpan.toString(),e.startSourceSpan),...J(this,e.children)];return e.endSourceSpan!==null&&s.push(new In(e.endSourceSpan.toString(),e.endSourceSpan)),s}visitBlockParameter(e,t){return null}visitLetDeclaration(e,t){return new In(`@let ${e.name} = ${e.value};`,e.sourceSpan)}visitComponent(e,t){let s=J(this,e.children,null);return new Bt(e.fullName,J(this,e.attrs),[],[],[],s,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitDirective(e,t){return null}},rd=new ac;function id(n){return/^data-/i.test(n)?n.substring(5):n}function za(n,e){e.push(...n.map(t=>pl.fromParsedEvent(t)))}function OA(n){return n.children.length!==1||!(n.children[0]instanceof Qn)?null:n.children[0].value}var FA=[" ",`
`,"\r","	"];function UA(n,e,t={}){let{interpolationConfig:s,preserveWhitespaces:r,enableI18nLegacyMessageIdFormat:i}=t,o=t.enableSelectorless??!1,a=ca(s,o),c=new tc().parse(n,e,V(v({leadingTriviaChars:FA},t),{tokenizeExpansionForms:!0,tokenizeBlocks:t.enableBlockSyntax??!0,tokenizeLet:t.enableLetSyntax??!0,selectorlessEnabled:o}));if(!t.alwaysAttemptHtmlToR3AstConversion&&c.errors&&c.errors.length>0){let ae={interpolationConfig:s,preserveWhitespaces:r,errors:c.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&(ae.commentNodes=[]),ae}let p=c.rootNodes,h=!(t.preserveSignificantWhitespace??!0),m=new ea(s,!r,i,void 0,t.preserveSignificantWhitespace,h),E=m.visitAllWithErrors(p);if(!t.alwaysAttemptHtmlToR3AstConversion&&E.errors&&E.errors.length>0){let ae={interpolationConfig:s,preserveWhitespaces:r,errors:E.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&(ae.commentNodes=[]),ae}p=E.rootNodes,r||(p=J(new Jo(!0,void 0,!1),p),m.hasI18nMeta&&(p=J(new ea(s,!1,void 0,void 0,!0,h),p)));let{nodes:w,errors:x,styleUrls:T,styles:A,ngContentSelectors:N,commentNodes:Y}=$A(p,a,{collectCommentNodes:!!t.collectCommentNodes});x.push(...c.errors,...E.errors);let K={interpolationConfig:s,preserveWhitespaces:r,errors:x.length>0?x:null,nodes:w,styleUrls:T,styles:A,ngContentSelectors:N};return t.collectCommentNodes&&(K.commentNodes=Y),K}var qA=new Us;function ca(n=kt,e=!1){return new nc(new Ko(new ni,e),n,qA,[])}var $f="%COMP%",VA=`_nghost-${$f}`,HA=`_ngcontent-${$f}`;function Of(n,e,t){let s=new mn,r=Ec(n.selector);return s.set("type",n.type.value),r.length>0&&s.set("selectors",hs(r)),n.queries.length>0&&s.set("contentQueries",PC(n.queries,e,n.name)),n.viewQueries.length&&s.set("viewQuery",DC(n.viewQueries,e,n.name)),s.set("hostBindings",ZA(n.host,n.typeSourceSpan,t,e,n.selector||"",n.name,s)),s.set("inputs",Fp(n.inputs,!0)),s.set("outputs",Fp(n.outputs)),n.exportAs!==null&&s.set("exportAs",H(n.exportAs.map(i=>g(i)))),n.isStandalone===!1&&s.set("standalone",g(!1)),n.isSignal&&s.set("signals",g(!0)),s}function Ff(n,e){let t=[],s=e.providers,r=e.viewProviders;if(s||r){let i=[s||new Et([])];r&&i.push(r),t.push(_(d.ProvidersFeature).callFn(i))}if(e.hostDirectives?.length&&t.push(_(d.HostDirectivesFeature).callFn([nb(e.hostDirectives)])),e.usesInheritance&&t.push(_(d.InheritDefinitionFeature)),e.fullInheritance&&t.push(_(d.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&t.push(_(d.NgOnChangesFeature)),"externalStyles"in e&&e.externalStyles?.length){let i=e.externalStyles.map(o=>g(o));t.push(_(d.ExternalStylesFeature).callFn([H(i)]))}t.length&&n.set("features",H(t))}function jA(n,e,t){let s=Of(n,e,t);Ff(s,n);let r=_(d.defineDirective).callFn([s.toLiteralMap()],void 0,!0),i=QA(n);return{expression:r,type:i,statements:[]}}function WA(n,e,t){let s=Of(n,e,t);Ff(s,n);let r=n.selector&&xs.parse(n.selector),i=r&&r[0];if(i){let w=i.getAttrs();w.length&&s.set("attrs",e.getConstLiteral(H(w.map(x=>x!=null?g(x):g(void 0))),!0))}let o=n.name,a=null;if(n.defer.mode===1&&n.defer.dependenciesFn!==null){let w=`${o}_DeferFn`;e.statements.push(new pe(w,n.defer.dependenciesFn,void 0,we.Final)),a=O(w)}let l=n.isStandalone&&!n.hasDirectiveDependencies?Ve.DomOnly:Ve.Full,c=aC(n.name,n.template.nodes,e,l,n.relativeContextFilePath,n.i18nUseExternalIds,n.defer,a,n.relativeTemplatePath,kC());Af(c,C.Tmpl);let p=rC(c,e);if(c.contentSelectors!==null&&s.set("ngContentSelectors",c.contentSelectors),s.set("decls",g(c.root.decls)),s.set("vars",g(c.root.vars)),c.consts.length>0&&(c.constsInitializers.length>0?s.set("consts",wt([],[...c.constsInitializers,new be(H(c.consts))])):s.set("consts",H(c.consts))),s.set("template",p),n.declarationListEmitMode!==3&&n.declarations.length>0)s.set("dependencies",zA(H(n.declarations.map(w=>w.type)),n.declarationListEmitMode));else if(n.declarationListEmitMode===3){let w=[n.type.value];n.rawImports&&w.push(n.rawImports),s.set("dependencies",_(d.getComponentDepsFactory).callFn(w))}n.encapsulation===null&&(n.encapsulation=An.Emulated);let h=!!n.externalStyles?.length;if(n.styles&&n.styles.length){let x=(n.encapsulation==An.Emulated?tb(n.styles,HA,VA):n.styles).reduce((T,A)=>(A.trim().length>0&&T.push(e.getConstLiteral(g(A))),T),[]);x.length>0&&(h=!0,s.set("styles",H(x)))}!h&&n.encapsulation===An.Emulated&&(n.encapsulation=An.None),n.encapsulation!==An.Emulated&&s.set("encapsulation",g(n.encapsulation)),n.animations!==null&&s.set("data",De([{key:"animation",value:n.animations,quoted:!1}])),n.changeDetection!==null&&(typeof n.changeDetection=="number"&&n.changeDetection!==vc.Default?s.set("changeDetection",g(n.changeDetection)):typeof n.changeDetection=="object"&&s.set("changeDetection",n.changeDetection));let m=_(d.defineComponent).callFn([s.toLiteralMap()],void 0,!0),E=GA(n);return{expression:m,type:E,statements:[]}}function GA(n){let e=Uf(n);return e.push(cc(n.template.ngContentSelectors)),e.push(Se(g(n.isStandalone))),e.push(qf(n)),n.isSignal&&e.push(Se(g(n.isSignal))),Se(_(d.ComponentDeclaration,e))}function zA(n,e){switch(e){case 0:return n;case 1:return wt([],n);case 2:let t=n.prop("map").callFn([_(d.resolveForwardRef)]);return wt([],t);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function XA(n){return Se(g(n))}function lc(n){let e=Object.keys(n).map(t=>{let s=Array.isArray(n[t])?n[t][0]:n[t];return{key:t,value:g(s),quoted:!0}});return De(e)}function cc(n){return n.length>0?Se(H(n.map(e=>g(e)))):Nt}function Uf(n){let e=n.selector!==null?n.selector.replace(/\n/g,""):null;return[da(n.type.type,n.typeArgumentCount),e!==null?XA(e):Nt,n.exportAs!==null?cc(n.exportAs):Nt,Se(YA(n)),Se(lc(n.outputs)),cc(n.queries.map(t=>t.propertyName))]}function YA(n){return De(Object.keys(n.inputs).map(e=>{let t=n.inputs[e],s=[{key:"alias",value:g(t.bindingPropertyName),quoted:!0},{key:"required",value:g(t.required),quoted:!0}];return t.isSignal&&s.push({key:"isSignal",value:g(t.isSignal),quoted:!0}),{key:e,value:De(s),quoted:!0}}))}function QA(n){let e=Uf(n);return e.push(Nt),e.push(Se(g(n.isStandalone))),e.push(qf(n)),n.isSignal&&e.push(Se(g(n.isSignal))),Se(_(d.DirectiveDeclaration,e))}function ZA(n,e,t,s,r,i,o){let a=t.createBoundHostProperties(n.properties,e),l=t.createDirectiveHostEventAsts(n.listeners,e);n.specialAttributes.styleAttr&&(n.attributes.style=g(n.specialAttributes.styleAttr)),n.specialAttributes.classAttr&&(n.attributes.class=g(n.specialAttributes.classAttr));let c=lC({componentName:i,componentSelector:r,properties:a,events:l,attributes:n.attributes},t,s);Af(c,C.Host),o.set("hostAttrs",c.root.attributes);let p=c.root.vars;return p!==null&&p>0&&o.set("hostVars",g(p)),iC(c)}var JA=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function KA(n){let e={},t={},s={},r={};for(let i of Object.keys(n)){let o=n[i],a=i.match(JA);if(a===null)switch(i){case"class":if(typeof o!="string")throw new Error("Class binding must be string");r.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");r.styleAttr=o;break;default:typeof o=="string"?e[i]=g(o):e[i]=o}else if(a[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");s[a[1]]=o}else if(a[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");t[a[2]]=o}}return{attributes:e,listeners:t,properties:s,specialAttributes:r}}function eb(n,e){let t=ca();return t.createDirectiveHostEventAsts(n.listeners,e),t.createBoundHostProperties(n.properties,e),t.errors}function tb(n,e,t){let s=new Al;return n.map(r=>s.shimCssText(r,e,t))}function qf(n){return n.hostDirectives?.length?Se(H(n.hostDirectives.map(e=>De([{key:"directive",value:ai(e.directive.type),quoted:!1},{key:"inputs",value:lc(e.inputs||{}),quoted:!1},{key:"outputs",value:lc(e.outputs||{}),quoted:!1}])))):Nt}function nb(n){let e=[],t=!1;for(let s of n){if(!s.inputs&&!s.outputs)e.push(s.directive.type);else{let r=[{key:"directive",value:s.directive.type,quoted:!1}];if(s.inputs){let i=od(s.inputs);i&&r.push({key:"inputs",value:i,quoted:!1})}if(s.outputs){let i=od(s.outputs);i&&r.push({key:"outputs",value:i,quoted:!1})}e.push(De(r))}s.isForwardReference&&(t=!0)}return t?new cn([],[new be(H(e))]):H(e)}function od(n){let e=[];for(let t in n)n.hasOwnProperty(t)&&e.push(g(t),g(n[t]));return e.length>0?H(e):null}var uc=class extends wo{visit(e){e instanceof je?this.visit(e.ast):e.visit(this)}visitElement(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitTemplate(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.templateAttrs),this.visitAllTemplateNodes(e.variables),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitContent(e){this.visitAllTemplateNodes(e.children)}visitBoundAttribute(e){this.visit(e.value)}visitBoundEvent(e){this.visit(e.handler)}visitBoundText(e){this.visit(e.value)}visitIcu(e){Object.keys(e.vars).forEach(t=>this.visit(e.vars[t])),Object.keys(e.placeholders).forEach(t=>this.visit(e.placeholders[t]))}visitDeferredBlock(e){e.visitAll(this)}visitDeferredTrigger(e){e instanceof xo&&this.visit(e.value)}visitDeferredBlockPlaceholder(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockError(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockLoading(e){this.visitAllTemplateNodes(e.children)}visitSwitchBlock(e){this.visit(e.expression),this.visitAllTemplateNodes(e.cases)}visitSwitchBlockCase(e){e.expression&&this.visit(e.expression),this.visitAllTemplateNodes(e.children)}visitForLoopBlock(e){e.item.visit(this),this.visitAllTemplateNodes(e.contextVariables),this.visit(e.expression),this.visitAllTemplateNodes(e.children),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.visitAllTemplateNodes(e.children)}visitIfBlock(e){this.visitAllTemplateNodes(e.branches)}visitIfBlockBranch(e){e.expression&&this.visit(e.expression),e.expressionAlias?.visit(this),this.visitAllTemplateNodes(e.children)}visitLetDeclaration(e){this.visit(e.value)}visitComponent(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitDirective(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.references)}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitText(e){}visitUnknownBlock(e){}visitAllTemplateNodes(e){for(let t of e)this.visit(t)}};var pc=class{directiveMatcher;constructor(e){this.directiveMatcher=e}bind(e){if(!e.template&&!e.host)throw new Error("Empty bound targets are not supported");let t=new Map,s=[],r=new Set,i=new Map,o=new Map,a=new Map,l=new Map,c=new Map,p=new Map,h=new Set,m=new Set,E=[];if(e.template){let w=ua.apply(e.template);sb(w,a),hc.apply(e.template,this.directiveMatcher,t,s,r,i,o),pa.applyWithScope(e.template,w,l,c,p,h,m,E)}return e.host&&pa.applyWithScope(e.host,ua.apply(e.host),l,c,p,h,m,E),new dc(e,t,s,r,i,o,l,c,p,a,h,m,E)}},ua=class n{parentScope;rootNode;namedEntities=new Map;elementLikeInScope=new Set;childScopes=new Map;isDeferred;constructor(e,t){this.parentScope=e,this.rootNode=t,this.isDeferred=e!==null&&e.isDeferred?!0:t instanceof jn}static newRootScope(){return new n(null,null)}static apply(e){let t=n.newRootScope();return t.ingest(e),t}ingest(e){e instanceof Ye?(e.variables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof Pn?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(t=>t.visit(this))):e instanceof Ns?(this.visitVariable(e.item),e.contextVariables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof Br||e instanceof Rr||e instanceof jn||e instanceof Mr||e instanceof Pr||e instanceof Lr||e instanceof Ds?e.children.forEach(t=>t.visit(this)):e instanceof Io||e.forEach(t=>t.visit(this))}visitElement(e){this.visitElementLike(e)}visitTemplate(e){e.directives.forEach(t=>t.visit(this)),e.references.forEach(t=>this.visitReference(t)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitComponent(e){this.visitElementLike(e)}visitDirective(e){e.references.forEach(t=>this.visitReference(t))}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitElementLike(e){e.directives.forEach(t=>t.visit(this)),e.references.forEach(t=>this.visitReference(t)),e.children.forEach(t=>t.visit(this)),this.elementLikeInScope.add(e)}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let t=this.childScopes.get(e);if(t===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return t}ingestScopedNode(e){let t=new n(this,e);t.ingest(e),this.childScopes.set(e,t)}},hc=class n{directiveMatcher;directives;eagerDirectives;missingDirectives;bindings;references;isInDeferBlock=!1;constructor(e,t,s,r,i,o){this.directiveMatcher=e,this.directives=t,this.eagerDirectives=s,this.missingDirectives=r,this.bindings=i,this.references=o}static apply(e,t,s,r,i,o,a){new n(t,s,r,i,o,a).ingest(e)}ingest(e){e.forEach(t=>t.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitDeferredBlock(e){let t=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(s=>s.visit(this)),this.isInDeferBlock=t,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockError(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(t=>t.visit(this))}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){e.children.forEach(t=>t.visit(this))}visitForLoopBlock(e){e.item.visit(this),e.contextVariables.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(t=>t.visit(this))}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(t=>t.visit(this))}visitContent(e){e.children.forEach(t=>t.visit(this))}visitComponent(e){if(this.directiveMatcher instanceof Qi){let t=this.directiveMatcher.match(e.componentName);t.length>0?this.trackSelectorlessMatchesAndDirectives(e,t):this.missingDirectives.add(e.componentName)}e.directives.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this))}visitDirective(e){if(this.directiveMatcher instanceof Qi){let t=this.directiveMatcher.match(e.name);t.length>0?this.trackSelectorlessMatchesAndDirectives(e,t):this.missingDirectives.add(e.name)}}visitElementOrTemplate(e){if(this.directiveMatcher instanceof Yi){let t=[],s=Cv(e);this.directiveMatcher.match(s,(r,i)=>t.push(...i)),this.trackSelectorBasedBindingsAndDirectives(e,t)}else e.references.forEach(t=>{t.value.trim()===""&&this.references.set(t,e)});e.directives.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this))}trackMatchedDirectives(e,t){t.length>0&&(this.directives.set(e,t),this.isInDeferBlock||this.eagerDirectives.push(...t))}trackSelectorlessMatchesAndDirectives(e,t){if(t.length===0)return;this.trackMatchedDirectives(e,t);let s=(r,i,o)=>{r[o].hasBindingPropertyName(i.name)&&this.bindings.set(i,r)};for(let r of t)e.inputs.forEach(i=>s(r,i,"inputs")),e.attributes.forEach(i=>s(r,i,"inputs")),e.outputs.forEach(i=>s(r,i,"outputs"));e.references.forEach(r=>this.references.set(r,{directive:t[0],node:e}))}trackSelectorBasedBindingsAndDirectives(e,t){this.trackMatchedDirectives(e,t),e.references.forEach(r=>{let i=null;if(r.value.trim()==="")i=t.find(o=>o.isComponent)||null;else if(i=t.find(o=>o.exportAs!==null&&o.exportAs.some(a=>a===r.value))||null,i===null)return;i!==null?this.references.set(r,{directive:i,node:e}):this.references.set(r,e)});let s=(r,i)=>{let o=t.find(l=>l[i].hasBindingPropertyName(r.name)),a=o!==void 0?o:e;this.bindings.set(r,a)};e.inputs.forEach(r=>s(r,"inputs")),e.attributes.forEach(r=>s(r,"inputs")),e instanceof Ye&&e.templateAttrs.forEach(r=>s(r,"inputs")),e.outputs.forEach(r=>s(r,"outputs"))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},pa=class n extends uc{bindings;symbols;usedPipes;eagerPipes;deferBlocks;nestingLevel;scope;rootNode;level;visitNode=e=>e.visit(this);constructor(e,t,s,r,i,o,a,l,c){super(),this.bindings=e,this.symbols=t,this.usedPipes=s,this.eagerPipes=r,this.deferBlocks=i,this.nestingLevel=o,this.scope=a,this.rootNode=l,this.level=c}static applyWithScope(e,t,s,r,i,o,a,l){let c=e instanceof Ye?e:null;new n(s,r,o,a,l,i,t,c,0).ingest(e)}ingest(e){if(e instanceof Ye)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Pn)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Ns)this.visitNode(e.item),e.contextVariables.forEach(t=>this.visitNode(t)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof jn){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.push([e,this.scope]),e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof Br||e instanceof Rr||e instanceof Mr||e instanceof Pr||e instanceof Lr||e instanceof Ds?(e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)):e instanceof Io?this.nestingLevel.set(e,0):e.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.directives.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.hydrateTriggers.when?.value.visit(this),e.hydrateTriggers.never?.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){super.visitLetDeclaration(e),this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitPipe(e,t){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,t)}visitPropertyRead(e,t){return this.maybeMap(e,e.name),super.visitPropertyRead(e,t)}visitSafePropertyRead(e,t){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,t)}ingestScopedNode(e){let t=this.scope.getChildScope(e);new n(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,t,e,this.level+1).ingest(e)}maybeMap(e,t){if(!(e.receiver instanceof Mt)||e.receiver instanceof Hn)return;let s=this.scope.lookup(t);s!==null&&this.bindings.set(e,s)}},dc=class{target;directives;eagerDirectives;missingDirectives;bindings;references;exprTargets;symbols;nestingLevel;scopedNodeEntities;usedPipes;eagerPipes;deferredBlocks;deferredScopes;constructor(e,t,s,r,i,o,a,l,c,p,h,m,E){this.target=e,this.directives=t,this.eagerDirectives=s,this.missingDirectives=r,this.bindings=i,this.references=o,this.exprTargets=a,this.symbols=l,this.nestingLevel=c,this.scopedNodeEntities=p,this.usedPipes=h,this.eagerPipes=m,this.deferredBlocks=E.map(w=>w[0]),this.deferredScopes=new Map(E)}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(t=>t.forEach(s=>e.add(s))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,t){if(!(t instanceof Ao)&&!(t instanceof bo)&&!(t instanceof Co))return null;let s=t.reference;if(s===null){let i=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof fa)){if(i!==null)return null;o instanceof Bt&&(i=o)}}return i}let r=this.findEntityInScope(e,s);if(r instanceof $r&&this.getDefinitionNodeOfSymbol(r)!==e){let i=this.getReferenceTarget(r);if(i!==null)return this.referenceTargetToElement(i)}if(e.placeholder!==null){let i=this.findEntityInScope(e.placeholder,s),o=i instanceof $r?this.getReferenceTarget(i):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let t of this.deferredBlocks){if(!this.deferredScopes.has(t))continue;let s=[this.deferredScopes.get(t)];for(;s.length>0;){let r=s.pop();if(r.elementLikeInScope.has(e))return!0;s.push(...r.childScopes.values())}}return!1}referencedDirectiveExists(e){return!this.missingDirectives.has(e)}findEntityInScope(e,t){let s=this.getEntitiesInScope(e);for(let r of s)if(r.name===t)return r;return null}referenceTargetToElement(e){return e instanceof Bt?e:e instanceof Ye||e.node instanceof ur||e.node instanceof yd?null:this.referenceTargetToElement(e.node)}};function sb(n,e){let t=new Map;function s(i){if(t.has(i.rootNode))return t.get(i.rootNode);let o=i.namedEntities,a;return i.parentScope!==null?a=new Map([...s(i.parentScope),...o]):a=new Map(o),t.set(i.rootNode,a),a}let r=[n];for(;r.length>0;){let i=r.pop();for(let o of i.childScopes.values())r.push(o);s(i)}for(let[i,o]of t)e.set(i,new Set(o.values()))}var fc=class{},mc=class{jitEvaluator;FactoryTarget=Ft;ResourceLoader=fc;elementSchemaRegistry=new Us;constructor(e=new yl){this.jitEvaluator=e}compilePipe(e,t,s){let r={name:s.name,type:ce(s.type),typeArgumentCount:0,deps:null,pipeName:s.pipeName,pure:s.pure,isStandalone:s.isStandalone},i=Qp(r);return this.jitExpression(i.expression,e,t,[])}compilePipeDeclaration(e,t,s){let r=Sb(s),i=Qp(r);return this.jitExpression(i.expression,e,t,[])}compileInjectable(e,t,s){let{expression:r,statements:i}=Up({name:s.name,type:ce(s.type),typeArgumentCount:s.typeArgumentCount,providedIn:hd(s.providedIn),useClass:us(s,"useClass"),useFactory:pd(s,"useFactory"),useValue:us(s,"useValue"),useExisting:us(s,"useExisting"),deps:s.deps?.map(Wf)},!0);return this.jitExpression(r,e,t,i)}compileInjectableDeclaration(e,t,s){let{expression:r,statements:i}=Up({name:s.type.name,type:ce(s.type),typeArgumentCount:0,providedIn:hd(s.providedIn),useClass:us(s,"useClass"),useFactory:pd(s,"useFactory"),useValue:us(s,"useValue"),useExisting:us(s,"useExisting"),deps:s.deps?.map(dd)},!0);return this.jitExpression(r,e,t,i)}compileInjector(e,t,s){let r={name:s.name,type:ce(s.type),providers:s.providers&&s.providers.length>0?new F(s.providers):null,imports:s.imports.map(o=>new F(o))},i=Yp(r);return this.jitExpression(i.expression,e,t,[])}compileInjectorDeclaration(e,t,s){let r=yb(s),i=Yp(r);return this.jitExpression(i.expression,e,t,[])}compileNgModule(e,t,s){let r={kind:ln.Global,type:ce(s.type),bootstrap:s.bootstrap.map(ce),declarations:s.declarations.map(ce),publicDeclarationTypes:null,imports:s.imports.map(ce),includeImportTypes:!0,exports:s.exports.map(ce),selectorScopeMode:Bo.Inline,containsForwardDecls:!1,schemas:s.schemas?s.schemas.map(ce):null,id:s.id?new F(s.id):null},i=Gv(r);return this.jitExpression(i.expression,e,t,[])}compileNgModuleDeclaration(e,t,s){let r=zv(s);return this.jitExpression(r,e,t,[])}compileDirective(e,t,s){let r=cd(s);return this.compileDirectiveFromMeta(e,t,r)}compileDirectiveDeclaration(e,t,s){let r=this.createParseSourceSpan("Directive",s.type.name,t),i=Hf(s,r);return this.compileDirectiveFromMeta(e,t,i)}compileDirectiveFromMeta(e,t,s){let r=new oo,i=ca(),o=jA(s,r,i);return this.jitExpression(o.expression,e,t,r.statements)}compileComponent(e,t,s){let{template:r,interpolation:i,defer:o}=jf(s.template,s.name,t,s.preserveWhitespaces,s.interpolation,void 0),a=V(v(v({},s),cd(s)),{selector:s.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:r,declarations:s.declarations.map(ab),declarationListEmitMode:0,defer:o,styles:[...s.styles,...r.styles],encapsulation:s.encapsulation,interpolation:i,changeDetection:s.changeDetection??null,animations:s.animations!=null?new F(s.animations):null,viewProviders:s.viewProviders!=null?new F(s.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),l=`ng:///${s.name}.js`;return this.compileComponentFromMeta(e,l,a)}compileComponentDeclaration(e,t,s){let r=this.createParseSourceSpan("Component",s.type.name,t),i=ob(s,r,t);return this.compileComponentFromMeta(e,t,i)}compileComponentFromMeta(e,t,s){let r=new oo,i=ca(s.interpolation),o=WA(s,r,i);return this.jitExpression(o.expression,e,t,r.statements)}compileFactory(e,t,s){let r=bn({name:s.name,type:ce(s.type),typeArgumentCount:s.typeArgumentCount,deps:ub(s.deps),target:s.target});return this.jitExpression(r.expression,e,t,r.statements)}compileFactoryDeclaration(e,t,s){let r=bn({name:s.type.name,type:ce(s.type),typeArgumentCount:0,deps:Array.isArray(s.deps)?s.deps.map(dd):s.deps,target:s.target});return this.jitExpression(r.expression,e,t,r.statements)}createParseSourceSpan(e,t,s){return Fv(e,t,s)}jitExpression(e,t,s,r){let i=[...r,new pe("$def",e,void 0,we.Exported)];return this.jitEvaluator.evaluateStatements(s,i,new Cl(t),!0).$def}};function ad(n){return V(v({},n),{isSignal:n.isSignal,predicate:Vf(n.predicate),read:n.read?new F(n.read):null,static:n.static,emitDistinctChangesOnly:n.emitDistinctChangesOnly})}function ld(n){return{propertyName:n.propertyName,first:n.first??!1,predicate:Vf(n.predicate),descendants:n.descendants??!1,read:n.read?new F(n.read):null,static:n.static??!1,emitDistinctChangesOnly:n.emitDistinctChangesOnly??!0,isSignal:!!n.isSignal}}function Vf(n){return Array.isArray(n)?n:xc(new F(n),1)}function cd(n){let e=wb(n.inputs||[]),t=Ya(n.outputs||[]),s=n.propMetadata,r={},i={};for(let a in s)s.hasOwnProperty(a)&&s[a].forEach(l=>{mb(l)?r[a]={bindingPropertyName:l.alias||a,classPropertyName:a,required:l.required||!1,isSignal:!!l.isSignal,transformFunction:l.transform!=null?new F(l.transform):null}:gb(l)&&(i[a]=l.alias||a)});let o=n.hostDirectives?.length?n.hostDirectives.map(a=>typeof a=="function"?{directive:ce(a),inputs:null,outputs:null,isForwardReference:!1}:{directive:ce(a.directive),isForwardReference:!1,inputs:a.inputs?Ya(a.inputs):null,outputs:a.outputs?Ya(a.outputs):null}):null;return V(v({},n),{typeArgumentCount:0,typeSourceSpan:n.typeSourceSpan,type:ce(n.type),deps:null,host:v({},hb(n.propMetadata,n.typeSourceSpan,n.host)),inputs:v(v({},e),r),outputs:v(v({},t),i),queries:n.queries.map(ad),providers:n.providers!=null?new F(n.providers):null,viewQueries:n.viewQueries.map(ad),fullInheritance:!1,hostDirectives:o})}function Hf(n,e){let t=n.hostDirectives?.length?n.hostDirectives.map(s=>({directive:ce(s.directive),isForwardReference:!1,inputs:s.inputs?ud(s.inputs):null,outputs:s.outputs?ud(s.outputs):null})):null;return{name:n.type.name,type:ce(n.type),typeSourceSpan:e,selector:n.selector??null,inputs:n.inputs?vb(n.inputs):{},outputs:n.outputs??{},host:rb(n.host),queries:(n.queries??[]).map(ld),viewQueries:(n.viewQueries??[]).map(ld),providers:n.providers!==void 0?new F(n.providers):null,exportAs:n.exportAs??null,usesInheritance:n.usesInheritance??!1,lifecycle:{usesOnChanges:n.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:n.isStandalone??Sd(n.version),isSignal:n.isSignal??!1,hostDirectives:t}}function rb(n={}){return{attributes:ib(n.attributes??{}),listeners:n.listeners??{},properties:n.properties??{},specialAttributes:{classAttr:n.classAttribute,styleAttr:n.styleAttribute}}}function ud(n){let e=null;for(let t=1;t<n.length;t+=2)e=e||{},e[n[t-1]]=n[t];return e}function ib(n){let e={};for(let t of Object.keys(n))e[t]=new F(n[t]);return e}function ob(n,e,t){let{template:s,interpolation:r,defer:i}=jf(n.template,n.type.name,t,n.preserveWhitespaces??!1,n.interpolation,n.deferBlockDependencies),o=[];if(n.dependencies)for(let l of n.dependencies)switch(l.kind){case"directive":case"component":o.push(Xa(l));break;case"pipe":o.push(cb(l));break}else(n.components||n.directives||n.pipes)&&(n.components&&o.push(...n.components.map(l=>Xa(l,!0))),n.directives&&o.push(...n.directives.map(l=>Xa(l))),n.pipes&&o.push(...lb(n.pipes)));let a=o.every(({kind:l})=>l===Ms.Directive||l===Ms.NgModule);return V(v({},Hf(n,e)),{template:s,styles:n.styles??[],declarations:o,viewProviders:n.viewProviders!==void 0?new F(n.viewProviders):null,animations:n.animations!==void 0?new F(n.animations):null,defer:i,changeDetection:n.changeDetection??vc.Default,encapsulation:n.encapsulation??An.Emulated,interpolation:r,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null,hasDirectiveDependencies:a})}function ab(n){return V(v({},n),{type:new F(n.type)})}function Xa(n,e=null){return{kind:Ms.Directive,isComponent:e||n.kind==="component",selector:n.selector,type:new F(n.type),inputs:n.inputs??[],outputs:n.outputs??[],exportAs:n.exportAs??null}}function lb(n){return n?Object.keys(n).map(e=>({kind:Ms.Pipe,name:e,type:new F(n[e])})):[]}function cb(n){return{kind:Ms.Pipe,name:n.name,type:new F(n.type)}}function jf(n,e,t,s,r,i){let o=r?Do.fromArray(r):kt,a=UA(n,t,{preserveWhitespaces:s,interpolationConfig:o});if(a.errors!==null){let p=a.errors.map(h=>h.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${p}`)}let c=new pc(null).bind({template:a.nodes});return{template:a,interpolation:o,defer:pb(c,i)}}function us(n,e){if(n.hasOwnProperty(e))return xc(new F(n[e]),0)}function pd(n,e){if(n.hasOwnProperty(e))return new F(n[e])}function hd(n){let e=typeof n=="function"?new F(n):new ye(n??null);return xc(e,0)}function ub(n){return n==null?null:n.map(Wf)}function Wf(n){let e=n.attribute!=null,t=n.token===null?null:new F(n.token),s=e?new F(n.attribute):t;return Gf(s,e,n.host,n.optional,n.self,n.skipSelf)}function dd(n){let e=n.attribute??!1,t=n.token===null?null:new F(n.token);return Gf(t,e,n.host??!1,n.optional??!1,n.self??!1,n.skipSelf??!1)}function Gf(n,e,t,s,r,i){let o=e?g("unknown"):null;return{token:n,attributeNameType:o,host:t,optional:s,self:r,skipSelf:i}}function pb(n,e){let t=n.getDeferBlocks(),s=new Map;for(let r=0;r<t.length;r++){let i=e?.[r];s.set(t[r],i?new F(i):null)}return{mode:0,blocks:s}}function hb(n,e,t){let s=KA(t||{}),r=eb(s,e);if(r.length)throw new Error(r.map(i=>i.msg).join(`
`));for(let i in n)n.hasOwnProperty(i)&&n[i].forEach(o=>{db(o)?s.properties[o.hostPropertyName||i]=iv("this",i):fb(o)&&(s.listeners[o.eventName||i]=`${i}(${(o.args||[]).join(",")})`)});return s}function db(n){return n.ngMetadataName==="HostBinding"}function fb(n){return n.ngMetadataName==="HostListener"}function mb(n){return n.ngMetadataName==="Input"}function gb(n){return n.ngMetadataName==="Output"}function vb(n){return Object.keys(n).reduce((e,t)=>{let s=n[t];return typeof s=="string"||Array.isArray(s)?e[t]=Eb(s):e[t]={bindingPropertyName:s.publicName,classPropertyName:t,transformFunction:s.transformFunction!==null?new F(s.transformFunction):null,required:s.isRequired,isSignal:s.isSignal},e},{})}function Eb(n){return typeof n=="string"?{bindingPropertyName:n,classPropertyName:n,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:n[0],classPropertyName:n[1],transformFunction:n[2]?new F(n[2]):null,required:!1,isSignal:!1}}function wb(n){return n.reduce((e,t)=>{if(typeof t=="string"){let[s,r]=zf(t);e[r]={bindingPropertyName:s,classPropertyName:r,required:!1,isSignal:!1,transformFunction:null}}else e[t.name]={bindingPropertyName:t.alias||t.name,classPropertyName:t.name,required:t.required||!1,isSignal:!1,transformFunction:t.transform!=null?new F(t.transform):null};return e},{})}function Ya(n){return n.reduce((e,t)=>{let[s,r]=zf(t);return e[r]=s,e},{})}function zf(n){let[e,t]=n.split(":",2).map(s=>s.trim());return[t??e,e]}function Sb(n){return{name:n.type.name,type:ce(n.type),typeArgumentCount:0,pipeName:n.name,deps:null,pure:n.pure??!0,isStandalone:n.isStandalone??Sd(n.version)}}function yb(n){return{name:n.type.name,type:ce(n.type),providers:n.providers!==void 0&&n.providers.length>0?new F(n.providers):null,imports:n.imports!==void 0?n.imports.map(e=>new F(e)):[]}}function xb(n){let e=n.ng||(n.ng={});e.\u0275compilerFacade=new mc}var gc=class{closedByParent=!1;implicitNamespacePrefix=null;isVoid=!1;ignoreFirstLf=!1;canSelfClose=!0;preventNamespaceInheritance=!1;requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return Tt.PARSABLE_DATA}},ST=new gc;var yT=new tl("20.1.0");xb(lr);var Xf=n=>{let{uieSchemas:e,actionHookSchemas:t}=n,s=[];for(let r of e){let i;"eventsHooks"in r.shape&&!(r.shape.eventsHooks.def.innerType instanceof re.ZodNull)&&(i=Object.keys(r.shape.eventsHooks.def.innerType.shape));let o=gu(r.shape.options,i,t).describe(r.description??"Missing description for: "+JSON.stringify(r));s.push(o)}return s},Yf=n=>{let{zRequests:e,zActionHooks:t}=n;return re.strictObject({id:re.string(),stateSubscription:mu.optional(),options:re.strictObject({runCondition:re.boolean().optional(),requests:re.array(re.union(e)),onSuccess:re.array(re.union(t)).optional(),parallel:re.boolean().optional()})})};var Cb={SIMPLE_TEXT:"Simple text",SIMPLE_IMAGE:"Simple image",SIMPLE_TABLE:"Simple table",IMAGES_CAROUSEL:"Images carousel",CARD:"Card"},Ab={SIMPLE_GRID_LAYOUT:"Simple grid layout"},IT=v(v({},Ab),Cb);var bb=re.strictObject({createdAt:re.string(),updatedAt:re.string().optional()}),Qf=re.strictObject({name:re.string(),description:re.string()}),RT=re.strictObject({id:re.string()}).extend(bb.shape).extend(Qf.shape),Zf=[xu,yu,Cu],Gs=n=>n.omit({id:!0,type:!0}).extend(Qf.shape),zs=Xf({uieSchemas:[Tu,ku,Au,bu,Eu,_u],actionHookSchemas:Zf}),$T=Gs(zs[0]).describe("AppEditPrimeNgSimpleTableUIESchema"),OT=Gs(zs[1]).describe("AppEditPrimeNgSimpleTextUIESchema"),FT=Gs(zs[2]).describe("AppEditPrimeNgSimpleImageUIESchema"),UT=Gs(zs[3]).describe("AppEditPrimeNgImagesCarouselUIESchema"),qT=Gs(zs[4]).describe("AppEditSimpleGridUIESchema"),VT=Gs(zs[5]).describe("AppEditPrimeNgCardUIESchema"),HT=Yf({zRequests:[Su,wu],zActionHooks:Zf}).omit({id:!0}).describe("AppEditRemoteResourceSchema");export{zu as a,f0 as b,B_ as c,_a as d,tT as e,nT as f,Cb as g,Ab as h};
