import{a as N,b as Y,c as $}from"./chunk-PLIANRYQ.js";import{c as F,d as H,e as G}from"./chunk-ZGJ2SCUV.js";import"./chunk-4XPXTYOG.js";import{d as L,f as U,g as D}from"./chunk-2HFDSWQC.js";import"./chunk-XHLVS7FU.js";import"./chunk-JOWTQUES.js";import{c as A,d as B,f as j}from"./chunk-LCS6EYLH.js";import"./chunk-Q7T7GPG4.js";import"./chunk-A4HBTJ62.js";import"./chunk-QZIL3RNM.js";import"./chunk-GKWLEOQ4.js";import"./chunk-4632HB7Z.js";import"./chunk-66RYNZRF.js";import"./chunk-ERB5ATM7.js";import"./chunk-OFW6W57A.js";import"./chunk-CGO7NXBT.js";import{c as V}from"./chunk-GXVKBTVT.js";import"./chunk-RSTVJZ7U.js";import"./chunk-JVM3WL52.js";import"./chunk-PJHEGPYG.js";import"./chunk-J2UA6UJD.js";import"./chunk-6GF7UK45.js";import{Z as M}from"./chunk-CHX6FGWD.js";import"./chunk-HNFNR3GG.js";import"./chunk-PUECT5W6.js";import"./chunk-POJFSOR5.js";import{Ac as I,Bc as R,Ca as b,Hb as n,Ib as t,Jb as h,Nb as C,Ob as _,Pb as x,Wc as k,Xc as O,Yb as S,Zb as o,_a as r,_b as c,ea as m,hc as y,jc as P,kb as E,la as p,ma as d,pb as w,rc as T,sc as v,tc as g,xb as u}from"./chunk-CELOEL42.js";var J=i=>[".",i];function K(i,f){if(i&1){let e=C();n(0,"div",6)(1,"h2"),o(2,"UI element templates"),t(),n(3,"div",7)(4,"p-button",8),_("onClick",function(){p(e);let a=x();return d(a.navigateToCreatePage())}),t(),n(5,"p-button",9),_("onClick",function(a){p(e);let s=x();return d(s.confirmResetMockTemplates(a))}),t()()()}}function Q(i,f){i&1&&(n(0,"tr")(1,"th"),o(2,"Id"),t(),n(3,"th"),o(4,"Name"),t(),n(5,"th"),o(6,"Description"),t(),n(7,"th"),o(8,"Created at"),t(),n(9,"th"),o(10,"Updated At"),t()())}function W(i,f){if(i&1&&(n(0,"tr",10)(1,"td"),o(2),t(),n(3,"td"),o(4),t(),n(5,"td"),o(6),t(),n(7,"td"),o(8),T(9,"date"),t(),n(10,"td"),o(11),T(12,"date"),t(),h(13,"a",11),t()),i&2){let e=f.$implicit;u("pContextMenuRow",e),r(2),c(e.id),r(2),c(e.name),r(2),c(e.description),r(2),c(v(9,7,e.createdAt)),r(3),c(v(12,9,e.updatedAt)),r(2),u("routerLink",P(11,J,e.id))}}var ue=(()=>{class i{constructor(){this.#e=m(G),this.#o=m(F),this.#t=m(M),this.#n=m(U),this.#i=m(L),this.selectedTemplateSig=b(null),this.tableRowContextMenuItems=[{label:"Delete",icon:"pi pi-trash",command:()=>{let e=I(this.selectedTemplateSig);if(!e){console.warn("Trying to delete but template has not been selected");return}this.confirmDeleteTemplate(e.id)}}],this.loadingSig=this.#e.isPending,this.allTemplatesInfoSig=R(()=>this.#e.allUIElementTemplatesInfo().filter(l=>!H.has(l.type)))}#e;#o;#t;#n;#i;navigateToEditPage(e){this.#n.navigate([".",e],{relativeTo:this.#i})}navigateToCreatePage(){this.#n.navigate([".","create"],{relativeTo:this.#i})}confirmDeleteTemplate(e){this.#t.confirm({message:`Are you sure you want to delete template "${e}"?`,header:"Deletion confirmation",icon:"pi pi-info-circle",rejectLabel:"Cancel",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Delete",severity:"danger"},accept:()=>{this.#e.delete(e)}})}confirmResetMockTemplates(e){this.#t.confirm({target:e.target,message:"Are you sure that you want to proceed? This will reset all the mock templates, including ones that have been modified by the user.",header:"Confirmation",closable:!0,closeOnEscape:!0,icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Proceed",severity:"danger"},accept:()=>{this.#e.resetMockTemplates(),this.#o.resetMockTemplates()}})}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275cmp=E({type:i,selectors:[["prime-ng-playground-builder-feat-ui-element-list"]],features:[y([M])],decls:10,vars:6,consts:[["tableRowContextMenu",""],["caption",""],["header",""],["body",""],[3,"onHide","model"],[1,"table-container",3,"contextMenuSelectionChange","contextMenu","loading","showGridlines","stripedRows","value"],[1,"table-title-container"],[1,"table-title-container__actions-container"],["icon","pi pi-plus","iconPos","right","label","Create",3,"onClick"],["icon","pi pi-refresh","raised","","rounded","","severity","warn",3,"onClick"],[1,"data-row",3,"pContextMenuRow"],[1,"data-row__link-placeholder",3,"routerLink"]],template:function(l,a){if(l&1){let s=C();n(0,"p-contextmenu",4,0),_("onHide",function(){return p(s),d(a.selectedTemplateSig.set(null))}),t(),n(2,"p-table",5),_("contextMenuSelectionChange",function(z){return p(s),d(a.selectedTemplateSig.set(z))}),w(3,K,6,0,"ng-template",null,1,g)(5,Q,11,0,"ng-template",null,2,g)(7,W,14,13,"ng-template",null,3,g),t(),h(9,"p-confirmdialog")}if(l&2){let s=S(1);u("model",a.tableRowContextMenuItems),r(2),u("contextMenu",s)("loading",a.loadingSig())("showGridlines",!0)("stripedRows",!0)("value",a.allTemplatesInfoSig())}},dependencies:[j,A,B,V,N,O,k,D,$,Y],styles:["[_nghost-%COMP%]{padding:1rem;display:flex;justify-content:center;width:100vw}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title-container__actions-container[_ngcontent-%COMP%]{display:flex;gap:1rem}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]   .data-row__link-placeholder[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;cursor:pointer}"],changeDetection:0})}}return i})();export{ue as UIElementListComponent};
