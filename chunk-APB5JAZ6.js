import{a as G,e as W,g as k,h as q,i as K,j as Q,k as N}from"./chunk-X3WHHN2J.js";import{a as B}from"./chunk-JZKNT5UY.js";import{a as oe}from"./chunk-PAKE6HTN.js";import{a as te}from"./chunk-HWPYVJFX.js";import{a as ee}from"./chunk-UY5E22NZ.js";import{a as Y}from"./chunk-LP6QDAMA.js";import{a as C,b as V}from"./chunk-5O5SXNZH.js";import{e as x,g as b,i as z}from"./chunk-3C3QOQZR.js";import{a as X}from"./chunk-LPEJ2UBE.js";import{i as J,l as $,n as D,r as Z,s as M,v as L}from"./chunk-BGKRRNHO.js";import{C as U,I as R,Jb as S,Kb as T,_ as E,da as w,e as i,f as h,g as d,ga as P,gc as F,h as f,ia as p,j as y,ja as v,jb as I,n as A,ra as j,y as H}from"./chunk-UJ7YJEPZ.js";var ie=new P("COMMON_SETUP_CONFIG");var re=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=I({type:t,selectors:[["dj-ui-common-default-ui-element-infinite-error-component"]],decls:2,vars:0,template:function(r,s){r&1&&(S(0,"p"),F(1,"Infinite loop detected in element rendering!"),T())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let e=t;return e})();var se=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=I({type:t,selectors:[["dj-ui-common-default-ui-element-loading-component"]],decls:2,vars:0,template:function(r,s){r&1&&(S(0,"p"),F(1,"Loading UI Element..."),T())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let e=t;return e})();var me=()=>y(R(e=>e.type==="MISSING_REMOTE_RESOURCE_TEMPLATE")),pe=()=>y(R(e=>e.type==="MISSING_UI_ELEMENT_TEMPLATE"));var ce=(()=>{var t,o,n,r,s,ae,le,de,ue;let m=class m{constructor(){h(this,s);h(this,t);h(this,o);h(this,n);h(this,r);d(this,t,p(j)),this.FILE_INPUT_ELE_ID="file_input_element",d(this,o,null),d(this,n,new A),d(this,r,new Error("File input element has not been initialized")),f(this,s,ae).call(this)}selectFiles(a={}){if(!i(this,o))throw new Error("File input element has not been initialized");let{single:l,extensions:u=[]}=a;return l?f(this,s,le).call(this):f(this,s,de).call(this),f(this,s,ue).call(this,u),i(this,o).click(),H(i(this,n))}};t=new WeakMap,o=new WeakMap,n=new WeakMap,r=new WeakMap,s=new WeakSet,ae=function(){let a=i(this,t).getElementById(this.FILE_INPUT_ELE_ID);if(a){d(this,o,a);return}d(this,o,i(this,t).createElement("input")),i(this,o).setAttribute("id",this.FILE_INPUT_ELE_ID),i(this,o).setAttribute("type","file"),i(this,o).setAttribute("multiple",""),i(this,o).style.display="none",i(this,t).body.append(i(this,o)),i(this,o).addEventListener("change",l=>{let u=l.target.files;u&&i(this,n).next(u)}),i(this,o).addEventListener("cancel",()=>{i(this,n).next(null)})},le=function(){if(!i(this,o))throw i(this,r);i(this,o).removeAttribute("multiple")},de=function(){if(!i(this,o))throw i(this,r);i(this,o).setAttribute("multiple","")},ue=function(a){if(!i(this,o))throw i(this,r);if(a.length===0){i(this,o).removeAttribute("accept");return}let l=a.map(u=>`.${u}`).join(",");i(this,o).setAttribute("accept",l)},m.\u0275fac=function(l){return new(l||m)},m.\u0275prov=w({token:m,factory:m.\u0275fac,providedIn:"root"});let e=m;return e})();var he=()=>{let e=p(N),t=p(D),o={addToState:{handler:e.handleAddToState,actionHookSchema:K},triggerRemoteResource:{handler:e.handleTriggerRemoteResource,actionHookSchema:q},navigate:{handler:e.navigate,actionHookSchema:Q}};t.registerHooks(o)},fe=()=>{let e=p(k).httpFetcher;p(x).registerFetcher("httpFetcher",e)};var ge=e=>{let{getUiElementTemplate:t,getRemoteResourceTemplate:o}=e,n=p(M),r=p(L),s=p(b),_=n.getEvents().pipe(G()),O=g=>E({next:c=>{c.id!==g&&console.warn(`Request for template with id ${g} but received ${c.id} instead. This might cause DJ-UI to register the wrong template, leading to missing UI. Please check your template configuration for mis-matching id`)}});t&&_.pipe(pe(),U(c=>{let m=c.payload.id;return r.startRegisteringTemplate(m),t(m).pipe(O(m))}),E(c=>{r.registerTemplate(c)})).subscribe(),o&&_.pipe(me(),U(c=>{let m=c.payload.id;return s.startRegisteringTemplate(m),o(m).pipe(O(m))}),E(c=>{s.registerTemplate(c)})).subscribe()},Ee=e=>{let t=p(C);for(let[o,n]of Object.entries(e))t.registerUIElement({type:o,component:n})},ve=e=>{let t=p(C);for(let[o,n]of Object.entries(e))t.registerUIElementLoader({type:o,loader:n})},$e=()=>{let e;try{e=p(ie)}catch{J("No configs was provided for DJ-UI default setup, please provide values for the COMMON_SETUP_CONFIG token");return}he(),fe();let{templatesHandlers:t,componentsMap:o,componentLoadersMap:n}=e;t&&ge(t),o&&Ee(o),n&&ve(n)},Ze=()=>v([L,b,M,x,$,z,Z,C,D]),ze=()=>v([W,ce,k,N]),Ve=()=>v([{provide:V,useValue:{uiElementLoadingComponent:se,uiElementInfiniteErrorComponent:re}}]);var qe={[B]:()=>import("./chunk-23FILQL4.js").then(e=>e.SimpleGridLayoutComponent)};var Xe={[oe]:()=>import("./chunk-BPYLB3ZI.js").then(e=>e.SimpleTextComponent),[X]:()=>import("./chunk-IA6LCWZ5.js").then(e=>e.SimpleImageComponent),[te]:()=>import("./chunk-YLOPLXSF.js").then(e=>e.SimpleTableComponent),[Y]:()=>import("./chunk-FSCJSYCA.js").then(e=>e.ImagesCarouselComponent),[ee]:()=>import("./chunk-7WMXLF2E.js").then(e=>e.CardComponent)};export{ie as a,$e as b,Ze as c,ze as d,Ve as e,qe as f,Xe as g};
