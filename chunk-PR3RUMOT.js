import{a as V}from"./chunk-5BGIWNYG.js";import{f as B}from"./chunk-UV6WKCAY.js";import{a as X}from"./chunk-JQNNOW5S.js";import{a as re}from"./chunk-OXQFDIO2.js";import{a as ie}from"./chunk-5EH4PHE6.js";import{a as oe}from"./chunk-ONUWX4Z3.js";import{a as te}from"./chunk-5SLFWW7S.js";import{a as M,b as Q}from"./chunk-SE4RMCUL.js";import{a as L,c as k}from"./chunk-S76G5ZLK.js";import{b as U,f as A}from"./chunk-EWAYVCWY.js";import{a as ee}from"./chunk-7JQNGYFA.js";import{c as Y}from"./chunk-4LRNZHQJ.js";import{a as f,i as q,l as W,n as N,o as K,r as D,s as w,v as H}from"./chunk-4YZRLV7F.js";import{C as O,I as P,Jb as C,Kb as b,_ as S,da as v,e as i,f as l,g as c,ga as $,gc as x,h as I,ia as a,j,ja as F,jb as R,n as Z,ra as z,y as J}from"./chunk-UJ7YJEPZ.js";var ne=new $("COMMON_SETUP_CONFIG");var se=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=R({type:o,selectors:[["dj-ui-common-default-ui-element-infinite-error-component"]],decls:2,vars:0,template:function(n,s){n&1&&(C(0,"p"),x(1,"Infinite loop detected in element rendering!"),b())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let e=o;return e})();var ae=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=R({type:o,selectors:[["dj-ui-common-default-ui-element-loading-component"]],decls:2,vars:0,template:function(n,s){n&1&&(C(0,"p"),x(1,"Loading UI Element..."),b())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let e=o;return e})();var ce=()=>j(P(e=>e.type==="MISSING_REMOTE_RESOURCE_TEMPLATE")),pe=()=>j(P(e=>e.type==="MISSING_UI_ELEMENT_TEMPLATE"));var me=(()=>{var o;let t=class t{constructor(){l(this,o);c(this,o,a(U)),this.singleFileUploadFetcher=n=>{let{endpoint:s,file:p,responseType:h="json"}=n,u=new FormData;return u.append("file",p),i(this,o).post(s,u,{responseType:h})}}};o=new WeakMap,t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var _=(()=>{var o,t;let r=class r{constructor(){l(this,o);l(this,t);c(this,o,a(U)),c(this,t,s=>{let{endpoint:p,method:h,headers:u,body:d}=s;return i(this,o).request(h,p,{headers:u,body:d})}),this.httpFetcher=i(this,t).bind(this)}};o=new WeakMap,t=new WeakMap,r.\u0275fac=function(p){return new(p||r)},r.\u0275prov=v({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();var le=f.strictObject({remoteResourceId:f.string()},{error:()=>({message:'Invalid triggerRemoteResource action hook payload, example: { "type": "triggerRemoteResource", "payload": { "remoteResourceId": "123" }  } '})}),de=f.strictObject({scope:K,data:Y},{error:()=>({message:'Invalid addToState action hook payload, example: { "type": "addToState", "payload": { "scope": "global", data: "{ "some": "data" }" }  } '})}),he=f.strictObject({navigationType:f.union([f.literal("internal"),f.literal("external")]),url:f.string()},{error:()=>({message:'Invalid navigate action hook payload, example: { "type": "navigate", "payload": { "navigationType": "internal", url: "/my/route" }  } '})}),G=(()=>{var o,t,r;let n=class n{constructor(){l(this,o);l(this,t);l(this,r);c(this,o,a(k)),c(this,t,a(D)),c(this,r,a(B)),this.handleTriggerRemoteResource=({remoteResourceId:p})=>{i(this,o).triggerResource(p)},this.handleAddToState=p=>{i(this,t).addToState(p)},this.navigate=({navigationType:p,url:h})=>{p==="internal"?i(this,r).navigateByUrl(h):window.open(h,"_blank")?.focus()}}};o=new WeakMap,t=new WeakMap,r=new WeakMap,n.\u0275fac=function(h){return new(h||n)},n.\u0275prov=v({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var ue=(()=>{var o,t,r,n,s,fe,ge,ve,Ee;let m=class m{constructor(){l(this,s);l(this,o);l(this,t);l(this,r);l(this,n);c(this,o,a(z)),this.FILE_INPUT_ELE_ID="file_input_element",c(this,t,null),c(this,r,new Z),c(this,n,new Error("File input element has not been initialized")),I(this,s,fe).call(this)}selectFiles(g={}){if(!i(this,t))throw new Error("File input element has not been initialized");let{single:E,extensions:y=[]}=g;return E?I(this,s,ge).call(this):I(this,s,ve).call(this),I(this,s,Ee).call(this,y),i(this,t).click(),J(i(this,r))}};o=new WeakMap,t=new WeakMap,r=new WeakMap,n=new WeakMap,s=new WeakSet,fe=function(){let g=i(this,o).getElementById(this.FILE_INPUT_ELE_ID);if(g){c(this,t,g);return}c(this,t,i(this,o).createElement("input")),i(this,t).setAttribute("id",this.FILE_INPUT_ELE_ID),i(this,t).setAttribute("type","file"),i(this,t).setAttribute("multiple",""),i(this,t).style.display="none",i(this,o).body.append(i(this,t)),i(this,t).addEventListener("change",E=>{let y=E.target.files;y&&i(this,r).next(y)}),i(this,t).addEventListener("cancel",()=>{i(this,r).next(null)})},ge=function(){if(!i(this,t))throw i(this,n);i(this,t).removeAttribute("multiple")},ve=function(){if(!i(this,t))throw i(this,n);i(this,t).setAttribute("multiple","")},Ee=function(g){if(!i(this,t))throw i(this,n);if(g.length===0){i(this,t).removeAttribute("accept");return}let E=g.map(y=>`.${y}`).join(",");i(this,t).setAttribute("accept",E)},m.\u0275fac=function(E){return new(E||m)},m.\u0275prov=v({token:m,factory:m.\u0275fac,providedIn:"root"});let e=m;return e})();var ye=()=>{let e=a(G),o=a(N),t={addToState:{handler:e.handleAddToState,payloadParser:de},triggerRemoteResource:{handler:e.handleTriggerRemoteResource,payloadParser:le},navigate:{handler:e.navigate,payloadParser:he}};o.registerHooks(t)},Ie=()=>{let e=a(_).httpFetcher;a(L).registerFetcher("httpFetcher",e)};var Te=e=>{let{getUiElementTemplate:o,getRemoteResourceTemplate:t}=e,r=a(w),n=a(H),s=a(A),p=r.getEvents().pipe(V()),h=u=>S({next:d=>{d.id!==u&&console.warn(`Request for template with id ${u} but received ${d.id} instead. This might cause DJ-UI to register the wrong template, leading to missing UI. Please check your template configuration for mis-matching id`)}});o&&p.pipe(pe(),O(d=>{let m=d.payload.id;return n.startRegisteringTemplate(m),o(m).pipe(h(m))}),S(d=>{n.registerTemplate(d)})).subscribe(),t&&p.pipe(ce(),O(d=>{let m=d.payload.id;return s.startRegisteringTemplate(m),t(m).pipe(h(m))}),S(d=>{s.registerTemplate(d)})).subscribe()},Se=e=>{let o=a(M);for(let[t,r]of Object.entries(e))o.registerUIElement({type:t,component:r})},Fe=e=>{let o=a(M);for(let[t,r]of Object.entries(e))o.registerUIElementLoader({type:t,loader:r})},dt=()=>{let e;try{e=a(ne)}catch{q("No configs was provided for DJ-UI default setup, please provide values for the COMMON_SETUP_CONFIG token");return}ye(),Ie();let{templatesHandlers:o,componentsMap:t,componentLoadersMap:r}=e;o&&Te(o),t&&Se(t),r&&Fe(r)},ht=()=>F([H,A,w,L,W,k,D,M,N]),ut=()=>F([me,ue,_,G]),ft=()=>F([{provide:Q,useValue:{uiElementLoadingComponent:ae,uiElementInfiniteErrorComponent:se}}]);var Et={[X]:()=>import("./chunk-VKDISJNF.js").then(e=>e.SimpleGridLayoutComponent)};var Tt={[re]:()=>import("./chunk-7QNPTT7D.js").then(e=>e.SimpleTextComponent),[ee]:()=>import("./chunk-N56KKZCP.js").then(e=>e.SimpleImageComponent),[ie]:()=>import("./chunk-6YTPXCMT.js").then(e=>e.SimpleTableComponent),[te]:()=>import("./chunk-TSBL5N4J.js").then(e=>e.ImagesCarouselComponent),[oe]:()=>import("./chunk-BJIYQNAA.js").then(e=>e.CardComponent)};export{ne as a,dt as b,ht as c,ut as d,ft as e,Et as f,Tt as g};
