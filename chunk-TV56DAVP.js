import{Z as p,da as u,f as a,g as r,h as l,j as c}from"./chunk-RVPXDSFJ.js";var o=n=>{console.error(`[DJ-UI ERROR LOG] ${n}`)},d=n=>{console.warn(`[DJ-UI WARNING LOG] ${n}`)},b=n=>{console.info(`[DJ-UI SUBSCRIPTION LOG] ${n}`)};var m=(()=>{class n{#t=new a;getEvents(){return this.#t.asObservable().pipe(c(l))}emitEvent(t){this.#t.next(t)}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=p({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var g=class{#t=u(m);#e={};startRegisteringTemplate(e){let t=this.#e[e],s={id:e,status:"loading",config:null};if(!t){let i=new r(s);this.#e[e]=i;return}t.next(s)}registerTemplate(e){let t=e.id,s=this.#e[t],i={id:t,status:"loaded",config:e};if(s){if(s.getValue().status==="loaded"){o(`Template with id of "${t}" has already been register. Please update it instead`);return}s.next(i);return}let f=new r(i);this.#e[t]=f}getTemplate(e){let t=this.#e[e];if(!t){this.#t.emitEvent({type:this.missingTemplateEvent,payload:{id:e}});let s=new r({id:e,status:"missing",config:null});return this.#e[e]=s,s.asObservable()}return t.asObservable()}updateTemplate(e){let t=e.id,s=this.#e[t],i=s?.getValue().status;if(!s||i!=="loaded"){o(`Template with id of "${t}" has not been register. Please register it instead`);return}s.next({id:t,status:"loaded",config:e})}updateOrRegisterTemplate(e){this.#e[e.id]?this.updateTemplate(e):this.registerTemplate(e)}};export{m as a,o as b,d as c,b as d,g as e};
