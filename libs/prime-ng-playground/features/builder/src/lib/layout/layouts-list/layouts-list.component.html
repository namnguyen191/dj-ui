<p-contextmenu
  #tableRowContextMenu
  [model]="tableRowContextMenuItems"
  (onHide)="selectedTemplateSig.set(null)"
/>

<p-table
  class="table-container"
  [contextMenu]="tableRowContextMenu"
  [loading]="loadingSig()"
  [showGridlines]="true"
  [stripedRows]="true"
  [value]="allLayoutTemplatesInfoSig()"
  (contextMenuSelectionChange)="selectedTemplateSig.set($event)"
>
  <ng-template #caption>
    <div class="table-title-container">
      <h2>Layout templates</h2>
      <div class="table-title-container__actions-container">
        <p-button
          icon="pi pi-plus"
          iconPos="right"
          label="Create"
          (onClick)="navigateToCreatePage()"
        />
      </div>
    </div>
  </ng-template>
  <ng-template #header>
    <tr>
      <th>Id</th>
      <th>Name</th>
      <th>Description</th>
      <th>Created at</th>
      <th>Updated At</th>
    </tr>
  </ng-template>
  <ng-template #body let-template>
    <tr class="data-row" [pContextMenuRow]="template">
      <td>{{ template.id }}</td>
      <td>{{ template.name }}</td>
      <td>{{ template.description }}</td>
      <td>{{ template.createdAt | date }}</td>
      <td>{{ template.updatedAt | date }}</td>
      <a class="data-row__link-placeholder" [routerLink]="['.', template.id]"> </a>
    </tr>
  </ng-template>
</p-table>

<p-confirmdialog />
