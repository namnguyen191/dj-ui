import{e as a}from"./chunk-LMQLNWY7.js";import{Z as p,da as m,f as o,g as r,h as l,j as c}from"./chunk-RVPXDSFJ.js";var u=(()=>{class i{#t=new o;getEvents(){return this.#t.asObservable().pipe(c(l))}emitEvent(t){this.#t.next(t)}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var g=class{#t=m(u);#e={};startRegisteringTemplate(e){let t=this.#e[e],s={id:e,status:"loading",config:null};if(!t){let n=new r(s);this.#e[e]=n;return}t.next(s)}registerTemplate(e){let t=e.id,s=this.#e[t],n={id:t,status:"loaded",config:e};if(s){if(s.getValue().status==="loaded"){a(`Template with id of "${t}" has already been register. Please update it instead`);return}s.next(n);return}let d=new r(n);this.#e[t]=d}getTemplate(e){let t=this.#e[e];if(!t){this.#t.emitEvent({type:this.missingTemplateEvent,payload:{id:e}});let s=new r({id:e,status:"missing",config:null});return this.#e[e]=s,s.asObservable()}return t.asObservable()}updateTemplate(e){let t=e.id,s=this.#e[t],n=s?.getValue().status;if(!s||n!=="loaded"){a(`Template with id of "${t}" has not been register. Please register it instead`);return}s.next({id:t,status:"loaded",config:e})}updateOrRegisterTemplate(e){this.#e[e.id]?this.updateTemplate(e):this.registerTemplate(e)}};export{u as a,g as b};
