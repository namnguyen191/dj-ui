import{b as qe}from"./chunk-5BGIWNYG.js";import{a as We,e as He}from"./chunk-JQNNOW5S.js";import{d as Qe}from"./chunk-OXQFDIO2.js";import{d as Ye}from"./chunk-5EH4PHE6.js";import{g as Je}from"./chunk-ONUWX4Z3.js";import{e as Ve}from"./chunk-5SLFWW7S.js";import{a as Y,e as Fe,f as Q}from"./chunk-EWAYVCWY.js";import{g as ze}from"./chunk-7JQNGYFA.js";import{a as R,d as Ze,f as Be,v as X}from"./chunk-4YZRLV7F.js";import{$b as Ce,A as D,Ab as ke,Ba as Me,Bb as _e,Hc as P,I as H,Ic as y,Jb as je,Jc as J,Kb as xe,Lb as Ue,Lc as Ne,Nc as $e,O as Ie,Oc as Ge,Pc as Ke,Y as E,_ as z,_a as Ae,a as p,ac as De,b,da as v,e as u,f,g as S,gc as Le,h as U,ia as h,jb as Te,lb as Re,nb as Oe,o as Se,sa as ve,t as W,va as Pe,wa as V,y as d}from"./chunk-UJ7YJEPZ.js";function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xe(Object(n),!0).forEach(function(o){Ht(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function zt(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,i;for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function tt(e,t){if(e==null)return{};var n=zt(e,t),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function nt(e,t){return Vt(e)||Jt(e,t)||Yt(e,t)||Qt()}function Vt(e){if(Array.isArray(e))return e}function Jt(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],o=!0,r=!1,i=void 0;try{for(var a=e[Symbol.iterator](),s;!(o=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));o=!0);}catch(c){r=!0,i=c}finally{try{!o&&a.return!=null&&a.return()}finally{if(r)throw i}}return n}}function Yt(e,t){if(e){if(typeof e=="string")return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}}function et(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Qt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ot(Object(n),!0).forEach(function(o){Xt(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function en(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(r,i){return i(r)},o)}}function Z(e){return function t(){for(var n=this,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return r.length>=e.length?e.apply(this,r):function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return t.apply(n,[].concat(r,s))}}}function te(e){return{}.toString.call(e).includes("Object")}function tn(e){return!Object.keys(e).length}function B(e){return typeof e=="function"}function nn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function on(e,t){return te(t)||O("changeType"),Object.keys(t).some(function(n){return!nn(e,n)})&&O("changeField"),t}function rn(e){B(e)||O("selectorType")}function an(e){B(e)||te(e)||O("handlerType"),te(e)&&Object.values(e).some(function(t){return!B(t)})&&O("handlersType")}function sn(e){e||O("initialIsRequired"),te(e)||O("initialType"),tn(e)&&O("initialContent")}function cn(e,t){throw new Error(e[t]||e.default)}var ln={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},O=Z(cn)(ln),ee={changes:on,selector:rn,handler:an,initial:sn};function pn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ee.initial(e),ee.handler(t);var n={current:e},o=Z(mn)(n,t),r=Z(dn)(n),i=Z(ee.changes)(e),a=Z(un)(n);function s(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(m){return m};return ee.selector(l),l(n.current)}function c(l){en(o,r,i,a)(l)}return[s,c]}function un(e,t){return B(t)?t(e.current):t}function dn(e,t){return e.current=rt(rt({},e.current),t),t}function mn(e,t,n){return B(t)?t(e.current):Object.keys(n).forEach(function(o){var r;return(r=t[o])===null||r===void 0?void 0:r.call(t,e.current[o])}),n}var fn={create:pn},it=fn;var hn={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},at=hn;function gn(e){return function t(){for(var n=this,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return r.length>=e.length?e.apply(this,r):function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return t.apply(n,[].concat(r,s))}}}var st=gn;function yn(e){return{}.toString.call(e).includes("Object")}var ct=yn;function bn(e){return e||lt("configIsRequired"),ct(e)||lt("configType"),e.urls?(En(),{paths:{vs:e.urls.monacoBase}}):e}function En(){console.warn(pt.deprecation)}function wn(e,t){throw new Error(e[t]||e.default)}var pt={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},lt=st(wn)(pt),Sn={config:bn},ut=Sn;var In=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(r){return n.reduceRight(function(i,a){return a(i)},r)}},dt=In;function mt(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],mt(e[n],t[n]))}),me(me({},e),t)}var ft=mt;var vn={type:"cancelation",msg:"operation is manually canceled"};function Pn(e){var t=!1,n=new Promise(function(o,r){e.then(function(i){return t?r(vn):o(i)}),e.catch(r)});return n.cancel=function(){return t=!0},n}var ne=Pn;var Mn=it.create({config:at,isInitialized:!1,resolve:null,reject:null,monaco:null}),ht=nt(Mn,2),F=ht[0],oe=ht[1];function An(e){var t=ut.config(e),n=t.monaco,o=tt(t,["monaco"]);oe(function(r){return{config:ft(r.config,o),monaco:n}})}function Tn(){var e=F(function(t){var n=t.monaco,o=t.isInitialized,r=t.resolve;return{monaco:n,isInitialized:o,resolve:r}});if(!e.isInitialized){if(oe({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ne(fe);if(window.monaco&&window.monaco.editor)return gt(window.monaco),e.resolve(window.monaco),ne(fe);dt(Rn,kn)(_n)}return ne(fe)}function Rn(e){return document.body.appendChild(e)}function On(e){var t=document.createElement("script");return e&&(t.src=e),t}function kn(e){var t=F(function(o){var r=o.config,i=o.reject;return{config:r,reject:i}}),n=On("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function _n(){var e=F(function(n){var o=n.config,r=n.resolve,i=n.reject;return{config:o,resolve:r,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){gt(n),e.resolve(n)},function(n){e.reject(n)})}function gt(e){F().monaco||oe({monaco:e})}function jn(){return F(function(e){var t=e.monaco;return t})}var fe=new Promise(function(e,t){return oe({resolve:e,reject:t})}),xn={config:An,init:Tn,__getMonacoInstance:jn},he=xn;var yt=(()=>{var t,n,o,r,bt,re;let s=class s{constructor(){f(this,r);f(this,t,V(null));f(this,n,qe(u(this,t)).pipe(H(l=>l!==null)));f(this,o,{});U(this,r,bt).call(this)}async registerJSONSchema(l){let{schemaId:m,schemaFetcher:I}=l;if(u(this,o)[m])return;let A=await d(u(this,n)),T=await I();u(this,o)[m]=T;let j=Object.entries(u(this,o)).map(([x,de])=>({uri:x,fileMatch:[U(this,r,re).call(this,x)],schema:de}));A.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,allowComments:!0,schemas:j})}async getJSONModel(l){let{schemaId:m,initialValue:I=""}=l,A=await d(u(this,n));try{let T=A.Uri.parse(U(this,r,re).call(this,m)),j=A.editor.getModel(T)??A.editor.createModel("","json",A.Uri.parse(U(this,r,re).call(this,m)));return j.setValue(I),j}catch(T){throw console.error("Error getting JSON model: ",T),T}}async createEditor(l,m){return(await d(u(this,n))).editor.create(l,m)}};t=new WeakMap,n=new WeakMap,o=new WeakMap,r=new WeakSet,bt=function(){he.init().then(l=>{u(this,t).set(l)}).catch(l=>{console.error("Could not initialize Monaco using the @monaco-editor/loader: ",l)})},re=function(l){return`inmemory://model/${l}.json`},s.\u0275fac=function(m){return new(m||s)},s.\u0275prov=v({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();var Un=["editorContainer"],Et=(()=>{var t,n,o,r,wt;let a=class a{constructor(){f(this,r);f(this,t);f(this,n);f(this,o);this.monacoEditorService=h(yt),this.configs=Ge.required(),this.valueChanged=$e(),this.editorContainerSig=Ke.required("editorContainer"),this.editorInstanceResource=Ne({params:()=>({configs:this.configs()}),loader:({params:c})=>U(this,r,wt).call(this,c.configs)}),S(this,t,J(()=>{let c=this.editorInstanceResource.value();if(!c)return;let{valueChangeDebounceTime:l=500}=P(this.configs),m=Ze(()=>{let I=c.getValue();this.valueChanged.emit(I)},l);c.onDidChangeModelContent(m)})),S(this,o,J(c=>{let l=this.editorInstanceResource.value();u(this,n)?.dispose(),S(this,n,l),c(()=>{u(this,n)?.dispose()})}))}createWrapperElement(c){let l=document.createElement("div");return l.style.width="100%",l.style.height="100%",c.appendChild(l),l}};t=new WeakMap,n=new WeakMap,o=new WeakMap,r=new WeakSet,wt=async function(c){let l=P(this.editorContainerSig).nativeElement;for(;l.hasChildNodes()&&l.firstChild;)l.removeChild(l.firstChild);let m=this.createWrapperElement(l),I=await this.setupAndGetConfigs();return this.monacoEditorService.createEditor(m,p({theme:"vs-dark",wordWrap:"on",minimap:{enabled:!1},automaticLayout:!0,value:c.initialValue??"",readOnly:!!c.readonly},I))},a.\u0275fac=function(l){return new(l||a)},a.\u0275dir=Re({type:a,viewQuery:function(l,m){l&1&&Ce(m.editorContainerSig,Un,5),l&2&&De()},inputs:{configs:[1,"configs"]},outputs:{valueChanged:"valueChanged"}});let e=a;return e})();function Cn(e,t){e&1&&(je(0,"span"),Le(1,"Loading..."),xe())}var ar=(()=>{let t=class t extends Et{async setupAndGetConfigs(){let{schemaId:o,initialValue:r}=P(this.configs);return{language:"json",model:o?await this.monacoEditorService.getJSONModel({schemaId:o,initialValue:r}):void 0}}};t.\u0275fac=(()=>{let o;return function(i){return(o||(o=Me(t)))(i||t)}})(),t.\u0275cmp=Te({type:t,selectors:[["prime-ng-playground-shared-json-editor"]],features:[Oe],decls:3,vars:1,consts:[["editorContainer",""],[1,"editor-container"]],template:function(r,i){r&1&&(Ue(0,"div",1,0),ke(2,Cn,2,0,"span")),r&2&&(Ae(2),_e(i.editorInstanceResource.isLoading()?2:-1))},styles:["[_nghost-%COMP%]{height:100%;width:100%;display:flex}[_nghost-%COMP%]   .editor-container[_ngcontent-%COMP%]{flex-grow:1}"]});let e=t;return e})();var ie=class{#t;constructor(t){this.configs=t,this.#t=new Se({status:"idle",conn:null}),this.db$=this.#t.asObservable().pipe(Ie(2e3)),this.#e()}getRepo(t){return d(this.db$.pipe(H(n=>n.conn!==null),D(n=>new ge(n.conn,t))))}#e(){let t=this.#t.getValue();if(t.status==="ready"||t.status==="initializing")return;let n=indexedDB.open(this.configs.dbName,this.configs.dbVersion);n.onupgradeneeded=o=>{let r=o.target.result;for(let i of this.configs.stores)r.objectStoreNames.contains(i)||r.createObjectStore(i,{keyPath:"id",autoIncrement:!1})},n.onsuccess=()=>{this.#t.next({status:"ready",conn:n.result})},n.onerror=()=>{this.#t.next({status:"error",conn:null})}}},ge=class{#t;#e;constructor(t,n){this.getAll=()=>new Promise((o,r)=>{let s=this.#t.transaction(this.#e,"readonly").objectStore(this.#e).getAll();s.onsuccess=()=>{o(s.result)},s.onerror=()=>{r(s.error)}}),this.createOne=o=>new Promise((r,i)=>{let c=this.#t.transaction(this.#e,"readwrite").objectStore(this.#e).add(o);c.onsuccess=()=>{r(o)},c.onerror=()=>{i(c.error)}}),this.updateOne=o=>new Promise((r,i)=>{let c=this.#t.transaction(this.#e,"readwrite").objectStore(this.#e).put(o);c.onsuccess=()=>{r(o)},c.onerror=()=>{i(c.error)}}),this.#t=t,this.#e=n}getOne(t){return new Promise((n,o)=>{let a=this.#t.transaction(this.#e,"readonly").objectStore(this.#e).get(t);a.onsuccess=()=>{if(a.result===void 0){n(null);return}n(a.result)},a.onerror=()=>{o(a.error)}})}deleteOne(t){return new Promise((n,o)=>{let a=this.#t.transaction(this.#e,"readwrite").objectStore(this.#e).delete(t);a.onsuccess=()=>{n(a.result)},a.onerror=()=>{o(a.error)}})}clearAll(){return new Promise((t,n)=>{let i=this.#t.transaction(this.#e,"readwrite").objectStore(this.#e).clear();i.onsuccess=()=>{if(i.result===void 0){t();return}n(i.result)},i.onerror=()=>{n(i.error)}})}};function St(e){let t=P(()=>e());return Ln(t)?new Proxy(e,{get(n,o){return o in t?(Pe(n[o])||Object.defineProperty(n,o,{value:y(()=>n()[o]),configurable:!0}),St(n[o])):n[o]}}):e}var Dn=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function Ln(e){if(e===null||typeof e!="object"||Nn(e))return!1;let t=Object.getPrototypeOf(e);if(t===Object.prototype)return!0;for(;t&&t!==Object.prototype;){if(Dn.includes(t.constructor))return!1;t=Object.getPrototypeOf(t)}return t===Object.prototype}function Nn(e){return typeof e?.[Symbol.iterator]=="function"}var $n=new WeakMap,w=Symbol("STATE_SOURCE");function g(e,...t){e[w].update(n=>t.reduce((o,r)=>p(p({},o),typeof r=="function"?r(o):r),n)),qn(e)}function Gn(e){return e[w]()}function Kn(e){return $n.get(e[w])||[]}function qn(e){let t=Kn(e);for(let n of t){let o=P(()=>Gn(e));n(o)}}function ae(...e){let t=[...e],n=typeof t[0]=="function"?{}:t.shift(),o=t;return(()=>{class i{constructor(){let s=o.reduce((x,de)=>de(x),Zn()),{stateSignals:c,props:l,methods:m,hooks:I}=s,A=p(p(p({},c),l),m);this[w]=s[w];for(let x of Reflect.ownKeys(A))this[x]=A[x];let{onInit:T,onDestroy:j}=I;T&&T(),j&&h(ve).onDestroy(j)}static \u0275fac=function(c){return new(c||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:n.providedIn||null})}return i})()}function Zn(){return{[w]:V({}),stateSignals:{},props:{},methods:{},hooks:{}}}function N(e,...t){let n=typeof e=="function"?[e,...t]:t;return o=>n.reduce((r,i)=>i(r),o)}function Bn(e){return t=>{let n=e(p(p(p({[w]:t[w]},t.stateSignals),t.props),t.methods));return Reflect.ownKeys(n),b(p({},t),{props:p(p({},t.props),n)})}}function k(e){return Bn(e)}function se(e){return t=>{let n=p(p(p({[w]:t[w]},t.stateSignals),t.props),t.methods),o=typeof e=="function"?e(n):e,r=i=>{let a=o[i],s=t.hooks[i];return a?()=>{s&&s(),a(n)}:s};return b(p({},t),{hooks:{onInit:r("onInit"),onDestroy:r("onDestroy")}})}}function $(e){return t=>{let n=e(p(p(p({[w]:t[w]},t.stateSignals),t.props),t.methods));return Reflect.ownKeys(n),b(p({},t),{methods:p(p({},t.methods),n)})}}function _(e){return t=>{let n=typeof e=="function"?e():e,o=Reflect.ownKeys(n);t[w].update(i=>p(p({},i),n));let r=o.reduce((i,a)=>{let s=y(()=>t[w]()[a]);return b(p({},i),{[a]:St(s)})},{});return b(p({},t),{stateSignals:p(p({},t.stateSignals),r)})}}var M=function(e){return e[e.None=0]="None",e[e.Entities=1]="Entities",e[e.Both=2]="Both",e}(M||{}),Fn=e=>e.id;function It(e){return e?.selectId??Fn}function ce(e){let t=e?.collection,n=t===void 0?"entityMap":`${t}EntityMap`,o=t===void 0?"ids":`${t}Ids`,r=t===void 0?"entities":`${t}Entities`;return{entityMapKey:n,idsKey:o,entitiesKey:r}}function vt(e,t){return{entityMap:p({},e[t.entityMapKey]),ids:[...e[t.idsKey]]}}function Pt(e,t,n){switch(n){case M.Both:return{[t.entityMapKey]:e.entityMap,[t.idsKey]:e.ids};case M.Entities:return{[t.entityMapKey]:e.entityMap};default:return{}}}function Mt(e,t,n,o=!0){let r=n(t);return e.entityMap[r]?(e.entityMap[r]=o?t:p(p({},e.entityMap[r]),t),M.Entities):(e.entityMap[r]=t,e.ids.push(r),M.Both)}function Wn(e,t,n,o=!0){let r=M.None;for(let i of t){let a=Mt(e,i,n,o);r!==M.Both&&(r=a)}return r}function Hn(e,t){let n=Array.isArray(t)?t:e.ids.filter(r=>t(e.entityMap[r])),o=M.None;for(let r of n)e.entityMap[r]&&(delete e.entityMap[r],o=M.Both);return o===M.Both&&(e.ids=e.ids.filter(r=>r in e.entityMap)),o}function At(e,t){let n=ce(t);return o=>{let r=vt(o,n),i=Hn(r,[e]);return Pt(r,n,i)}}function le(e,t){let n=It(t),o=ce(t);return r=>{let i=vt(r,o),a=Mt(i,e,n);return Pt(i,o,a)}}function Tt(e,t){let n=It(t),o=ce(t);return()=>{let r={entityMap:{},ids:[]};return Wn(r,e,n),{[o.entityMapKey]:r.entityMap,[o.idsKey]:r.ids}}}function Rt(e){let{entityMapKey:t,idsKey:n,entitiesKey:o}=ce(e);return N(_({[t]:{},[n]:[]}),k(r=>({[o]:y(()=>{let i=r[t]();return r[n]().map(s=>i[s])})})))}var G=()=>({requestStatus:"pending"}),C=()=>({requestStatus:"fulfilled"}),K=e=>({requestStatus:{error:e}}),Ot=()=>N(_({requestStatus:"idle"}),k(({requestStatus:e})=>({isPending:y(()=>e()==="pending"),isFulfilled:y(()=>e()==="fulfilled"),error:y(()=>{let t=e();return typeof t=="object"?t.error:null})})));var pe=e=>N(Rt(),Ot(),$(t=>{let n=e();return{loadAll:async()=>{if(!n.fetchAll)throw Error("fetchAll loader was not provided");g(t,G());try{let r=await n.fetchAll();return g(t,Tt(r),C()),r}catch(r){throw K("Something went wrong fetching all entities"),r}},get:async r=>{let a=P(t.entities).find(s=>s.id===r);if(a)return a;if(!n.fetch)throw Error("fetch loader was not provided");g(t,G());try{let s=await n.fetch(r);return g(t,le(s),C()),s}catch(s){let c=`Something went wrong fetching entity with id ${r}. Err: ${s}`;throw K(c),g(t,C()),Error(c)}},add:async r=>{if(!n.create)throw Error("create loader was not provided");g(t,G());try{let i=await n.create(r);return g(t,le(i),C()),i}catch(i){throw K("Something went wrong creating entity"),i}},change:async r=>{if(!n.update)throw Error("update loader was not provided");g(t,G());try{let i=await n.update(r);return g(t,le(i),C()),i}catch(i){throw K("Something went wrong updating entity"),i}},delete:async r=>{if(!n.delete)throw Error("delete loader was not provided");g(t,G());try{await n.delete(r),g(t,At(r),C())}catch(i){throw K(`Something went wrong deleting entity with id ${r}`),i}}}}));var kt={id:"POKEMON_PAGINATION.REMOTE_RESOURCE",name:"Pokemon remote resource with pagination",description:"A remote resource that fetches pokemon data with support for pagination",createdAt:"2025-04-05T17:07:36.743Z",stateSubscription:{watchedScopes:{global:["pokemonPagination"]},variables:{currentPage:"<${ return this.state?.global?.pokemonPagination?.selectedPage ?? 0 }$>",currentItemPerPage:"<${ return this.state?.global?.pokemonPagination?.pageLength ?? 10 }$>"}},options:{requests:[{fetcherId:"httpFetcher",configs:{endpoint:"https://beta.pokeapi.co/graphql/v1beta",method:"POST",body:{operationName:"GetPokemons",query:`<\${ return\`query GetPokemons {
  totalCount: pokemon_v2_pokemon_aggregate {
    aggregate {
      count
    }
  }
  pokemons: pokemon_v2_pokemon(offset: \${this.state.variables.currentPage*this.state.variables.currentItemPerPage}, limit: \${this.state.variables.currentItemPerPage}) {
    name
    id
    height
    pokemon_v2_pokemonabilities {
      pokemon_v2_ability {
        name
      }
    }
    pokemon_v2_pokemontypes {
      pokemon_v2_type {
        name
      }
    }
    pokemon_v2_pokemonsprites {
      sprites(path: "other.home.front_default")
    }
  }
}\`; }$>`}},interpolation:'<${ return{pokemons:this.$current.data.pokemons.map((rawPokemonData=>({id:rawPokemonData.id,name:rawPokemonData.name,height:rawPokemonData.height,image:{imageUrl:rawPokemonData.pokemon_v2_pokemonsprites[0].sprites,altLabel:"Image of "+rawPokemonData.name},abilities:rawPokemonData.pokemon_v2_pokemonabilities.map((abilityData=>abilityData.pokemon_v2_ability.name)).join(", "),types:rawPokemonData.pokemon_v2_pokemontypes.map((typeData=>typeData.pokemon_v2_type.name)).join(", ")}))),totalCount:this.$current.data.totalCount.aggregate.count}; }$>'}]}};var _t={id:"POKEMON_PARALLEL.REMOTE_RESOURCE",name:"Pokemon parallel remote resource",description:"A remote resource that fetches pokemon data using multiple requests in parallel",createdAt:"2025-04-05T17:07:36.743Z",stateSubscription:{watchedScopes:{global:["page"]}},options:{parallel:!0,requests:[{fetcherId:"httpFetcher",configs:{endpoint:"https://pokeapi.co/api/v2/pokemon/1",method:"GET"},interpolation:"<${ return this.$current }$>"},{fetcherId:"httpFetcher",configs:{endpoint:"https://pokeapi.co/api/v2/pokemon/2",method:"GET"},interpolation:"<${ return this.$current }$>"},{fetcherId:"httpFetcher",configs:{endpoint:"https://pokeapi.co/api/v2/pokemon/3",method:"GET"},interpolation:"<${ return this.$current }$>"}]}};var jt={id:"TOP_50_POKEMONS.REMOTE_RESOURCE",name:"Top 50 pokemons",description:"A remote resource that fetches pokemon data for the top 50 ones",createdAt:"2025-04-05T17:07:36.743Z",options:{requests:[{fetcherId:"httpFetcher",configs:{endpoint:"https://beta.pokeapi.co/graphql/v1beta",method:"POST",body:{operationName:"GetTop50Pokemons",query:'query GetTop50Pokemons { pokemons: pokemon_v2_pokemon(limit: 50) { name id height pokemon_v2_pokemonabilities { pokemon_v2_ability { name } } pokemon_v2_pokemontypes { pokemon_v2_type { name } } pokemon_v2_pokemonsprites { sprites(path: "other.home.front_default") } } }'}},interpolation:'<${ return{pokemons:this.$current.data.pokemons.map((rawPokemonData=>({id:rawPokemonData.id,name:rawPokemonData.name,height:rawPokemonData.height,image:{imageUrl:rawPokemonData.pokemon_v2_pokemonsprites[0].sprites,altLabel:"Image of "+rawPokemonData.name},abilities:rawPokemonData.pokemon_v2_pokemonabilities.map((abilityData=>abilityData.pokemon_v2_ability.name)).join(", "),types:rawPokemonData.pokemon_v2_pokemontypes.map((typeData=>typeData.pokemon_v2_type.name)).join(", ")})))} }$>'}]}};var xt={id:"US_POP_PAGINATION.REMOTE_RESOURCE",name:"US population pagination remote resource",description:"A remote resource that fetches US population data with support for pagination",createdAt:"2025-04-05T17:07:36.743Z",stateSubscription:{watchedScopes:{global:["page"]}},options:{requests:[{fetcherId:"httpFetcher",configs:{endpoint:"<${ return 'https://datausa.io/api/data?drilldowns=State&measures=Population&year=20' + (this.state.global.page?.pageSize ?? 20) }$>",method:"GET"},interpolation:"<${ return this.$current.data }$>"}],onSuccess:[{type:"addToState",payload:{scope:"global",data:{usPopulation:"<${ return [...this.state.global.usPopulation ?? [], ...this.$result] }$> "}}}]}};var Ut={id:"blue-diamond-neocaridina-image.PRIME_NG_SIMPLE_IMAGE",type:"SIMPLE_IMAGE",name:"Blue diamond neocaridina shrimp image",description:"An image of a blue diamond neocaridina shrimp",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{imageUrl:"https://www.bluecrownaqua.com/cdn/shop/products/Blue_dream_3.jpg?v=1539065881",altLabel:"Sulawesi Whitesock shrimp"}};var Ct={id:"home-introduction.PRIME_NG_SIMPLE_TEXT",type:"SIMPLE_TEXT",name:"Home introduction text",description:"An element that displays some simple text to give introduction about DJUI",createdAt:"2025-04-05T17:07:36.743Z",options:{textBlocks:[{type:"title",text:"Introduction",styles:{underline:!0}},{type:"paragraph",text:"DJ-UI: The Ultimate UI Builder Framework for Angular",styles:{weight:500,size:20}},{type:"paragraph",text:"DJ-UI is a powerful and flexible Angular library designed to help developers create their own UI builder platforms with ease. Whether you're building a low-code/no-code solution or a fully customizable design system, DJ-UI provides the essential tools to generate dynamic, interactive, and reusable UI components."},{type:"paragraph",text:"At its core, DJ-UI leverages JSON-based configuration to define layouts, components like cards, and even API calls\u2014allowing developers and end-users to create and modify UIs dynamically without writing extensive code. This makes it ideal for building intuitive, customizable, and scalable applications."},{type:"paragraph",text:"With its modular architecture and intuitive API, DJ-UI streamlines UI composition, state management, and event handling, enabling you to focus on innovation rather than boilerplate code."},{type:"paragraph",text:"Start crafting your own UI builder with DJ-UI today! \u{1F680}"}]}};var Dt={id:"mix-requests-table.PRIME_NG_SIMPLE_TABLE",type:"SIMPLE_TABLE",name:"Mix requests table",description:"A table that demonstrate how to combine multiple remote resources",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",remoteResourceIds:["POKEMON_PARALLEL.REMOTE_RESOURCE","US_POP_PAGINATION.REMOTE_RESOURCE"],options:{title:"US population over the year and pokemon data",columns:[{id:"state",label:"State"},{id:"year",label:"Year"},{id:"population",label:"Population"},{id:"id",label:"ID"},{id:"name",label:"Name"},{id:"height",label:"Height"},{id:"weight",label:"Weight"},{id:"types",label:"Types"}],rows:'<${ const pokemonRows=this.remoteResourcesStates?.results?.["POKEMON_PARALLEL.REMOTE_RESOURCE"]?.result?.map((({id:id,name:name,height:height,weight:weight,types:types})=>({id:id,name:name,height:height,weight:weight,types:types.map((typeObj=>typeObj.type.name)).join(", ")})))??[];const usPopulationRows=this.remoteResourcesStates?.results?.["US_POP_PAGINATION.REMOTE_RESOURCE"]?.result?.map((({State:state,Year:year,Population:population})=>({state:state,year:year,population:population})))??[];const missingPokemonRow={id:"No data",name:"No data",height:"No data",weight:"No data",types:"No data"};let combinedRows=usPopulationRows.map(((usPopRow,idx)=>{const matchingPokemonRow=pokemonRows[idx];if(matchingPokemonRow){return{...usPopRow,...matchingPokemonRow}}return{...usPopRow,...missingPokemonRow}}));return combinedRows; }$>'}};var Lt={id:"pokemon-in-memory-pagination-table.PRIME_NG_SIMPLE_TABLE",type:"SIMPLE_TABLE",name:"Pokemon in memory pagination table",description:"A table that fetch a bunch of pokemon using in-memory pagination",createdAt:"2025-04-05T17:07:36.743Z",remoteResourceIds:["TOP_50_POKEMONS.REMOTE_RESOURCE"],stateSubscription:{watchedScopes:{global:["pokemonInMemoryPagination"]},variables:{currentPage:"<${ return this.state?.global?.pokemonInMemoryPagination?.selectedPage ?? 0 }$>",currentItemPerPage:"<${ return this.state?.global?.pokemonInMemoryPagination?.pageLength ?? 10 }$>"}},options:{title:"Pokemon in-memory pagination table",styles:{fixedDataRowsHeight:"6rem"},columns:[{id:"id",label:"Id",disableResizable:!0},{id:"name",label:"Name"},{id:"height",label:"Height"},{id:"abilities",label:"Abilities"},{id:"types",label:"Types"},{id:"image",label:"Image",templateId:"pokemon-table-row-image.PRIME_NG_SIMPLE_IMAGE"}],rows:'<${ return this.remoteResourcesStates?.results?.["TOP_50_POKEMONS.REMOTE_RESOURCE"]?.result?.pokemons.slice(this.state.variables.currentPage * this.state.variables.currentItemPerPage, (this.state.variables.currentPage + 1) * this.state.variables.currentItemPerPage) ?? [] }$>',pagination:{totalDataLength:50,pageSizes:[10,15,25,50],currentPage:"<${ this.state.variables.currentPage ?? 1 }$>",currentPageLength:"<${ this.state.variables.currentItemPerPage ?? 0 }$>"}},eventsHooks:{paginationChanged:[{type:"addToState",payload:{scope:"global",data:{pokemonInMemoryPagination:"<${ return this.$eventOutput }$>"}}}]}};var Nt={id:"pokemon-server-side-pagination-table.PRIME_NG_SIMPLE_TABLE",type:"SIMPLE_TABLE",name:"Pokemon server-side pagination table",description:"A table that fetch a bunch of pokemon using server-side pagination",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",remoteResourceIds:["POKEMON_PAGINATION.REMOTE_RESOURCE"],stateSubscription:{watchedScopes:{global:["usPopPage"]}},options:{title:"Pokemon table with server-side pagination",stripes:!0,gridLines:!0,resizableColumns:!0,styles:{fixedDataRowsHeight:"6rem"},columns:[{id:"id",label:"Id",disableResizable:!0},{id:"name",label:"Name"},{id:"height",label:"Height"},{id:"abilities",label:"Abilities"},{id:"types",label:"Types"},{id:"image",label:"Image",templateId:"pokemon-table-row-image.PRIME_NG_SIMPLE_IMAGE"}],rows:'<${ return this.remoteResourcesStates?.results?.["POKEMON_PAGINATION.REMOTE_RESOURCE"]?.result?.pokemons ?? [] }$>',pagination:{totalDataLength:"<${ return this.remoteResourcesStates?.results?.['POKEMON_PAGINATION.REMOTE_RESOURCE']?.result?.totalCount ?? 0 }$>",pageSizes:[10,15,25,50]}},eventsHooks:{paginationChanged:[{type:"addToState",payload:{scope:"global",data:{pokemonPagination:"<${ return this.$eventOutput }$>"}}}]}};var $t={id:"pokemon-table-row-image.PRIME_NG_SIMPLE_IMAGE",type:"SIMPLE_IMAGE",name:"Pokemon table row image",description:"A simple image UI element meant to be used in the pokemon table",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{imageUrl:"This will be override by the table",altLabel:"This will be override by the table"}};var Gt={id:"purple-metallic-caridina-image.PRIME_NG_SIMPLE_IMAGE",type:"SIMPLE_IMAGE",name:"Purple metallic caridina shrimp image",description:"An image of a purple metallic caridina shrimp",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{imageUrl:"https://i.redd.it/orange-eye-purple-metallic-beauty-not-sharing-spinach-leaf-v0-t7xgyxu0af3b1.jpg?width=4032&format=pjpg&auto=webp&s=6c9d5a1ddc226afe389ee07a7ab206581213a104",altLabel:"Purple metallic caridina shrimp"}};var Kt={id:"sample-images-carousel.PRIME_NG_IMAGES_CAROUSEL",type:"IMAGES_CAROUSEL",name:"Sample images carousel",description:"A sample UIE that display a bunch of shrimps images in a carousel",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{images:["sulawesi-whitesock-image.PRIME_NG_SIMPLE_IMAGE","blue-diamond-neocaridina-image.PRIME_NG_SIMPLE_IMAGE","purple-metallic-caridina-image.PRIME_NG_SIMPLE_IMAGE",{imageUrl:"https://reefbuilders.com/wp-content/blogs.dir/1/files/2015/08/harlequin-shrimp-asterina-predator.jpg",altLabel:"Harlequin Shrimp"}]}};var qt={id:"sample-layout.SIMPLE_GRID_LAYOUT",type:"SIMPLE_GRID_LAYOUT",name:"Sample layout",description:"A simple grid layout that displays a bunch of different UI elements",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{grid:{gap:"1rem",padding:"0 10vw",rowHeight:"auto"},uiElementInstances:[{id:"1",uiElementTemplateId:"pokemon-server-side-pagination-table.PRIME_NG_SIMPLE_TABLE",positionAndSize:{cols:16}}]}};var Zt={id:"shrimps-introduction-card.PRIME_NG_CARD",type:"CARD",name:"Shrimps introduction card",description:"A card that introduces the shrimps keeping hobby",createdAt:"2025-04-05T17:07:36.743Z",options:{topBanner:{templateId:"sample-images-carousel.PRIME_NG_IMAGES_CAROUSEL"},title:"Welcome shrimp keeper!",subTitle:"A introduction to the art of shrimp keeping!",body:"Keeping shrimp in an aquarium is a delicate yet rewarding aspect of the hobby, blending beauty with balance. These tiny invertebrates not only add vibrant color and activity to tanks but also serve as natural cleaners, feeding on algae and detritus. Successful shrimp keeping requires stable water parameters, minimal pollutants, and plenty of hiding spots to support molting and breeding. Enthusiasts often cultivate planted tanks with driftwood and mosses to mimic natural habitats, creating a serene, self-sustaining ecosystem. With care and patience, shrimp-keeping becomes both a visual delight and a peaceful pursuit."}};var Bt={id:"sulawesi-whitesock-image.PRIME_NG_SIMPLE_IMAGE",type:"SIMPLE_IMAGE",name:"Sulawesi whitesock shrimp image",description:"An image of a Sulawesi whitesock shrimp",createdAt:"2025-04-05T17:07:36.743Z",updatedAt:"2025-04-05T17:07:36.743Z",options:{imageUrl:"https://upload.wikimedia.org/wikipedia/commons/f/fb/Caridina-dennerli.jpg",altLabel:"Sulawesi Whitesock shrimp",priority:!0}};var Ft=[qt,Nt,Bt,Ut,Gt,Kt,$t,Dt,Lt,Ct,Zt],Wt=[kt,_t,xt,jt];var lo="PRIME_NG_PLAYGROUND_LOCAL_DB",po=1,uo=["appUIElementTemplates","appRemoteResourceTemplates"],ue=(()=>{let t=class t extends ie{constructor(){super({stores:uo,dbName:lo,dbVersion:po})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ye=(()=>{var t,n,o;let r=class r{constructor(){f(this,t);f(this,n);f(this,o);S(this,t,h(Q)),S(this,n,h(ue)),S(this,o,W(u(this,n).getRepo("appRemoteResourceTemplates"))),this.getAllRemoteResourceTemplates=()=>u(this,o).pipe(E(a=>a.getAll())),this.createRemoteResourceTemplate=a=>{let s=b(p({},a),{createdAt:new Date().toISOString()});return u(this,o).pipe(E(c=>c.createOne(s)))},this.updateRemoteResourceTemplate=a=>this.fetchRemoteResourceTemplate(a.id).pipe(E(s=>{let c=b(p({},a),{createdAt:s.createdAt,updatedAt:new Date().toISOString()});return u(this,o).pipe(E(l=>l.updateOne(c)),z({next:()=>{u(this,t).updateOrRegisterTemplate(c)}}))}))}fetchRemoteResourceTemplate(a){return u(this,o).pipe(E(s=>s.getOne(a)),D(s=>{if(s===null)throw new Y({error:`Remote resource template with ID ${a} does not exist in indexed db`,status:404});return s}))}deleteRemoteResourceTemplate(a){return u(this,o).pipe(E(s=>s.deleteOne(a)))}async resetExampleTemplates(){let a=await d(u(this,o));for(let s of Wt){await a.deleteOne(s.id);let c=b(p({},s),{createdAt:new Date().toISOString()});await a.createOne(c)}}};t=new WeakMap,n=new WeakMap,o=new WeakMap,r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=v({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();var mo={query:{}},Ti=ae(_(mo),pe((e=h(ye))=>({fetchAll:()=>d(e.getAllRemoteResourceTemplates()),fetch:t=>d(e.fetchRemoteResourceTemplate(t)),create:t=>d(e.createRemoteResourceTemplate(t)),update:t=>d(e.updateRemoteResourceTemplate(t)),delete:t=>d(e.deleteRemoteResourceTemplate(t))})),k(({entities:e,query:t})=>({allRemoteResourceTemplatesInfo:y(()=>e().map(({id:n,createdAt:o,updatedAt:r,name:i,description:a})=>({id:n,createdAt:o,updatedAt:r,name:i,description:a}))),filteredRemoteResourceTemplates:y(()=>{let{id:n}=t();return e().filter(o=>n?o.id===n:!1)})})),$((e,t=h(ye),n=h(Q))=>({updateQuery:o=>{g(e,{query:o})},resetMockTemplates:async()=>{await t.resetExampleTemplates(),await e.loadAll(),n.clearAllTemplates()}})),se({onInit:({loadAll:e})=>{e()}}));var be=(()=>{var t,n,o;let r=class r{constructor(){f(this,t);f(this,n);f(this,o);S(this,t,h(X)),S(this,n,h(ue)),S(this,o,W(u(this,n).getRepo("appUIElementTemplates"))),this.getAllUIElementTemplates=()=>u(this,o).pipe(E(a=>a.getAll())),this.createUIElementTemplate=a=>{let s=b(p({},a),{createdAt:new Date().toISOString()});return u(this,o).pipe(E(c=>c.createOne(s)))},this.updateUIElementTemplate=a=>this.fetchUIElementTemplate(a.id).pipe(E(s=>{let c=b(p({},a),{createdAt:s.createdAt,updatedAt:new Date().toISOString()});return u(this,o).pipe(E(l=>l.updateOne(c)),z({next:()=>{u(this,t).updateOrRegisterTemplate(c)}}))}))}fetchUIElementTemplate(a){return u(this,o).pipe(E(s=>s.getOne(a)),D(s=>{if(s===null)throw new Y({error:`UI element template with ID ${a} does not exist in indexed db`,status:404});return s}))}deleteUIElementTemplate(a){return u(this,o).pipe(E(s=>s.deleteOne(a)))}async resetExampleTemplates(){let a=await d(u(this,o));for(let s of Ft){await a.deleteOne(s.id);let c=b(p({},s),{createdAt:new Date().toISOString()});await a.createOne(c)}}};t=new WeakMap,n=new WeakMap,o=new WeakMap,r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=v({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();var fo={query:{}},Ee=new Set([We]),Hi=ae(_(fo),pe((e=h(be))=>({fetchAll:()=>d(e.getAllUIElementTemplates()),fetch:t=>d(e.fetchUIElementTemplate(t)),create:t=>d(e.createUIElementTemplate(t)),update:t=>d(e.updateUIElementTemplate(t)),delete:t=>d(e.deleteUIElementTemplate(t))})),k(({entities:e,query:t})=>({allUIElementTemplatesInfo:y(()=>e().map(({id:n,createdAt:o,updatedAt:r,name:i,description:a,type:s})=>({id:n,type:s,createdAt:o,updatedAt:r,name:i,description:a}))),filteredUIElementTemplates:y(()=>{let{id:n,isLayout:o=!1}=t();return e().filter(r=>{let i=!0;return n&&(i=r.id===n),o&&(i=i&&Ee.has(r.type)),i})},{equal:Be})})),$((e,t=h(be),n=h(X))=>({updateQuery:o=>{g(e,{query:o})},resetMockTemplates:async()=>{await t.resetExampleTemplates(),await e.loadAll(),n.clearAllTemplates()}})),se({onInit:({loadAll:e})=>{e()}})),zi=({id:e,isLayout:t})=>n=>{let o=!0;return e&&(o=n.id===e),t?o=o&&Ee.has(n.type):o=o&&!Ee.has(n.type),o};var ho={SIMPLE_TEXT:"Simple text",SIMPLE_IMAGE:"Simple image",SIMPLE_TABLE:"Simple table",IMAGES_CAROUSEL:"Images carousel",CARD:"Card"},go={SIMPLE_GRID_LAYOUT:"Simple grid layout"},Ji=p(p({},go),ho);var yo=R.strictObject({createdAt:R.string(),updatedAt:R.string().optional()}),we=R.strictObject({name:R.string(),description:R.string()}),oa=R.strictObject({id:R.string()}).extend(yo.shape).extend(we.shape),q=e=>e.omit({id:!0,type:!0}).extend(we.shape),ra=q(Ye).describe("AppEditPrimeNgSimpleTableUIESchema"),ia=q(Qe).describe("AppEditPrimeNgSimpleTextUIESchema"),aa=q(ze).describe("AppEditPrimeNgSimpleImageUIESchema"),sa=q(Ve).describe("AppEditPrimeNgImagesCarouselUIESchema"),ca=q(He).describe("AppEditSimpleGridUIESchema"),la=q(Je).describe("AppEditPrimeNgCardUIESchema"),pa=Fe.omit({id:!0}).extend(we.shape).describe("AppEditRemoteResourceSchema");export{yt as a,ar as b,Ti as c,Ee as d,Hi as e,zi as f,ho as g,go as h};
